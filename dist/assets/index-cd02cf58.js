function i_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function c1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wo={},s_={get exports(){return Wo},set exports(t){Wo=t}},xc={},w={},o_={get exports(){return w},set exports(t){w=t}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=Symbol.for("react.element"),a_=Symbol.for("react.portal"),l_=Symbol.for("react.fragment"),u_=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),h_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),f_=Symbol.for("react.forward_ref"),p_=Symbol.for("react.suspense"),m_=Symbol.for("react.memo"),g_=Symbol.for("react.lazy"),py=Symbol.iterator;function y_(t){return t===null||typeof t!="object"?null:(t=py&&t[py]||t["@@iterator"],typeof t=="function"?t:null)}var h1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d1=Object.assign,f1={};function $s(t,e,n){this.props=t,this.context=e,this.refs=f1,this.updater=n||h1}$s.prototype.isReactComponent={};$s.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$s.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p1(){}p1.prototype=$s.prototype;function Mp(t,e,n){this.props=t,this.context=e,this.refs=f1,this.updater=n||h1}var Lp=Mp.prototype=new p1;Lp.constructor=Mp;d1(Lp,$s.prototype);Lp.isPureReactComponent=!0;var my=Array.isArray,m1=Object.prototype.hasOwnProperty,Fp={current:null},g1={key:!0,ref:!0,__self:!0,__source:!0};function y1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)m1.call(e,r)&&!g1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ba,type:t,key:s,ref:o,props:i,_owner:Fp.current}}function v_(t,e){return{$$typeof:ba,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $p(t){return typeof t=="object"&&t!==null&&t.$$typeof===ba}function w_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gy=/\/+/g;function Ah(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w_(""+t.key):e.toString(36)}function jl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ba:case a_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ah(o,0):r,my(i)?(n="",t!=null&&(n=t.replace(gy,"$&/")+"/"),jl(i,e,n,"",function(u){return u})):i!=null&&($p(i)&&(i=v_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",my(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ah(s,a);o+=jl(s,e,n,l,i)}else if(l=y_(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ah(s,a++),o+=jl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dl(t,e,n){if(t==null)return t;var r=[],i=0;return jl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function E_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},Bl={transition:null},S_={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Bl,ReactCurrentOwner:Fp};X.Children={map:dl,forEach:function(t,e,n){dl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dl(t,function(){e++}),e},toArray:function(t){return dl(t,function(e){return e})||[]},only:function(t){if(!$p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=$s;X.Fragment=l_;X.Profiler=c_;X.PureComponent=Mp;X.StrictMode=u_;X.Suspense=p_;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S_;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=d1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)m1.call(e,l)&&!g1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ba,type:t.type,key:i,ref:s,props:r,_owner:o}};X.createContext=function(t){return t={$$typeof:d_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h_,_context:t},t.Consumer=t};X.createElement=y1;X.createFactory=function(t){var e=y1.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:f_,render:t}};X.isValidElement=$p;X.lazy=function(t){return{$$typeof:g_,_payload:{_status:-1,_result:t},_init:E_}};X.memo=function(t,e){return{$$typeof:m_,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Bl.transition;Bl.transition={};try{t()}finally{Bl.transition=e}};X.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};X.useCallback=function(t,e){return yt.current.useCallback(t,e)};X.useContext=function(t){return yt.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};X.useEffect=function(t,e){return yt.current.useEffect(t,e)};X.useId=function(){return yt.current.useId()};X.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return yt.current.useMemo(t,e)};X.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};X.useRef=function(t){return yt.current.useRef(t)};X.useState=function(t){return yt.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return yt.current.useTransition()};X.version="18.2.0";(function(t){t.exports=X})(o_);const C=c1(w),Vd=i_({__proto__:null,default:C},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_=w,C_=Symbol.for("react.element"),k_=Symbol.for("react.fragment"),x_=Object.prototype.hasOwnProperty,__=T_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b_={key:!0,ref:!0,__self:!0,__source:!0};function v1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)x_.call(e,r)&&!b_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:C_,type:t,key:s,ref:o,props:i,_owner:__.current}}xc.Fragment=k_;xc.jsx=v1;xc.jsxs=v1;(function(t){t.exports=xc})(s_);const At=Wo.Fragment,E=Wo.jsx,F=Wo.jsxs;var Ud={},cu={},I_={get exports(){return cu},set exports(t){cu=t}},Ft={},jd={},P_={get exports(){return jd},set exports(t){jd=t}},w1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var H=O.length;O.push($);e:for(;0<H;){var z=H-1>>>1,le=O[z];if(0<i(le,$))O[z]=$,O[H]=le,H=z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],H=O.pop();if(H!==$){O[0]=H;e:for(var z=0,le=O.length,Hr=le>>>1;z<Hr;){var sn=2*(z+1)-1,Mi=O[sn],It=sn+1,Wr=O[It];if(0>i(Mi,H))It<le&&0>i(Wr,Mi)?(O[z]=Wr,O[It]=H,z=It):(O[z]=Mi,O[sn]=H,z=sn);else if(It<le&&0>i(Wr,H))O[z]=Wr,O[It]=H,z=It;else break e}}return $}function i(O,$){var H=O.sortIndex-$.sortIndex;return H!==0?H:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,g=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=O)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function S(O){if(v=!1,m(O),!g)if(n(l)!==null)g=!0,ye(k);else{var $=n(u);$!==null&&Xe(S,$.startTime-O)}}function k(O,$){g=!1,v&&(v=!1,y(_),_=-1),f=!0;var H=d;try{for(m($),h=n(l);h!==null&&(!(h.expirationTime>$)||O&&!G());){var z=h.callback;if(typeof z=="function"){h.callback=null,d=h.priorityLevel;var le=z(h.expirationTime<=$);$=t.unstable_now(),typeof le=="function"?h.callback=le:h===n(l)&&r(l),m($)}else r(l);h=n(l)}if(h!==null)var Hr=!0;else{var sn=n(u);sn!==null&&Xe(S,sn.startTime-$),Hr=!1}return Hr}finally{h=null,d=H,f=!1}}var x=!1,b=null,_=-1,D=5,R=-1;function G(){return!(t.unstable_now()-R<D)}function se(){if(b!==null){var O=t.unstable_now();R=O;var $=!0;try{$=b(!0,O)}finally{$?be():(x=!1,b=null)}}else x=!1}var be;if(typeof p=="function")be=function(){p(se)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,oe=ne.port2;ne.port1.onmessage=se,be=function(){oe.postMessage(null)}}else be=function(){T(se,0)};function ye(O){b=O,x||(x=!0,be())}function Xe(O,$){_=T(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,ye(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var H=d;d=$;try{return O()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=d;d=O;try{return $()}finally{d=H}},t.unstable_scheduleCallback=function(O,$,H){var z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?z+H:z):H=z,O){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=H+le,O={id:c++,callback:$,priorityLevel:O,startTime:H,expirationTime:le,sortIndex:-1},H>z?(O.sortIndex=H,e(u,O),n(l)===null&&O===n(u)&&(v?(y(_),_=-1):v=!0,Xe(S,H-z))):(O.sortIndex=le,e(l,O),g||f||(g=!0,ye(k))),O},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(O){var $=d;return function(){var H=d;d=$;try{return O.apply(this,arguments)}finally{d=H}}}})(w1);(function(t){t.exports=w1})(P_);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1=w,Dt=jd;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S1=new Set,qo={};function bi(t,e){vs(t,e),vs(t+"Capture",e)}function vs(t,e){for(qo[t]=e,t=0;t<e.length;t++)S1.add(e[t])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bd=Object.prototype.hasOwnProperty,N_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yy={},vy={};function R_(t){return Bd.call(vy,t)?!0:Bd.call(yy,t)?!1:N_.test(t)?vy[t]=!0:(yy[t]=!0,!1)}function O_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function A_(t,e,n,r){if(e===null||typeof e>"u"||O_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vp=/[\-:]([a-z])/g;function Up(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vp,Up);Ge[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vp,Up);Ge[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vp,Up);Ge[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jp(t,e,n,r){var i=Ge.hasOwnProperty(e)?Ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(A_(e,n,i,r)&&(n=null),r||i===null?R_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wn=E1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fl=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),Bp=Symbol.for("react.strict_mode"),zd=Symbol.for("react.profiler"),T1=Symbol.for("react.provider"),C1=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),Hd=Symbol.for("react.suspense"),Wd=Symbol.for("react.suspense_list"),Hp=Symbol.for("react.memo"),Yn=Symbol.for("react.lazy"),k1=Symbol.for("react.offscreen"),wy=Symbol.iterator;function eo(t){return t===null||typeof t!="object"?null:(t=wy&&t[wy]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,Dh;function ho(t){if(Dh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dh=e&&e[1]||""}return`
`+Dh+t}var Mh=!1;function Lh(t,e){if(!t||Mh)return"";Mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ho(t):""}function D_(t){switch(t.tag){case 5:return ho(t.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return t=Lh(t.type,!1),t;case 11:return t=Lh(t.type.render,!1),t;case 1:return t=Lh(t.type,!0),t;default:return""}}function qd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ji:return"Fragment";case Ui:return"Portal";case zd:return"Profiler";case Bp:return"StrictMode";case Hd:return"Suspense";case Wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C1:return(t.displayName||"Context")+".Consumer";case T1:return(t._context.displayName||"Context")+".Provider";case zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hp:return e=t.displayName||null,e!==null?e:qd(t.type)||"Memo";case Yn:e=t._payload,t=t._init;try{return qd(t(e))}catch{}}return null}function M_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qd(e);case 8:return e===Bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function L_(t){var e=x1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pl(t){t._valueTracker||(t._valueTracker=L_(t))}function _1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=x1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kd(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ey(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b1(t,e){e=e.checked,e!=null&&jp(t,"checked",e,!1)}function Qd(t,e){b1(t,e);var n=Pr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gd(t,e.type,Pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gd(t,e,n){(e!=="number"||hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fo=Array.isArray;function ls(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ty(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(fo(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pr(n)}}function I1(t,e){var n=Pr(e.value),r=Pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function P1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ml,N1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ko(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F_=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(t){F_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Co[e]=Co[t]})});function R1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Co.hasOwnProperty(t)&&Co[t]?(""+e).trim():e+"px"}function O1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=R1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $_=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jd(t,e){if(e){if($_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Zd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ef=null;function Wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tf=null,us=null,cs=null;function ky(t){if(t=Na(t)){if(typeof tf!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Nc(e),tf(t.stateNode,t.type,e))}}function A1(t){us?cs?cs.push(t):cs=[t]:us=t}function D1(){if(us){var t=us,e=cs;if(cs=us=null,ky(t),e)for(t=0;t<e.length;t++)ky(e[t])}}function M1(t,e){return t(e)}function L1(){}var Fh=!1;function F1(t,e,n){if(Fh)return t(e,n);Fh=!0;try{return M1(t,e,n)}finally{Fh=!1,(us!==null||cs!==null)&&(L1(),D1())}}function Qo(t,e){var n=t.stateNode;if(n===null)return null;var r=Nc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var nf=!1;if(Mn)try{var to={};Object.defineProperty(to,"passive",{get:function(){nf=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{nf=!1}function V_(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ko=!1,du=null,fu=!1,rf=null,U_={onError:function(t){ko=!0,du=t}};function j_(t,e,n,r,i,s,o,a,l){ko=!1,du=null,V_.apply(U_,arguments)}function B_(t,e,n,r,i,s,o,a,l){if(j_.apply(this,arguments),ko){if(ko){var u=du;ko=!1,du=null}else throw Error(P(198));fu||(fu=!0,rf=u)}}function Ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xy(t){if(Ii(t)!==t)throw Error(P(188))}function z_(t){var e=t.alternate;if(!e){if(e=Ii(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xy(i),t;if(s===r)return xy(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function V1(t){return t=z_(t),t!==null?U1(t):null}function U1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U1(t);if(e!==null)return e;t=t.sibling}return null}var j1=Dt.unstable_scheduleCallback,_y=Dt.unstable_cancelCallback,H_=Dt.unstable_shouldYield,W_=Dt.unstable_requestPaint,_e=Dt.unstable_now,q_=Dt.unstable_getCurrentPriorityLevel,qp=Dt.unstable_ImmediatePriority,B1=Dt.unstable_UserBlockingPriority,pu=Dt.unstable_NormalPriority,K_=Dt.unstable_LowPriority,z1=Dt.unstable_IdlePriority,_c=null,dn=null;function Q_(t){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(_c,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:X_,G_=Math.log,Y_=Math.LN2;function X_(t){return t>>>=0,t===0?32:31-(G_(t)/Y_|0)|0}var gl=64,yl=4194304;function po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=po(a):(s&=o,s!==0&&(r=po(s)))}else o=n&~i,o!==0?r=po(o):s!==0&&(r=po(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function J_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=J_(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function sf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H1(){var t=gl;return gl<<=1,!(gl&4194240)&&(gl=64),t}function $h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ia(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function eb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ie=0;function W1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q1,Qp,K1,Q1,G1,of=!1,vl=[],dr=null,fr=null,pr=null,Go=new Map,Yo=new Map,rr=[],tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function by(t,e){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(e.pointerId)}}function no(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Na(e),e!==null&&Qp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nb(t,e,n,r,i){switch(e){case"focusin":return dr=no(dr,t,e,n,r,i),!0;case"dragenter":return fr=no(fr,t,e,n,r,i),!0;case"mouseover":return pr=no(pr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Go.set(s,no(Go.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yo.set(s,no(Yo.get(s)||null,t,e,n,r,i)),!0}return!1}function Y1(t){var e=ei(t.target);if(e!==null){var n=Ii(e);if(n!==null){if(e=n.tag,e===13){if(e=$1(n),e!==null){t.blockedOn=e,G1(t.priority,function(){K1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=af(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ef=r,n.target.dispatchEvent(r),ef=null}else return e=Na(n),e!==null&&Qp(e),t.blockedOn=n,!1;e.shift()}return!0}function Iy(t,e,n){zl(t)&&n.delete(e)}function rb(){of=!1,dr!==null&&zl(dr)&&(dr=null),fr!==null&&zl(fr)&&(fr=null),pr!==null&&zl(pr)&&(pr=null),Go.forEach(Iy),Yo.forEach(Iy)}function ro(t,e){t.blockedOn===e&&(t.blockedOn=null,of||(of=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,rb)))}function Xo(t){function e(i){return ro(i,t)}if(0<vl.length){ro(vl[0],t);for(var n=1;n<vl.length;n++){var r=vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dr!==null&&ro(dr,t),fr!==null&&ro(fr,t),pr!==null&&ro(pr,t),Go.forEach(e),Yo.forEach(e),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)Y1(n),n.blockedOn===null&&rr.shift()}var hs=Wn.ReactCurrentBatchConfig,gu=!0;function ib(t,e,n,r){var i=ie,s=hs.transition;hs.transition=null;try{ie=1,Gp(t,e,n,r)}finally{ie=i,hs.transition=s}}function sb(t,e,n,r){var i=ie,s=hs.transition;hs.transition=null;try{ie=4,Gp(t,e,n,r)}finally{ie=i,hs.transition=s}}function Gp(t,e,n,r){if(gu){var i=af(t,e,n,r);if(i===null)Qh(t,e,r,yu,n),by(t,r);else if(nb(i,t,e,n,r))r.stopPropagation();else if(by(t,r),e&4&&-1<tb.indexOf(t)){for(;i!==null;){var s=Na(i);if(s!==null&&q1(s),s=af(t,e,n,r),s===null&&Qh(t,e,r,yu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qh(t,e,r,null,n)}}var yu=null;function af(t,e,n,r){if(yu=null,t=Wp(r),t=ei(t),t!==null)if(e=Ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yu=t,null}function X1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q_()){case qp:return 1;case B1:return 4;case pu:case K_:return 16;case z1:return 536870912;default:return 16}default:return 16}}var ur=null,Yp=null,Hl=null;function J1(){if(Hl)return Hl;var t,e=Yp,n=e.length,r,i="value"in ur?ur.value:ur.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hl=i.slice(t,1<r?1-r:void 0)}function Wl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wl(){return!0}function Py(){return!1}function $t(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wl:Py,this.isPropagationStopped=Py,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),e}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=$t(Vs),Pa=Se({},Vs,{view:0,detail:0}),ob=$t(Pa),Vh,Uh,io,bc=Se({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==io&&(io&&t.type==="mousemove"?(Vh=t.screenX-io.screenX,Uh=t.screenY-io.screenY):Uh=Vh=0,io=t),Vh)},movementY:function(t){return"movementY"in t?t.movementY:Uh}}),Ny=$t(bc),ab=Se({},bc,{dataTransfer:0}),lb=$t(ab),ub=Se({},Pa,{relatedTarget:0}),jh=$t(ub),cb=Se({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),hb=$t(cb),db=Se({},Vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fb=$t(db),pb=Se({},Vs,{data:0}),Ry=$t(pb),mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yb[t])?!!e[t]:!1}function Jp(){return vb}var wb=Se({},Pa,{key:function(t){if(t.key){var e=mb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jp,charCode:function(t){return t.type==="keypress"?Wl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Eb=$t(wb),Sb=Se({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oy=$t(Sb),Tb=Se({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jp}),Cb=$t(Tb),kb=Se({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=$t(kb),_b=Se({},bc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bb=$t(_b),Ib=[9,13,27,32],Zp=Mn&&"CompositionEvent"in window,xo=null;Mn&&"documentMode"in document&&(xo=document.documentMode);var Pb=Mn&&"TextEvent"in window&&!xo,Z1=Mn&&(!Zp||xo&&8<xo&&11>=xo),Ay=String.fromCharCode(32),Dy=!1;function eE(t,e){switch(t){case"keyup":return Ib.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function Nb(t,e){switch(t){case"compositionend":return tE(e);case"keypress":return e.which!==32?null:(Dy=!0,Ay);case"textInput":return t=e.data,t===Ay&&Dy?null:t;default:return null}}function Rb(t,e){if(Bi)return t==="compositionend"||!Zp&&eE(t,e)?(t=J1(),Hl=Yp=ur=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z1&&e.locale!=="ko"?null:e.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ob[t.type]:e==="textarea"}function nE(t,e,n,r){A1(r),e=vu(e,"onChange"),0<e.length&&(n=new Xp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _o=null,Jo=null;function Ab(t){fE(t,0)}function Ic(t){var e=Wi(t);if(_1(e))return t}function Db(t,e){if(t==="change")return e}var rE=!1;if(Mn){var Bh;if(Mn){var zh="oninput"in document;if(!zh){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),zh=typeof Ly.oninput=="function"}Bh=zh}else Bh=!1;rE=Bh&&(!document.documentMode||9<document.documentMode)}function Fy(){_o&&(_o.detachEvent("onpropertychange",iE),Jo=_o=null)}function iE(t){if(t.propertyName==="value"&&Ic(Jo)){var e=[];nE(e,Jo,t,Wp(t)),F1(Ab,e)}}function Mb(t,e,n){t==="focusin"?(Fy(),_o=e,Jo=n,_o.attachEvent("onpropertychange",iE)):t==="focusout"&&Fy()}function Lb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ic(Jo)}function Fb(t,e){if(t==="click")return Ic(e)}function $b(t,e){if(t==="input"||t==="change")return Ic(e)}function Vb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:Vb;function Zo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bd.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function $y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vy(t,e){var n=$y(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$y(n)}}function sE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oE(){for(var t=window,e=hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hu(t.document)}return e}function em(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ub(t){var e=oE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sE(n.ownerDocument.documentElement,n)){if(r!==null&&em(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Vy(n,s);var o=Vy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jb=Mn&&"documentMode"in document&&11>=document.documentMode,zi=null,lf=null,bo=null,uf=!1;function Uy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uf||zi==null||zi!==hu(r)||(r=zi,"selectionStart"in r&&em(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bo&&Zo(bo,r)||(bo=r,r=vu(lf,"onSelect"),0<r.length&&(e=new Xp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zi)))}function El(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hi={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Hh={},aE={};Mn&&(aE=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Pc(t){if(Hh[t])return Hh[t];if(!Hi[t])return t;var e=Hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aE)return Hh[t]=e[n];return t}var lE=Pc("animationend"),uE=Pc("animationiteration"),cE=Pc("animationstart"),hE=Pc("transitionend"),dE=new Map,jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,e){dE.set(t,e),bi(e,[t])}for(var Wh=0;Wh<jy.length;Wh++){var qh=jy[Wh],Bb=qh.toLowerCase(),zb=qh[0].toUpperCase()+qh.slice(1);Fr(Bb,"on"+zb)}Fr(lE,"onAnimationEnd");Fr(uE,"onAnimationIteration");Fr(cE,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(hE,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function By(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,B_(r,e,void 0,t),t.currentTarget=null}function fE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;By(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;By(i,a,u),s=l}}}if(fu)throw t=rf,fu=!1,rf=null,t}function ue(t,e){var n=e[pf];n===void 0&&(n=e[pf]=new Set);var r=t+"__bubble";n.has(r)||(pE(e,t,2,!1),n.add(r))}function Kh(t,e,n){var r=0;e&&(r|=4),pE(n,t,r,e)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function ea(t){if(!t[Sl]){t[Sl]=!0,S1.forEach(function(n){n!=="selectionchange"&&(Hb.has(n)||Kh(n,!1,t),Kh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sl]||(e[Sl]=!0,Kh("selectionchange",!1,e))}}function pE(t,e,n,r){switch(X1(e)){case 1:var i=ib;break;case 4:i=sb;break;default:i=Gp}n=i.bind(null,e,n,t),i=void 0,!nf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ei(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}F1(function(){var u=s,c=Wp(n),h=[];e:{var d=dE.get(t);if(d!==void 0){var f=Xp,g=t;switch(t){case"keypress":if(Wl(n)===0)break e;case"keydown":case"keyup":f=Eb;break;case"focusin":g="focus",f=jh;break;case"focusout":g="blur",f=jh;break;case"beforeblur":case"afterblur":f=jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Cb;break;case lE:case uE:case cE:f=hb;break;case hE:f=xb;break;case"scroll":f=ob;break;case"wheel":f=bb;break;case"copy":case"cut":case"paste":f=fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Oy}var v=(e&4)!==0,T=!v&&t==="scroll",y=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,m;p!==null;){m=p;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,y!==null&&(S=Qo(p,y),S!=null&&v.push(ta(p,S,m)))),T)break;p=p.return}0<v.length&&(d=new f(d,g,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==ef&&(g=n.relatedTarget||n.fromElement)&&(ei(g)||g[Ln]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?ei(g):null,g!==null&&(T=Ii(g),g!==T||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=Ny,S="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Oy,S="onPointerLeave",y="onPointerEnter",p="pointer"),T=f==null?d:Wi(f),m=g==null?d:Wi(g),d=new v(S,p+"leave",f,n,c),d.target=T,d.relatedTarget=m,S=null,ei(c)===u&&(v=new v(y,p+"enter",g,n,c),v.target=m,v.relatedTarget=T,S=v),T=S,f&&g)t:{for(v=f,y=g,p=0,m=v;m;m=Li(m))p++;for(m=0,S=y;S;S=Li(S))m++;for(;0<p-m;)v=Li(v),p--;for(;0<m-p;)y=Li(y),m--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=Li(v),y=Li(y)}v=null}else v=null;f!==null&&zy(h,d,f,v,!1),g!==null&&T!==null&&zy(h,T,g,v,!0)}}e:{if(d=u?Wi(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var k=Db;else if(My(d))if(rE)k=$b;else{k=Lb;var x=Mb}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=Fb);if(k&&(k=k(t,u))){nE(h,k,n,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Gd(d,"number",d.value)}switch(x=u?Wi(u):window,t){case"focusin":(My(x)||x.contentEditable==="true")&&(zi=x,lf=u,bo=null);break;case"focusout":bo=lf=zi=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,Uy(h,n,c);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":Uy(h,n,c)}var b;if(Zp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bi?eE(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Z1&&n.locale!=="ko"&&(Bi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Bi&&(b=J1()):(ur=c,Yp="value"in ur?ur.value:ur.textContent,Bi=!0)),x=vu(u,_),0<x.length&&(_=new Ry(_,t,null,n,c),h.push({event:_,listeners:x}),b?_.data=b:(b=tE(n),b!==null&&(_.data=b)))),(b=Pb?Nb(t,n):Rb(t,n))&&(u=vu(u,"onBeforeInput"),0<u.length&&(c=new Ry("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=b))}fE(h,e)})}function ta(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qo(t,n),s!=null&&r.unshift(ta(t,s,i)),s=Qo(t,e),s!=null&&r.push(ta(t,s,i))),t=t.return}return r}function Li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Qo(n,s),l!=null&&o.unshift(ta(n,l,a))):i||(l=Qo(n,s),l!=null&&o.push(ta(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Wb=/\r\n?/g,qb=/\u0000|\uFFFD/g;function Hy(t){return(typeof t=="string"?t:""+t).replace(Wb,`
`).replace(qb,"")}function Tl(t,e,n){if(e=Hy(e),Hy(t)!==e&&n)throw Error(P(425))}function wu(){}var cf=null,hf=null;function df(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ff=typeof setTimeout=="function"?setTimeout:void 0,Kb=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(t){return Wy.resolve(null).then(t).catch(Gb)}:ff;function Gb(t){setTimeout(function(){throw t})}function Gh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xo(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Us=Math.random().toString(36).slice(2),cn="__reactFiber$"+Us,na="__reactProps$"+Us,Ln="__reactContainer$"+Us,pf="__reactEvents$"+Us,Yb="__reactListeners$"+Us,Xb="__reactHandles$"+Us;function ei(t){var e=t[cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ln]||n[cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qy(t);t!==null;){if(n=t[cn])return n;t=qy(t)}return e}t=n,n=t.parentNode}return null}function Na(t){return t=t[cn]||t[Ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Nc(t){return t[na]||null}var mf=[],qi=-1;function $r(t){return{current:t}}function ce(t){0>qi||(t.current=mf[qi],mf[qi]=null,qi--)}function ae(t,e){qi++,mf[qi]=t.current,t.current=e}var Nr={},ut=$r(Nr),Ct=$r(!1),fi=Nr;function ws(t,e){var n=t.type.contextTypes;if(!n)return Nr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kt(t){return t=t.childContextTypes,t!=null}function Eu(){ce(Ct),ce(ut)}function Ky(t,e,n){if(ut.current!==Nr)throw Error(P(168));ae(ut,e),ae(Ct,n)}function mE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,M_(t)||"Unknown",i));return Se({},n,r)}function Su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nr,fi=ut.current,ae(ut,t),ae(Ct,Ct.current),!0}function Qy(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=mE(t,e,fi),r.__reactInternalMemoizedMergedChildContext=t,ce(Ct),ce(ut),ae(ut,t)):ce(Ct),ae(Ct,n)}var xn=null,Rc=!1,Yh=!1;function gE(t){xn===null?xn=[t]:xn.push(t)}function Jb(t){Rc=!0,gE(t)}function Vr(){if(!Yh&&xn!==null){Yh=!0;var t=0,e=ie;try{var n=xn;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xn=null,Rc=!1}catch(i){throw xn!==null&&(xn=xn.slice(t+1)),j1(qp,Vr),i}finally{ie=e,Yh=!1}}return null}var Ki=[],Qi=0,Tu=null,Cu=0,jt=[],Bt=0,pi=null,_n=1,bn="";function Qr(t,e){Ki[Qi++]=Cu,Ki[Qi++]=Tu,Tu=t,Cu=e}function yE(t,e,n){jt[Bt++]=_n,jt[Bt++]=bn,jt[Bt++]=pi,pi=t;var r=_n;t=bn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var s=32-Jt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_n=1<<32-Jt(e)+i|n<<i|r,bn=s+t}else _n=1<<s|n<<i|r,bn=t}function tm(t){t.return!==null&&(Qr(t,1),yE(t,1,0))}function nm(t){for(;t===Tu;)Tu=Ki[--Qi],Ki[Qi]=null,Cu=Ki[--Qi],Ki[Qi]=null;for(;t===pi;)pi=jt[--Bt],jt[Bt]=null,bn=jt[--Bt],jt[Bt]=null,_n=jt[--Bt],jt[Bt]=null}var Ot=null,Nt=null,fe=!1,Xt=null;function vE(t,e){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Nt=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pi!==null?{id:_n,overflow:bn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,Nt=null,!0):!1;default:return!1}}function gf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yf(t){if(fe){var e=Nt;if(e){var n=e;if(!Gy(t,e)){if(gf(t))throw Error(P(418));e=mr(n.nextSibling);var r=Ot;e&&Gy(t,e)?vE(r,n):(t.flags=t.flags&-4097|2,fe=!1,Ot=t)}}else{if(gf(t))throw Error(P(418));t.flags=t.flags&-4097|2,fe=!1,Ot=t}}}function Yy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Cl(t){if(t!==Ot)return!1;if(!fe)return Yy(t),fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!df(t.type,t.memoizedProps)),e&&(e=Nt)){if(gf(t))throw wE(),Error(P(418));for(;e;)vE(t,e),e=mr(e.nextSibling)}if(Yy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Ot?mr(t.stateNode.nextSibling):null;return!0}function wE(){for(var t=Nt;t;)t=mr(t.nextSibling)}function Es(){Nt=Ot=null,fe=!1}function rm(t){Xt===null?Xt=[t]:Xt.push(t)}var Zb=Wn.ReactCurrentBatchConfig;function Gt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ku=$r(null),xu=null,Gi=null,im=null;function sm(){im=Gi=xu=null}function om(t){var e=ku.current;ce(ku),t._currentValue=e}function vf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ds(t,e){xu=t,im=Gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(im!==t)if(t={context:t,memoizedValue:e,next:null},Gi===null){if(xu===null)throw Error(P(308));Gi=t,xu.dependencies={lanes:0,firstContext:t}}else Gi=Gi.next=t;return e}var ti=null;function am(t){ti===null?ti=[t]:ti.push(t)}function EE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,am(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fn(t,r)}function Fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xn=!1;function lm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function On(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fn(t,n)}return i=r.interleaved,i===null?(e.next=e,am(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fn(t,n)}function ql(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}function Xy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _u(t,e,n,r){var i=t.updateQueue;Xn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(d=e,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=Se({},h,d);break e;case 2:Xn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gi|=o,t.lanes=o,t.memoizedState=h}}function Jy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var TE=new E1.Component().refs;function wf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Oc={isMounted:function(t){return(t=t._reactInternals)?Ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=vr(t),s=On(r,i);s.payload=e,n!=null&&(s.callback=n),e=gr(t,s,i),e!==null&&(Zt(e,t,i,r),ql(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=vr(t),s=On(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gr(t,s,i),e!==null&&(Zt(e,t,i,r),ql(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=vr(t),i=On(n,r);i.tag=2,e!=null&&(i.callback=e),e=gr(t,i,r),e!==null&&(Zt(e,t,r,n),ql(e,t,r))}};function Zy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zo(n,r)||!Zo(i,s):!0}function CE(t,e,n){var r=!1,i=Nr,s=e.contextType;return typeof s=="object"&&s!==null?s=Wt(s):(i=kt(e)?fi:ut.current,r=e.contextTypes,s=(r=r!=null)?ws(t,i):Nr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ev(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Oc.enqueueReplaceState(e,e.state,null)}function Ef(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=TE,lm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wt(s):(s=kt(e)?fi:ut.current,i.context=ws(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Oc.enqueueReplaceState(i,i.state,null),_u(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===TE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function kl(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tv(t){var e=t._init;return e(t._payload)}function kE(t){function e(y,p){if(t){var m=y.deletions;m===null?(y.deletions=[p],y.flags|=16):m.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=wr(y,p),y.index=0,y.sibling=null,y}function s(y,p,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<p?(y.flags|=2,p):m):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,m,S){return p===null||p.tag!==6?(p=rd(m,y.mode,S),p.return=y,p):(p=i(p,m),p.return=y,p)}function l(y,p,m,S){var k=m.type;return k===ji?c(y,p,m.props.children,S,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yn&&tv(k)===p.type)?(S=i(p,m.props),S.ref=so(y,p,m),S.return=y,S):(S=Jl(m.type,m.key,m.props,null,y.mode,S),S.ref=so(y,p,m),S.return=y,S)}function u(y,p,m,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=id(m,y.mode,S),p.return=y,p):(p=i(p,m.children||[]),p.return=y,p)}function c(y,p,m,S,k){return p===null||p.tag!==7?(p=ui(m,y.mode,S,k),p.return=y,p):(p=i(p,m),p.return=y,p)}function h(y,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=rd(""+p,y.mode,m),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case fl:return m=Jl(p.type,p.key,p.props,null,y.mode,m),m.ref=so(y,null,p),m.return=y,m;case Ui:return p=id(p,y.mode,m),p.return=y,p;case Yn:var S=p._init;return h(y,S(p._payload),m)}if(fo(p)||eo(p))return p=ui(p,y.mode,m,null),p.return=y,p;kl(y,p)}return null}function d(y,p,m,S){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(y,p,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fl:return m.key===k?l(y,p,m,S):null;case Ui:return m.key===k?u(y,p,m,S):null;case Yn:return k=m._init,d(y,p,k(m._payload),S)}if(fo(m)||eo(m))return k!==null?null:c(y,p,m,S,null);kl(y,m)}return null}function f(y,p,m,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(m)||null,a(p,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case fl:return y=y.get(S.key===null?m:S.key)||null,l(p,y,S,k);case Ui:return y=y.get(S.key===null?m:S.key)||null,u(p,y,S,k);case Yn:var x=S._init;return f(y,p,m,x(S._payload),k)}if(fo(S)||eo(S))return y=y.get(m)||null,c(p,y,S,k,null);kl(p,S)}return null}function g(y,p,m,S){for(var k=null,x=null,b=p,_=p=0,D=null;b!==null&&_<m.length;_++){b.index>_?(D=b,b=null):D=b.sibling;var R=d(y,b,m[_],S);if(R===null){b===null&&(b=D);break}t&&b&&R.alternate===null&&e(y,b),p=s(R,p,_),x===null?k=R:x.sibling=R,x=R,b=D}if(_===m.length)return n(y,b),fe&&Qr(y,_),k;if(b===null){for(;_<m.length;_++)b=h(y,m[_],S),b!==null&&(p=s(b,p,_),x===null?k=b:x.sibling=b,x=b);return fe&&Qr(y,_),k}for(b=r(y,b);_<m.length;_++)D=f(b,y,_,m[_],S),D!==null&&(t&&D.alternate!==null&&b.delete(D.key===null?_:D.key),p=s(D,p,_),x===null?k=D:x.sibling=D,x=D);return t&&b.forEach(function(G){return e(y,G)}),fe&&Qr(y,_),k}function v(y,p,m,S){var k=eo(m);if(typeof k!="function")throw Error(P(150));if(m=k.call(m),m==null)throw Error(P(151));for(var x=k=null,b=p,_=p=0,D=null,R=m.next();b!==null&&!R.done;_++,R=m.next()){b.index>_?(D=b,b=null):D=b.sibling;var G=d(y,b,R.value,S);if(G===null){b===null&&(b=D);break}t&&b&&G.alternate===null&&e(y,b),p=s(G,p,_),x===null?k=G:x.sibling=G,x=G,b=D}if(R.done)return n(y,b),fe&&Qr(y,_),k;if(b===null){for(;!R.done;_++,R=m.next())R=h(y,R.value,S),R!==null&&(p=s(R,p,_),x===null?k=R:x.sibling=R,x=R);return fe&&Qr(y,_),k}for(b=r(y,b);!R.done;_++,R=m.next())R=f(b,y,_,R.value,S),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?_:R.key),p=s(R,p,_),x===null?k=R:x.sibling=R,x=R);return t&&b.forEach(function(se){return e(y,se)}),fe&&Qr(y,_),k}function T(y,p,m,S){if(typeof m=="object"&&m!==null&&m.type===ji&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case fl:e:{for(var k=m.key,x=p;x!==null;){if(x.key===k){if(k=m.type,k===ji){if(x.tag===7){n(y,x.sibling),p=i(x,m.props.children),p.return=y,y=p;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yn&&tv(k)===x.type){n(y,x.sibling),p=i(x,m.props),p.ref=so(y,x,m),p.return=y,y=p;break e}n(y,x);break}else e(y,x);x=x.sibling}m.type===ji?(p=ui(m.props.children,y.mode,S,m.key),p.return=y,y=p):(S=Jl(m.type,m.key,m.props,null,y.mode,S),S.ref=so(y,p,m),S.return=y,y=S)}return o(y);case Ui:e:{for(x=m.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(y,p.sibling),p=i(p,m.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=id(m,y.mode,S),p.return=y,y=p}return o(y);case Yn:return x=m._init,T(y,p,x(m._payload),S)}if(fo(m))return g(y,p,m,S);if(eo(m))return v(y,p,m,S);kl(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,m),p.return=y,y=p):(n(y,p),p=rd(m,y.mode,S),p.return=y,y=p),o(y)):n(y,p)}return T}var Ss=kE(!0),xE=kE(!1),Ra={},fn=$r(Ra),ra=$r(Ra),ia=$r(Ra);function ni(t){if(t===Ra)throw Error(P(174));return t}function um(t,e){switch(ae(ia,e),ae(ra,t),ae(fn,Ra),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xd(e,t)}ce(fn),ae(fn,e)}function Ts(){ce(fn),ce(ra),ce(ia)}function _E(t){ni(ia.current);var e=ni(fn.current),n=Xd(e,t.type);e!==n&&(ae(ra,t),ae(fn,n))}function cm(t){ra.current===t&&(ce(fn),ce(ra))}var ve=$r(0);function bu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xh=[];function hm(){for(var t=0;t<Xh.length;t++)Xh[t]._workInProgressVersionPrimary=null;Xh.length=0}var Kl=Wn.ReactCurrentDispatcher,Jh=Wn.ReactCurrentBatchConfig,mi=0,Ee=null,Oe=null,je=null,Iu=!1,Io=!1,sa=0,eI=0;function Je(){throw Error(P(321))}function dm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function fm(t,e,n,r,i,s){if(mi=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kl.current=t===null||t.memoizedState===null?iI:sI,t=n(r,i),Io){s=0;do{if(Io=!1,sa=0,25<=s)throw Error(P(301));s+=1,je=Oe=null,e.updateQueue=null,Kl.current=oI,t=n(r,i)}while(Io)}if(Kl.current=Pu,e=Oe!==null&&Oe.next!==null,mi=0,je=Oe=Ee=null,Iu=!1,e)throw Error(P(300));return t}function pm(){var t=sa!==0;return sa=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ee.memoizedState=je=t:je=je.next=t,je}function qt(){if(Oe===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=je===null?Ee.memoizedState:je.next;if(e!==null)je=e,Oe=t;else{if(t===null)throw Error(P(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},je===null?Ee.memoizedState=je=t:je=je.next=t}return je}function oa(t,e){return typeof e=="function"?e(t):e}function Zh(t){var e=qt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Oe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((mi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ee.lanes|=c,gi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,gi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ed(t){var e=qt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tn(s,e.memoizedState)||(Tt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function bE(){}function IE(t,e){var n=Ee,r=qt(),i=e(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,Tt=!0),r=r.queue,mm(RE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,aa(9,NE.bind(null,n,r,i,e),void 0,null),ze===null)throw Error(P(349));mi&30||PE(n,e,i)}return i}function PE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NE(t,e,n,r){e.value=n,e.getSnapshot=r,OE(e)&&AE(t)}function RE(t,e,n){return n(function(){OE(e)&&AE(t)})}function OE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function AE(t){var e=Fn(t,1);e!==null&&Zt(e,t,1,-1)}function nv(t){var e=an();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},e.queue=t,t=t.dispatch=rI.bind(null,Ee,t),[e.memoizedState,t]}function aa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DE(){return qt().memoizedState}function Ql(t,e,n,r){var i=an();Ee.flags|=t,i.memoizedState=aa(1|e,n,void 0,r===void 0?null:r)}function Ac(t,e,n,r){var i=qt();r=r===void 0?null:r;var s=void 0;if(Oe!==null){var o=Oe.memoizedState;if(s=o.destroy,r!==null&&dm(r,o.deps)){i.memoizedState=aa(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=aa(1|e,n,s,r)}function rv(t,e){return Ql(8390656,8,t,e)}function mm(t,e){return Ac(2048,8,t,e)}function ME(t,e){return Ac(4,2,t,e)}function LE(t,e){return Ac(4,4,t,e)}function FE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $E(t,e,n){return n=n!=null?n.concat([t]):null,Ac(4,4,FE.bind(null,e,t),n)}function gm(){}function VE(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UE(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jE(t,e,n){return mi&21?(tn(n,e)||(n=H1(),Ee.lanes|=n,gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function tI(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=Jh.transition;Jh.transition={};try{t(!1),e()}finally{ie=n,Jh.transition=r}}function BE(){return qt().memoizedState}function nI(t,e,n){var r=vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zE(t))HE(e,n);else if(n=EE(t,e,n,r),n!==null){var i=gt();Zt(n,t,r,i),WE(n,e,r)}}function rI(t,e,n){var r=vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zE(t))HE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,o)){var l=e.interleaved;l===null?(i.next=i,am(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EE(t,e,i,r),n!==null&&(i=gt(),Zt(n,t,r,i),WE(n,e,r))}}function zE(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function HE(t,e){Io=Iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}var Pu={readContext:Wt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},iI={readContext:Wt,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:rv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ql(4194308,4,FE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ql(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ql(4,2,t,e)},useMemo:function(t,e){var n=an();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=an();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nI.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:nv,useDebugValue:gm,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=nv(!1),e=t[0];return t=tI.bind(null,t[1]),an().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=an();if(fe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),ze===null)throw Error(P(349));mi&30||PE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,rv(RE.bind(null,r,s,t),[t]),r.flags|=2048,aa(9,NE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=an(),e=ze.identifierPrefix;if(fe){var n=bn,r=_n;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sI={readContext:Wt,useCallback:VE,useContext:Wt,useEffect:mm,useImperativeHandle:$E,useInsertionEffect:ME,useLayoutEffect:LE,useMemo:UE,useReducer:Zh,useRef:DE,useState:function(){return Zh(oa)},useDebugValue:gm,useDeferredValue:function(t){var e=qt();return jE(e,Oe.memoizedState,t)},useTransition:function(){var t=Zh(oa)[0],e=qt().memoizedState;return[t,e]},useMutableSource:bE,useSyncExternalStore:IE,useId:BE,unstable_isNewReconciler:!1},oI={readContext:Wt,useCallback:VE,useContext:Wt,useEffect:mm,useImperativeHandle:$E,useInsertionEffect:ME,useLayoutEffect:LE,useMemo:UE,useReducer:ed,useRef:DE,useState:function(){return ed(oa)},useDebugValue:gm,useDeferredValue:function(t){var e=qt();return Oe===null?e.memoizedState=t:jE(e,Oe.memoizedState,t)},useTransition:function(){var t=ed(oa)[0],e=qt().memoizedState;return[t,e]},useMutableSource:bE,useSyncExternalStore:IE,useId:BE,unstable_isNewReconciler:!1};function Cs(t,e){try{var n="",r=e;do n+=D_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function td(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aI=typeof WeakMap=="function"?WeakMap:Map;function qE(t,e,n){n=On(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ru||(Ru=!0,Rf=r),Sf(t,e)},n}function KE(t,e,n){n=On(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sf(t,e),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=SI.bind(null,t,e,n),e.then(t,t))}function sv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ov(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=On(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var lI=Wn.ReactCurrentOwner,Tt=!1;function ft(t,e,n,r){e.child=t===null?xE(e,null,n,r):Ss(e,t.child,n,r)}function av(t,e,n,r,i){n=n.render;var s=e.ref;return ds(e,i),r=fm(t,e,n,r,s,i),n=pm(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(fe&&n&&tm(e),e.flags|=1,ft(t,e,r,i),e.child)}function lv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!km(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,QE(t,e,s,r,i)):(t=Jl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zo,n(o,r)&&t.ref===e.ref)return $n(t,e,i)}return e.flags|=1,t=wr(s,r),t.ref=e.ref,t.return=e,e.child=t}function QE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zo(s,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,$n(t,e,i)}return Tf(t,e,n,r,i)}function GE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Xi,Pt),Pt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Xi,Pt),Pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ae(Xi,Pt),Pt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ae(Xi,Pt),Pt|=r;return ft(t,e,i,n),e.child}function YE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tf(t,e,n,r,i){var s=kt(n)?fi:ut.current;return s=ws(e,s),ds(e,i),n=fm(t,e,n,r,s,i),r=pm(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(fe&&r&&tm(e),e.flags|=1,ft(t,e,n,i),e.child)}function uv(t,e,n,r,i){if(kt(n)){var s=!0;Su(e)}else s=!1;if(ds(e,i),e.stateNode===null)Gl(t,e),CE(e,n,r),Ef(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=kt(n)?fi:ut.current,u=ws(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ev(e,o,r,u),Xn=!1;var d=e.memoizedState;o.state=d,_u(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Ct.current||Xn?(typeof c=="function"&&(wf(e,n,c,r),l=e.memoizedState),(a=Xn||Zy(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Gt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=kt(n)?fi:ut.current,l=ws(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&ev(e,o,r,l),Xn=!1,d=e.memoizedState,o.state=d,_u(e,r,o,i);var g=e.memoizedState;a!==h||d!==g||Ct.current||Xn?(typeof f=="function"&&(wf(e,n,f,r),g=e.memoizedState),(u=Xn||Zy(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Cf(t,e,n,r,s,i)}function Cf(t,e,n,r,i,s){YE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Qy(e,n,!1),$n(t,e,s);r=e.stateNode,lI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ss(e,t.child,null,s),e.child=Ss(e,null,a,s)):ft(t,e,a,s),e.memoizedState=r.state,i&&Qy(e,n,!0),e.child}function XE(t){var e=t.stateNode;e.pendingContext?Ky(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ky(t,e.context,!1),um(t,e.containerInfo)}function cv(t,e,n,r,i){return Es(),rm(i),e.flags|=256,ft(t,e,n,r),e.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function JE(t,e,n){var r=e.pendingProps,i=ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ae(ve,i&1),t===null)return yf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lc(o,r,0,null),t=ui(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xf(n),e.memoizedState=kf,t):ym(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return uI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wr(a,s):(s=ui(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kf,r}return s=t.child,t=s.sibling,r=wr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ym(t,e){return e=Lc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xl(t,e,n,r){return r!==null&&rm(r),Ss(e,t.child,null,n),t=ym(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=td(Error(P(422))),xl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),s=ui(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ss(e,t.child,null,o),e.child.memoizedState=xf(o),e.memoizedState=kf,s);if(!(e.mode&1))return xl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=td(s,r,void 0),xl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tt||a){if(r=ze,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fn(t,i),Zt(r,t,i,-1))}return Cm(),r=td(Error(P(421))),xl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nt=mr(i.nextSibling),Ot=e,fe=!0,Xt=null,t!==null&&(jt[Bt++]=_n,jt[Bt++]=bn,jt[Bt++]=pi,_n=t.id,bn=t.overflow,pi=e),e=ym(e,r.children),e.flags|=4096,e)}function hv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vf(t.return,e,n)}function nd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ft(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hv(t,n,e);else if(t.tag===19)hv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nd(e,!0,n,null,s);break;case"together":nd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cI(t,e,n){switch(e.tag){case 3:XE(e),Es();break;case 5:_E(e);break;case 1:kt(e.type)&&Su(e);break;case 4:um(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ae(ku,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?JE(t,e,n):(ae(ve,ve.current&1),t=$n(t,e,n),t!==null?t.sibling:null);ae(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,GE(t,e,n)}return $n(t,e,n)}var eS,_f,tS,nS;eS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_f=function(){};tS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ni(fn.current);var s=null;switch(n){case"input":i=Kd(t,i),r=Kd(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=Yd(t,i),r=Yd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wu)}Jd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ue("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};nS=function(t,e,n,r){n!==r&&(e.flags|=4)};function oo(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hI(t,e,n){var r=e.pendingProps;switch(nm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return kt(e.type)&&Eu(),Ze(e),null;case 3:return r=e.stateNode,Ts(),ce(Ct),ce(ut),hm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(Df(Xt),Xt=null))),_f(t,e),Ze(e),null;case 5:cm(e);var i=ni(ia.current);if(n=e.type,t!==null&&e.stateNode!=null)tS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Ze(e),null}if(t=ni(fn.current),Cl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cn]=e,r[na]=s,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<mo.length;i++)ue(mo[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Ey(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":Ty(r,s),ue("invalid",r)}Jd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tl(r.textContent,a,t),i=["children",""+a]):qo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":pl(r),Sy(r,s,!0);break;case"textarea":pl(r),Cy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=P1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cn]=e,t[na]=r,eS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zd(n,r),n){case"dialog":ue("cancel",t),ue("close",t),i=r;break;case"iframe":case"object":case"embed":ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<mo.length;i++)ue(mo[i],t);i=r;break;case"source":ue("error",t),i=r;break;case"img":case"image":case"link":ue("error",t),ue("load",t),i=r;break;case"details":ue("toggle",t),i=r;break;case"input":Ey(t,r),i=Kd(t,r),ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),ue("invalid",t);break;case"textarea":Ty(t,r),i=Yd(t,r),ue("invalid",t);break;default:i=r}Jd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?O1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ko(t,l):typeof l=="number"&&Ko(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ue("scroll",t):l!=null&&jp(t,s,l,o))}switch(n){case"input":pl(t),Sy(t,r,!1);break;case"textarea":pl(t),Cy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ls(t,!!r.multiple,s,!1):r.defaultValue!=null&&ls(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)nS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=ni(ia.current),ni(fn.current),Cl(e)){if(r=e.stateNode,n=e.memoizedProps,r[cn]=e,(s=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:Tl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=e,e.stateNode=r}return Ze(e),null;case 13:if(ce(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fe&&Nt!==null&&e.mode&1&&!(e.flags&128))wE(),Es(),e.flags|=98560,s=!1;else if(s=Cl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[cn]=e}else Es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),s=!1}else Xt!==null&&(Df(Xt),Xt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?De===0&&(De=3):Cm())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return Ts(),_f(t,e),t===null&&ea(e.stateNode.containerInfo),Ze(e),null;case 10:return om(e.type._context),Ze(e),null;case 17:return kt(e.type)&&Eu(),Ze(e),null;case 19:if(ce(ve),s=e.memoizedState,s===null)return Ze(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)oo(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bu(t),o!==null){for(e.flags|=128,oo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(ve,ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&_e()>ks&&(e.flags|=128,r=!0,oo(s,!1),e.lanes=4194304)}else{if(!r)if(t=bu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!fe)return Ze(e),null}else 2*_e()-s.renderingStartTime>ks&&n!==1073741824&&(e.flags|=128,r=!0,oo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_e(),e.sibling=null,n=ve.current,ae(ve,r?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return Tm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pt&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function dI(t,e){switch(nm(e),e.tag){case 1:return kt(e.type)&&Eu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ts(),ce(Ct),ce(ut),hm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cm(e),null;case 13:if(ce(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(ve),null;case 4:return Ts(),null;case 10:return om(e.type._context),null;case 22:case 23:return Tm(),null;case 24:return null;default:return null}}var _l=!1,rt=!1,fI=typeof WeakSet=="function"?WeakSet:Set,A=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function bf(t,e,n){try{n()}catch(r){Te(t,e,r)}}var dv=!1;function pI(t,e){if(cf=gu,t=oE(),em(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hf={focusedElem:t,selectionRange:n},gu=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,T=g.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Gt(e.type,v),T);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){Te(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return g=dv,dv=!1,g}function Po(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bf(e,n,s)}i=i.next}while(i!==r)}}function Dc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function If(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rS(t){var e=t.alternate;e!==null&&(t.alternate=null,rS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cn],delete e[na],delete e[pf],delete e[Yb],delete e[Xb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iS(t){return t.tag===5||t.tag===3||t.tag===4}function fv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wu));else if(r!==4&&(t=t.child,t!==null))for(Pf(t,e,n),t=t.sibling;t!==null;)Pf(t,e,n),t=t.sibling}function Nf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nf(t,e,n),t=t.sibling;t!==null;)Nf(t,e,n),t=t.sibling}var We=null,Yt=!1;function Kn(t,e,n){for(n=n.child;n!==null;)sS(t,e,n),n=n.sibling}function sS(t,e,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(_c,n)}catch{}switch(n.tag){case 5:rt||Yi(n,e);case 6:var r=We,i=Yt;We=null,Kn(t,e,n),We=r,Yt=i,We!==null&&(Yt?(t=We,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Yt?(t=We,n=n.stateNode,t.nodeType===8?Gh(t.parentNode,n):t.nodeType===1&&Gh(t,n),Xo(t)):Gh(We,n.stateNode));break;case 4:r=We,i=Yt,We=n.stateNode.containerInfo,Yt=!0,Kn(t,e,n),We=r,Yt=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bf(n,e,o),i=i.next}while(i!==r)}Kn(t,e,n);break;case 1:if(!rt&&(Yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,e,a)}Kn(t,e,n);break;case 21:Kn(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Kn(t,e,n),rt=r):Kn(t,e,n);break;default:Kn(t,e,n)}}function pv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fI),e.forEach(function(r){var i=CI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Yt=!1;break e;case 3:We=a.stateNode.containerInfo,Yt=!0;break e;case 4:We=a.stateNode.containerInfo,Yt=!0;break e}a=a.return}if(We===null)throw Error(P(160));sS(s,o,i),We=null,Yt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oS(e,t),e=e.sibling}function oS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),on(t),r&4){try{Po(3,t,t.return),Dc(3,t)}catch(v){Te(t,t.return,v)}try{Po(5,t,t.return)}catch(v){Te(t,t.return,v)}}break;case 1:Qt(e,t),on(t),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(Qt(e,t),on(t),r&512&&n!==null&&Yi(n,n.return),t.flags&32){var i=t.stateNode;try{Ko(i,"")}catch(v){Te(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&b1(i,s),Zd(a,o);var u=Zd(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?O1(i,h):c==="dangerouslySetInnerHTML"?N1(i,h):c==="children"?Ko(i,h):jp(i,c,h,u)}switch(a){case"input":Qd(i,s);break;case"textarea":I1(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ls(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ls(i,!!s.multiple,s.defaultValue,!0):ls(i,!!s.multiple,s.multiple?[]:"",!1))}i[na]=s}catch(v){Te(t,t.return,v)}}break;case 6:if(Qt(e,t),on(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Te(t,t.return,v)}}break;case 3:if(Qt(e,t),on(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xo(e.containerInfo)}catch(v){Te(t,t.return,v)}break;case 4:Qt(e,t),on(t);break;case 13:Qt(e,t),on(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Em=_e())),r&4&&pv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(u=rt)||c,Qt(e,t),rt=u):Qt(e,t),on(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(A=t,c=t.child;c!==null;){for(h=A=c;A!==null;){switch(d=A,f=d.child,d.tag){case 0:case 11:case 14:case 15:Po(4,d,d.return);break;case 1:Yi(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Te(r,n,v)}}break;case 5:Yi(d,d.return);break;case 22:if(d.memoizedState!==null){gv(h);continue}}f!==null?(f.return=d,A=f):gv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=R1("display",o))}catch(v){Te(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Te(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qt(e,t),on(t),r&4&&pv(t);break;case 21:break;default:Qt(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iS(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ko(i,""),r.flags&=-33);var s=fv(t);Nf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fv(t);Pf(t,a,o);break;default:throw Error(P(161))}}catch(l){Te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mI(t,e,n){A=t,aS(t)}function aS(t,e,n){for(var r=(t.mode&1)!==0;A!==null;){var i=A,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_l;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rt;a=_l;var u=rt;if(_l=o,(rt=l)&&!u)for(A=i;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?yv(i):l!==null?(l.return=o,A=l):yv(i);for(;s!==null;)A=s,aS(s),s=s.sibling;A=i,_l=a,rt=u}mv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,A=s):mv(t)}}function mv(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||Dc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Jy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Xo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}rt||e.flags&512&&If(e)}catch(d){Te(e,e.return,d)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function gv(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function yv(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dc(4,e)}catch(l){Te(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Te(e,i,l)}}var s=e.return;try{If(e)}catch(l){Te(e,s,l)}break;case 5:var o=e.return;try{If(e)}catch(l){Te(e,o,l)}}}catch(l){Te(e,e.return,l)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var gI=Math.ceil,Nu=Wn.ReactCurrentDispatcher,vm=Wn.ReactCurrentOwner,Ht=Wn.ReactCurrentBatchConfig,Z=0,ze=null,Re=null,Ke=0,Pt=0,Xi=$r(0),De=0,la=null,gi=0,Mc=0,wm=0,No=null,Et=null,Em=0,ks=1/0,Cn=null,Ru=!1,Rf=null,yr=null,bl=!1,cr=null,Ou=0,Ro=0,Of=null,Yl=-1,Xl=0;function gt(){return Z&6?_e():Yl!==-1?Yl:Yl=_e()}function vr(t){return t.mode&1?Z&2&&Ke!==0?Ke&-Ke:Zb.transition!==null?(Xl===0&&(Xl=H1()),Xl):(t=ie,t!==0||(t=window.event,t=t===void 0?16:X1(t.type)),t):1}function Zt(t,e,n,r){if(50<Ro)throw Ro=0,Of=null,Error(P(185));Ia(t,n,r),(!(Z&2)||t!==ze)&&(t===ze&&(!(Z&2)&&(Mc|=n),De===4&&ir(t,Ke)),xt(t,r),n===1&&Z===0&&!(e.mode&1)&&(ks=_e()+500,Rc&&Vr()))}function xt(t,e){var n=t.callbackNode;Z_(t,e);var r=mu(t,t===ze?Ke:0);if(r===0)n!==null&&_y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_y(n),e===1)t.tag===0?Jb(vv.bind(null,t)):gE(vv.bind(null,t)),Qb(function(){!(Z&6)&&Vr()}),n=null;else{switch(W1(r)){case 1:n=qp;break;case 4:n=B1;break;case 16:n=pu;break;case 536870912:n=z1;break;default:n=pu}n=mS(n,lS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lS(t,e){if(Yl=-1,Xl=0,Z&6)throw Error(P(327));var n=t.callbackNode;if(fs()&&t.callbackNode!==n)return null;var r=mu(t,t===ze?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Au(t,r);else{e=r;var i=Z;Z|=2;var s=cS();(ze!==t||Ke!==e)&&(Cn=null,ks=_e()+500,li(t,e));do try{wI();break}catch(a){uS(t,a)}while(1);sm(),Nu.current=s,Z=i,Re!==null?e=0:(ze=null,Ke=0,e=De)}if(e!==0){if(e===2&&(i=sf(t),i!==0&&(r=i,e=Af(t,i))),e===1)throw n=la,li(t,0),ir(t,r),xt(t,_e()),n;if(e===6)ir(t,r);else{if(i=t.current.alternate,!(r&30)&&!yI(i)&&(e=Au(t,r),e===2&&(s=sf(t),s!==0&&(r=s,e=Af(t,s))),e===1))throw n=la,li(t,0),ir(t,r),xt(t,_e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Gr(t,Et,Cn);break;case 3:if(ir(t,r),(r&130023424)===r&&(e=Em+500-_e(),10<e)){if(mu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ff(Gr.bind(null,t,Et,Cn),e);break}Gr(t,Et,Cn);break;case 4:if(ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gI(r/1960))-r,10<r){t.timeoutHandle=ff(Gr.bind(null,t,Et,Cn),r);break}Gr(t,Et,Cn);break;case 5:Gr(t,Et,Cn);break;default:throw Error(P(329))}}}return xt(t,_e()),t.callbackNode===n?lS.bind(null,t):null}function Af(t,e){var n=No;return t.current.memoizedState.isDehydrated&&(li(t,e).flags|=256),t=Au(t,e),t!==2&&(e=Et,Et=n,e!==null&&Df(e)),t}function Df(t){Et===null?Et=t:Et.push.apply(Et,t)}function yI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(t,e){for(e&=~wm,e&=~Mc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function vv(t){if(Z&6)throw Error(P(327));fs();var e=mu(t,0);if(!(e&1))return xt(t,_e()),null;var n=Au(t,e);if(t.tag!==0&&n===2){var r=sf(t);r!==0&&(e=r,n=Af(t,r))}if(n===1)throw n=la,li(t,0),ir(t,e),xt(t,_e()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gr(t,Et,Cn),xt(t,_e()),null}function Sm(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(ks=_e()+500,Rc&&Vr())}}function yi(t){cr!==null&&cr.tag===0&&!(Z&6)&&fs();var e=Z;Z|=1;var n=Ht.transition,r=ie;try{if(Ht.transition=null,ie=1,t)return t()}finally{ie=r,Ht.transition=n,Z=e,!(Z&6)&&Vr()}}function Tm(){Pt=Xi.current,ce(Xi)}function li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Kb(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(nm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eu();break;case 3:Ts(),ce(Ct),ce(ut),hm();break;case 5:cm(r);break;case 4:Ts();break;case 13:ce(ve);break;case 19:ce(ve);break;case 10:om(r.type._context);break;case 22:case 23:Tm()}n=n.return}if(ze=t,Re=t=wr(t.current,null),Ke=Pt=e,De=0,la=null,wm=Mc=gi=0,Et=No=null,ti!==null){for(e=0;e<ti.length;e++)if(n=ti[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ti=null}return t}function uS(t,e){do{var n=Re;try{if(sm(),Kl.current=Pu,Iu){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Iu=!1}if(mi=0,je=Oe=Ee=null,Io=!1,sa=0,vm.current=null,n===null||n.return===null){De=1,la=e,Re=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=sv(o);if(f!==null){f.flags&=-257,ov(f,o,a,s,e),f.mode&1&&iv(s,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){iv(s,u,e),Cm();break e}l=Error(P(426))}}else if(fe&&a.mode&1){var T=sv(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ov(T,o,a,s,e),rm(Cs(l,a));break e}}s=l=Cs(l,a),De!==4&&(De=2),No===null?No=[s]:No.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=qE(s,l,e);Xy(s,y);break e;case 1:a=l;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(yr===null||!yr.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=KE(s,a,e);Xy(s,S);break e}}s=s.return}while(s!==null)}dS(n)}catch(k){e=k,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(1)}function cS(){var t=Nu.current;return Nu.current=Pu,t===null?Pu:t}function Cm(){(De===0||De===3||De===2)&&(De=4),ze===null||!(gi&268435455)&&!(Mc&268435455)||ir(ze,Ke)}function Au(t,e){var n=Z;Z|=2;var r=cS();(ze!==t||Ke!==e)&&(Cn=null,li(t,e));do try{vI();break}catch(i){uS(t,i)}while(1);if(sm(),Z=n,Nu.current=r,Re!==null)throw Error(P(261));return ze=null,Ke=0,De}function vI(){for(;Re!==null;)hS(Re)}function wI(){for(;Re!==null&&!H_();)hS(Re)}function hS(t){var e=pS(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,e===null?dS(t):Re=e,vm.current=null}function dS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dI(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Re=null;return}}else if(n=hI(n,e,Pt),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);De===0&&(De=5)}function Gr(t,e,n){var r=ie,i=Ht.transition;try{Ht.transition=null,ie=1,EI(t,e,n,r)}finally{Ht.transition=i,ie=r}return null}function EI(t,e,n,r){do fs();while(cr!==null);if(Z&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eb(t,s),t===ze&&(Re=ze=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bl||(bl=!0,mS(pu,function(){return fs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ht.transition,Ht.transition=null;var o=ie;ie=1;var a=Z;Z|=4,vm.current=null,pI(t,n),oS(n,t),Ub(hf),gu=!!cf,hf=cf=null,t.current=n,mI(n),W_(),Z=a,ie=o,Ht.transition=s}else t.current=n;if(bl&&(bl=!1,cr=t,Ou=i),s=t.pendingLanes,s===0&&(yr=null),Q_(n.stateNode),xt(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ru)throw Ru=!1,t=Rf,Rf=null,t;return Ou&1&&t.tag!==0&&fs(),s=t.pendingLanes,s&1?t===Of?Ro++:(Ro=0,Of=t):Ro=0,Vr(),null}function fs(){if(cr!==null){var t=W1(Ou),e=Ht.transition,n=ie;try{if(Ht.transition=null,ie=16>t?16:t,cr===null)var r=!1;else{if(t=cr,cr=null,Ou=0,Z&6)throw Error(P(331));var i=Z;for(Z|=4,A=t.current;A!==null;){var s=A,o=s.child;if(A.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Po(8,c,s)}var h=c.child;if(h!==null)h.return=c,A=h;else for(;A!==null;){c=A;var d=c.sibling,f=c.return;if(rS(c),c===u){A=null;break}if(d!==null){d.return=f,A=d;break}A=f}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}A=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,A=o;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Po(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,A=y;break e}A=s.return}}var p=t.current;for(A=p;A!==null;){o=A;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,A=m;else e:for(o=p;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dc(9,a)}}catch(k){Te(a,a.return,k)}if(a===o){A=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,A=S;break e}A=a.return}}if(Z=i,Vr(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(_c,t)}catch{}r=!0}return r}finally{ie=n,Ht.transition=e}}return!1}function wv(t,e,n){e=Cs(n,e),e=qE(t,e,1),t=gr(t,e,1),e=gt(),t!==null&&(Ia(t,1,e),xt(t,e))}function Te(t,e,n){if(t.tag===3)wv(t,t,n);else for(;e!==null;){if(e.tag===3){wv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){t=Cs(n,t),t=KE(e,t,1),e=gr(e,t,1),t=gt(),e!==null&&(Ia(e,1,t),xt(e,t));break}}e=e.return}}function SI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&(Ke&n)===n&&(De===4||De===3&&(Ke&130023424)===Ke&&500>_e()-Em?li(t,0):wm|=n),xt(t,e)}function fS(t,e){e===0&&(t.mode&1?(e=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):e=1);var n=gt();t=Fn(t,e),t!==null&&(Ia(t,e,n),xt(t,n))}function TI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fS(t,n)}function CI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),fS(t,n)}var pS;pS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,cI(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,fe&&e.flags&1048576&&yE(e,Cu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gl(t,e),t=e.pendingProps;var i=ws(e,ut.current);ds(e,n),i=fm(null,e,r,t,i,n);var s=pm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kt(r)?(s=!0,Su(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lm(e),i.updater=Oc,e.stateNode=i,i._reactInternals=e,Ef(e,r,t,n),e=Cf(null,e,r,!0,s,n)):(e.tag=0,fe&&s&&tm(e),ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xI(r),t=Gt(r,t),i){case 0:e=Tf(null,e,r,t,n);break e;case 1:e=uv(null,e,r,t,n);break e;case 11:e=av(null,e,r,t,n);break e;case 14:e=lv(null,e,r,Gt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),Tf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),uv(t,e,r,i,n);case 3:e:{if(XE(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SE(t,e),_u(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Cs(Error(P(423)),e),e=cv(t,e,r,n,i);break e}else if(r!==i){i=Cs(Error(P(424)),e),e=cv(t,e,r,n,i);break e}else for(Nt=mr(e.stateNode.containerInfo.firstChild),Ot=e,fe=!0,Xt=null,n=xE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===i){e=$n(t,e,n);break e}ft(t,e,r,n)}e=e.child}return e;case 5:return _E(e),t===null&&yf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,df(r,i)?o=null:s!==null&&df(r,s)&&(e.flags|=32),YE(t,e),ft(t,e,o,n),e.child;case 6:return t===null&&yf(e),null;case 13:return JE(t,e,n);case 4:return um(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ss(e,null,r,n):ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),av(t,e,r,i,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ae(ku,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!Ct.current){e=$n(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=On(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),vf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ds(e,n),i=Wt(i),r=r(i),e.flags|=1,ft(t,e,r,n),e.child;case 14:return r=e.type,i=Gt(r,e.pendingProps),i=Gt(r.type,i),lv(t,e,r,i,n);case 15:return QE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),Gl(t,e),e.tag=1,kt(r)?(t=!0,Su(e)):t=!1,ds(e,n),CE(e,r,i),Ef(e,r,i,n),Cf(null,e,r,!0,t,n);case 19:return ZE(t,e,n);case 22:return GE(t,e,n)}throw Error(P(156,e.tag))};function mS(t,e){return j1(t,e)}function kI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,n,r){return new kI(t,e,n,r)}function km(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xI(t){if(typeof t=="function")return km(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zp)return 11;if(t===Hp)return 14}return 2}function wr(t,e){var n=t.alternate;return n===null?(n=zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")km(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ji:return ui(n.children,i,s,e);case Bp:o=8,i|=8;break;case zd:return t=zt(12,n,e,i|2),t.elementType=zd,t.lanes=s,t;case Hd:return t=zt(13,n,e,i),t.elementType=Hd,t.lanes=s,t;case Wd:return t=zt(19,n,e,i),t.elementType=Wd,t.lanes=s,t;case k1:return Lc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T1:o=10;break e;case C1:o=9;break e;case zp:o=11;break e;case Hp:o=14;break e;case Yn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=zt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ui(t,e,n,r){return t=zt(7,t,r,e),t.lanes=n,t}function Lc(t,e,n,r){return t=zt(22,t,r,e),t.elementType=k1,t.lanes=n,t.stateNode={isHidden:!1},t}function rd(t,e,n){return t=zt(6,t,null,e),t.lanes=n,t}function id(t,e,n){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _I(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xm(t,e,n,r,i,s,o,a,l){return t=new _I(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lm(s),t}function bI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gS(t){if(!t)return Nr;t=t._reactInternals;e:{if(Ii(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(kt(n))return mE(t,n,e)}return e}function yS(t,e,n,r,i,s,o,a,l){return t=xm(n,r,!0,t,i,s,o,a,l),t.context=gS(null),n=t.current,r=gt(),i=vr(n),s=On(r,i),s.callback=e??null,gr(n,s,i),t.current.lanes=i,Ia(t,i,r),xt(t,r),t}function Fc(t,e,n,r){var i=e.current,s=gt(),o=vr(i);return n=gS(n),e.context===null?e.context=n:e.pendingContext=n,e=On(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gr(i,e,o),t!==null&&(Zt(t,i,o,s),ql(t,i,o)),o}function Du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ev(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _m(t,e){Ev(t,e),(t=t.alternate)&&Ev(t,e)}function II(){return null}var vS=typeof reportError=="function"?reportError:function(t){console.error(t)};function bm(t){this._internalRoot=t}$c.prototype.render=bm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Fc(t,e,null,null)};$c.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yi(function(){Fc(null,t,null,null)}),e[Ln]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rr.length&&e!==0&&e<rr[n].priority;n++);rr.splice(n,0,t),n===0&&Y1(t)}};function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function PI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Du(o);s.call(u)}}var o=yS(e,r,t,0,null,!1,!1,"",Sv);return t._reactRootContainer=o,t[Ln]=o.current,ea(t.nodeType===8?t.parentNode:t),yi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Du(l);a.call(u)}}var l=xm(t,0,!1,null,null,!1,!1,"",Sv);return t._reactRootContainer=l,t[Ln]=l.current,ea(t.nodeType===8?t.parentNode:t),yi(function(){Fc(e,l,n,r)}),l}function Uc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Du(o);a.call(l)}}Fc(e,o,t,i)}else o=PI(n,e,t,i,r);return Du(o)}q1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=po(e.pendingLanes);n!==0&&(Kp(e,n|1),xt(e,_e()),!(Z&6)&&(ks=_e()+500,Vr()))}break;case 13:yi(function(){var r=Fn(t,1);if(r!==null){var i=gt();Zt(r,t,1,i)}}),_m(t,1)}};Qp=function(t){if(t.tag===13){var e=Fn(t,134217728);if(e!==null){var n=gt();Zt(e,t,134217728,n)}_m(t,134217728)}};K1=function(t){if(t.tag===13){var e=vr(t),n=Fn(t,e);if(n!==null){var r=gt();Zt(n,t,e,r)}_m(t,e)}};Q1=function(){return ie};G1=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};tf=function(t,e,n){switch(e){case"input":if(Qd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nc(r);if(!i)throw Error(P(90));_1(r),Qd(r,i)}}}break;case"textarea":I1(t,n);break;case"select":e=n.value,e!=null&&ls(t,!!n.multiple,e,!1)}};M1=Sm;L1=yi;var NI={usingClientEntryPoint:!1,Events:[Na,Wi,Nc,A1,D1,Sm]},ao={findFiberByHostInstance:ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},RI={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V1(t),t===null?null:t.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||II,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{_c=Il.inject(RI),dn=Il}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NI;Ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(e))throw Error(P(200));return bI(t,e,null,n)};Ft.createRoot=function(t,e){if(!Im(t))throw Error(P(299));var n=!1,r="",i=vS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xm(t,1,!1,null,null,n,!1,r,i),t[Ln]=e.current,ea(t.nodeType===8?t.parentNode:t),new bm(e)};Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=V1(e),t=t===null?null:t.stateNode,t};Ft.flushSync=function(t){return yi(t)};Ft.hydrate=function(t,e,n){if(!Vc(e))throw Error(P(200));return Uc(null,t,e,!0,n)};Ft.hydrateRoot=function(t,e,n){if(!Im(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yS(e,null,t,1,n??null,i,!1,s,o),t[Ln]=e.current,ea(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $c(e)};Ft.render=function(t,e,n){if(!Vc(e))throw Error(P(200));return Uc(null,t,e,!1,n)};Ft.unmountComponentAtNode=function(t){if(!Vc(t))throw Error(P(40));return t._reactRootContainer?(yi(function(){Uc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ln]=null})}),!0):!1};Ft.unstable_batchedUpdates=Sm;Ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vc(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Uc(t,e,n,!1,r)};Ft.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Ft})(I_);const OI=c1(cu);var Tv=cu;Ud.createRoot=Tv.createRoot,Ud.hydrateRoot=Tv.hydrateRoot;function Mf(t,e){return Mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mf(t,e)}function Oa(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Mf(t,e)}var Aa=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function te(){return te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},te.apply(this,arguments)}var Mu=typeof window>"u";function tt(){}function AI(t,e){return typeof t=="function"?t(e):t}function Lf(t){return typeof t=="number"&&t>=0&&t!==1/0}function Lu(t){return Array.isArray(t)?t:[t]}function wS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zl(t,e,n){return jc(t)?typeof e=="function"?te({},n,{queryKey:t,queryFn:e}):te({},e,{queryKey:t}):t}function Jn(t,e,n){return jc(t)?[te({},e,{queryKey:t}),n]:[t||{},e]}function DI(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function Cv(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,l=t.stale;if(jc(a)){if(r){if(e.queryHash!==Pm(a,e.options))return!1}else if(!Fu(e.queryKey,a))return!1}var u=DI(n,s);if(u==="none")return!1;if(u!=="all"){var c=e.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function kv(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(jc(s)){if(!e.options.mutationKey)return!1;if(n){if(ri(e.options.mutationKey)!==ri(s))return!1}else if(!Fu(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Pm(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||ri;return n(t)}function ri(t){var e=Lu(t);return MI(e)}function MI(t){return JSON.stringify(t,function(e,n){return Ff(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function Fu(t,e){return ES(Lu(t),Lu(e))}function ES(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!ES(t[n],e[n])}):!1}function $u(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Ff(t)&&Ff(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,l=0;l<s;l++){var u=n?l:i[l];o[u]=$u(t[u],e[u]),o[u]===t[u]&&a++}return r===s&&a===r?t:o}return e}function LI(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function Ff(t){if(!xv(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!xv(n)||!n.hasOwnProperty("isPrototypeOf"))}function xv(t){return Object.prototype.toString.call(t)==="[object Object]"}function jc(t){return typeof t=="string"||Array.isArray(t)}function FI(t){return new Promise(function(e){setTimeout(e,t)})}function _v(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function SS(){if(typeof AbortController=="function")return new AbortController}var $I=function(t){Oa(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Mu&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Aa),Oo=new $I,VI=function(t){Oa(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Mu&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Aa),eu=new VI;function UI(t){return Math.min(1e3*Math.pow(2,t),3e4)}function Vu(t){return typeof(t==null?void 0:t.cancel)=="function"}var TS=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function tu(t){return t instanceof TS}var CS=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(d){return i==null?void 0:i(d)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(d,f){o=d,a=f});var l=function(f){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(f),s==null||s(),o(f))},u=function(f){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(f),s==null||s(),a(f))},c=function(){return new Promise(function(f){s=f,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function d(){if(!n.isResolved){var f;try{f=e.fn()}catch(g){f=Promise.reject(g)}i=function(v){if(!n.isResolved&&(u(new TS(v)),n.abort==null||n.abort(),Vu(f)))try{f.cancel()}catch{}},n.isTransportCancelable=Vu(f),Promise.resolve(f).then(l).catch(function(g){var v,T;if(!n.isResolved){var y=(v=e.retry)!=null?v:3,p=(T=e.retryDelay)!=null?T:UI,m=typeof p=="function"?p(n.failureCount,g):p,S=y===!0||typeof y=="number"&&n.failureCount<y||typeof y=="function"&&y(n.failureCount,g);if(r||!S){u(g);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,g),FI(m).then(function(){if(!Oo.isFocused()||!eu.isOnline())return c()}).then(function(){r?u(g):d()})}})}};h()},jI=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):_v(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&_v(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),Ce=new jI,kS=console;function Uu(){return kS}function BI(t){kS=t}var zI=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=te({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Lf(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=AI(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=$u(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(tt).catch(tt):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!wS(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var c=this.observers.find(function(p){return p.options.queryFn});c&&this.setOptions(c.options)}var h=Lu(this.queryKey),d=SS(),f={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(d)return s.abortSignalConsumed=!0,d.signal}});var g=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(f)):Promise.reject("Missing queryFn")},v={fetchOptions:i,options:this.options,queryKey:h,state:this.state,fetchFn:g,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var T;(T=this.options.behavior)==null||T.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=v.fetchOptions)==null?void 0:a.meta)){var y;this.dispatch({type:"fetch",meta:(y=v.fetchOptions)==null?void 0:y.meta})}return this.retryer=new CS({fn:v.fetchFn,abort:d==null||(l=d.abort)==null?void 0:l.bind(d),onSuccess:function(m){s.setData(m),s.cache.config.onSuccess==null||s.cache.config.onSuccess(m,s),s.cacheTime===0&&s.optionalRemove()},onError:function(m){tu(m)&&m.silent||s.dispatch({type:"error",error:m}),tu(m)||(s.cache.config.onError==null||s.cache.config.onError(m,s),Uu().error(m)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Ce.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return te({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return te({},r,{isPaused:!0});case"continue":return te({},r,{isPaused:!1});case"fetch":return te({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return te({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return tu(a)&&a.revert&&this.revertState?te({},this.revertState):te({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return te({},r,{isInvalidated:!0});case"setState":return te({},r,i.state);default:return r}},t}(),HI=function(t){Oa(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,l=s.queryKey,u=(a=s.queryHash)!=null?a:Pm(l,s),c=this.get(u);return c||(c=new zI({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(c)),c},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Ce.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=Jn(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return Cv(a,l)})},n.findAll=function(i,s){var o=Jn(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return Cv(a,l)}):this.queries},n.notify=function(i){var s=this;Ce.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;Ce.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;Ce.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(Aa),WI=function(){function t(n){this.options=te({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||qI(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(tt).catch(tt)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Uu().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new CS({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=KI(this.state,r),Ce.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function qI(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function KI(t,e){switch(e.type){case"failed":return te({},t,{failureCount:t.failureCount+1});case"pause":return te({},t,{isPaused:!0});case"continue":return te({},t,{isPaused:!1});case"loading":return te({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return te({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return te({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return te({},t,e.state);default:return t}}var QI=function(t){Oa(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new WI({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Ce.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return kv(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return kv(i,s)})},n.notify=function(i){var s=this;Ce.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Ce.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(tt)})},Promise.resolve())})},e}(Aa);function GI(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,c=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",d=(u==null?void 0:u.direction)==="backward",f=((o=e.state.data)==null?void 0:o.pages)||[],g=((a=e.state.data)==null?void 0:a.pageParams)||[],v=SS(),T=v==null?void 0:v.signal,y=g,p=!1,m=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(ne,oe,ye,Xe){return y=Xe?[oe].concat(y):[].concat(y,[oe]),Xe?[ye].concat(ne):[].concat(ne,[ye])},k=function(ne,oe,ye,Xe){if(p)return Promise.reject("Cancelled");if(typeof ye>"u"&&!oe&&ne.length)return Promise.resolve(ne);var O={queryKey:e.queryKey,signal:T,pageParam:ye,meta:e.meta},$=m(O),H=Promise.resolve($).then(function(le){return S(ne,ye,le,Xe)});if(Vu($)){var z=H;z.cancel=$.cancel}return H},x;if(!f.length)x=k([]);else if(h){var b=typeof c<"u",_=b?c:bv(e.options,f);x=k(f,b,_)}else if(d){var D=typeof c<"u",R=D?c:YI(e.options,f);x=k(f,D,R,!0)}else(function(){y=[];var be=typeof e.options.getNextPageParam>"u",ne=l&&f[0]?l(f[0],0,f):!0;x=ne?k([],be,g[0]):Promise.resolve(S([],g[0],f[0]));for(var oe=function(O){x=x.then(function($){var H=l&&f[O]?l(f[O],O,f):!0;if(H){var z=be?g[O]:bv(e.options,$);return k($,be,z)}return Promise.resolve(S($,g[O],f[O]))})},ye=1;ye<f.length;ye++)oe(ye)})();var G=x.then(function(be){return{pages:be,pageParams:y}}),se=G;return se.cancel=function(){p=!0,v==null||v.abort(),Vu(x)&&x.cancel()},G}}}}function bv(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function YI(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var XI=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new HI,this.mutationCache=n.mutationCache||new QI,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=Oo.subscribe(function(){Oo.isFocused()&&eu.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=eu.subscribe(function(){Oo.isFocused()&&eu.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=Jn(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(te({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=Zl(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Ce.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=Jn(r,i),o=s[0],a=this.queryCache;Ce.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=Jn(r,i,s),l=a[0],u=a[1],c=this.queryCache,h=te({},l,{active:!0});return Ce.batch(function(){return c.findAll(l).forEach(function(d){d.reset()}),o.refetchQueries(h,u)})},e.cancelQueries=function(r,i,s){var o=this,a=Jn(r,i,s),l=a[0],u=a[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var h=Ce.batch(function(){return o.queryCache.findAll(l).map(function(d){return d.cancel(c)})});return Promise.all(h).then(tt).catch(tt)},e.invalidateQueries=function(r,i,s){var o,a,l,u=this,c=Jn(r,i,s),h=c[0],d=c[1],f=te({},h,{active:(o=(a=h.refetchActive)!=null?a:h.active)!=null?o:!0,inactive:(l=h.refetchInactive)!=null?l:!1});return Ce.batch(function(){return u.queryCache.findAll(h).forEach(function(g){g.invalidate()}),u.refetchQueries(f,d)})},e.refetchQueries=function(r,i,s){var o=this,a=Jn(r,i,s),l=a[0],u=a[1],c=Ce.batch(function(){return o.queryCache.findAll(l).map(function(d){return d.fetch(void 0,te({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),h=Promise.all(c).then(tt);return u!=null&&u.throwOnError||(h=h.catch(tt)),h},e.fetchQuery=function(r,i,s){var o=Zl(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(tt).catch(tt)},e.fetchInfiniteQuery=function(r,i,s){var o=Zl(r,i,s);return o.behavior=GI(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(tt).catch(tt)},e.cancelMutations=function(){var r=this,i=Ce.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(tt).catch(tt)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return ri(r)===ri(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return Fu(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return ri(r)===ri(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return Fu(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=te({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Pm(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:te({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),JI=function(t){Oa(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Iv(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return $f(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return $f(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&Pv(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var o=this,a={},l=function(c){o.trackedProps.includes(c)||o.trackedProps.push(c)};return Object.keys(i).forEach(function(u){Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},n.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(u){u.isFetching||(l(),u.isError&&(i!=null&&i.throwOnError)?a(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(te({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(tt)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Mu||this.currentResult.isStale||!Lf(this.options.staleTime))){var s=wS(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Mu||this.options.enabled===!1||!Lf(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||Oo.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,h=i!==o,d=h?i.state:this.currentQueryInitialState,f=h?this.currentResult:this.previousQueryResult,g=i.state,v=g.dataUpdatedAt,T=g.error,y=g.errorUpdatedAt,p=g.isFetching,m=g.status,S=!1,k=!1,x;if(s.optimisticResults){var b=this.hasListeners(),_=!b&&Iv(i,s),D=b&&Pv(i,o,s,a);(_||D)&&(p=!0,v||(m="loading"))}if(s.keepPreviousData&&!g.dataUpdateCount&&(f!=null&&f.isSuccess)&&m!=="error")x=f.data,v=f.dataUpdatedAt,m=f.status,S=!0;else if(s.select&&typeof g.data<"u")if(l&&g.data===(u==null?void 0:u.data)&&s.select===this.selectFn)x=this.selectResult;else try{this.selectFn=s.select,x=s.select(g.data),s.structuralSharing!==!1&&(x=$u(l==null?void 0:l.data,x)),this.selectResult=x,this.selectError=null}catch(se){Uu().error(se),this.selectError=se}else x=g.data;if(typeof s.placeholderData<"u"&&typeof x>"u"&&(m==="loading"||m==="idle")){var R;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))R=l.data;else if(R=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof R<"u")try{R=s.select(R),s.structuralSharing!==!1&&(R=$u(l==null?void 0:l.data,R)),this.selectError=null}catch(se){Uu().error(se),this.selectError=se}typeof R<"u"&&(m="success",x=R,k=!0)}this.selectError&&(T=this.selectError,x=this.selectResult,y=Date.now(),m="error");var G={status:m,isLoading:m==="loading",isSuccess:m==="success",isError:m==="error",isIdle:m==="idle",data:x,dataUpdatedAt:v,error:T,errorUpdatedAt:y,failureCount:g.fetchFailureCount,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&m!=="loading",isLoadingError:m==="error"&&g.dataUpdatedAt===0,isPlaceholderData:k,isPreviousData:S,isRefetchError:m==="error"&&g.dataUpdatedAt!==0,isStale:Nm(i,s),refetch:this.refetch,remove:this.remove};return G},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var u=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(c){var h=c,d=i[h]!==s[h],f=u==null?void 0:u.some(function(v){return v===c}),g=l==null?void 0:l.some(function(v){return v===c});return d&&!g&&(!u||f)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!LI(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(te({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!tu(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;Ce.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(Aa);function ZI(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Iv(t,e){return ZI(t,e)||t.state.dataUpdatedAt>0&&$f(t,e,e.refetchOnMount)}function $f(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Nm(t,e)}return!1}function Pv(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Nm(t,n)}function Nm(t,e){return t.isStaleByTime(e.staleTime)}var eP=OI.unstable_batchedUpdates;Ce.setBatchNotifyFunction(eP);var tP=console;BI(tP);var Nv=C.createContext(void 0),xS=C.createContext(!1);function _S(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Nv),window.ReactQueryClientContext):Nv}var nP=function(){var e=C.useContext(_S(C.useContext(xS)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rP=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;C.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=_S(i);return C.createElement(xS.Provider,{value:i},C.createElement(o.Provider,{value:n},s))};function iP(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var sP=C.createContext(iP()),oP=function(){return C.useContext(sP)};function aP(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function lP(t,e){var n=C.useRef(!1),r=C.useState(0),i=r[1],s=nP(),o=oP(),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=Ce.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Ce.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Ce.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=C.useState(function(){return new e(s,a)}),u=l[0],c=u.getOptimisticResult(a);if(C.useEffect(function(){n.current=!0,o.clearReset();var h=u.subscribe(Ce.batchCalls(function(){n.current&&i(function(d){return d+1})}));return u.updateResult(),function(){n.current=!1,h()}},[o,u]),C.useEffect(function(){u.setOptions(a,{listeners:!1})},[a,u]),a.suspense&&c.isLoading)throw u.fetchOptimistic(a).then(function(h){var d=h.data;a.onSuccess==null||a.onSuccess(d),a.onSettled==null||a.onSettled(d,null)}).catch(function(h){o.clearReset(),a.onError==null||a.onError(h),a.onSettled==null||a.onSettled(void 0,h)});if(c.isError&&!o.isReset()&&!c.isFetching&&aP(a.suspense,a.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return a.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,a)),c}function Rm(t,e,n){var r=Zl(t,e,n);return lP(r,JI)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},IS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new cP;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hP=function(t){const e=bS(t);return IS.encodeByteArray(e,!0)},ju=function(t){return hP(t).replace(/\./g,"")},PS=function(t){try{return IS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=()=>dP().__FIREBASE_DEFAULTS__,pP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PS(t[1]);return e&&JSON.parse(e)},Om=()=>{try{return fP()||pP()||mP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NS=t=>{var e,n;return(n=(e=Om())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gP=t=>{const e=NS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yP=()=>{var t;return(t=Om())===null||t===void 0?void 0:t.config},RS=t=>{var e;return(e=Om())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ju(JSON.stringify(n)),ju(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function SP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CP(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kP(){try{return typeof indexedDB=="object"}catch{return!1}}function xP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="FirebaseError";class qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_P,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Da.prototype.create)}}class Da{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?bP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qn(i,a,r)}}function bP(t,e){return t.replace(IP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IP=/\{\$([^}]+)}/g;function PP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Rv(s)&&Rv(o)){if(!Bu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function go(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function yo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NP(t,e){const n=new RP(t,e);return n.subscribe.bind(n)}class RP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sd),i.error===void 0&&(i.error=sd),i.complete===void 0&&(i.complete=sd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return t&&t._delegate?t._delegate:t}class vi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MP(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DP(t){return t===Yr?void 0:t}function MP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const FP={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},$P=ee.INFO,VP={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},UP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Am{constructor(e){this.name=e,this._logLevel=$P,this._logHandler=UP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const jP=(t,e)=>e.some(n=>t instanceof n);let Ov,Av;function BP(){return Ov||(Ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zP(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OS=new WeakMap,Vf=new WeakMap,AS=new WeakMap,od=new WeakMap,Dm=new WeakMap;function HP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Er(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OS.set(n,t)}).catch(()=>{}),Dm.set(e,t),e}function WP(t){if(Vf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vf.set(t,e)}let Uf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qP(t){Uf=t(Uf)}function KP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ad(this),e,...n);return AS.set(r,e.sort?e.sort():[e]),Er(r)}:zP().includes(t)?function(...e){return t.apply(ad(this),e),Er(OS.get(this))}:function(...e){return Er(t.apply(ad(this),e))}}function QP(t){return typeof t=="function"?KP(t):(t instanceof IDBTransaction&&WP(t),jP(t,BP())?new Proxy(t,Uf):t)}function Er(t){if(t instanceof IDBRequest)return HP(t);if(od.has(t))return od.get(t);const e=QP(t);return e!==t&&(od.set(t,e),Dm.set(e,t)),e}const ad=t=>Dm.get(t);function GP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Er(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Er(o.result),l.oldVersion,l.newVersion,Er(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const YP=["get","getKey","getAll","getAllKeys","count"],XP=["put","add","delete","clear"],ld=new Map;function Dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ld.get(e))return ld.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ld.set(e,s),s}qP(t=>({...t,get:(e,n,r)=>Dv(e,n)||t.get(e,n,r),has:(e,n)=>!!Dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",Mv="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Am("@firebase/app"),eN="@firebase/app-compat",tN="@firebase/analytics-compat",nN="@firebase/analytics",rN="@firebase/app-check-compat",iN="@firebase/app-check",sN="@firebase/auth",oN="@firebase/auth-compat",aN="@firebase/database",lN="@firebase/database-compat",uN="@firebase/functions",cN="@firebase/functions-compat",hN="@firebase/installations",dN="@firebase/installations-compat",fN="@firebase/messaging",pN="@firebase/messaging-compat",mN="@firebase/performance",gN="@firebase/performance-compat",yN="@firebase/remote-config",vN="@firebase/remote-config-compat",wN="@firebase/storage",EN="@firebase/storage-compat",SN="@firebase/firestore",TN="@firebase/firestore-compat",CN="firebase",kN="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",xN={[jf]:"fire-core",[eN]:"fire-core-compat",[nN]:"fire-analytics",[tN]:"fire-analytics-compat",[iN]:"fire-app-check",[rN]:"fire-app-check-compat",[sN]:"fire-auth",[oN]:"fire-auth-compat",[aN]:"fire-rtdb",[lN]:"fire-rtdb-compat",[uN]:"fire-fn",[cN]:"fire-fn-compat",[hN]:"fire-iid",[dN]:"fire-iid-compat",[fN]:"fire-fcm",[pN]:"fire-fcm-compat",[mN]:"fire-perf",[gN]:"fire-perf-compat",[yN]:"fire-rc",[vN]:"fire-rc-compat",[wN]:"fire-gcs",[EN]:"fire-gcs-compat",[SN]:"fire-fst",[TN]:"fire-fst-compat","fire-js":"fire-js",[CN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Map,zf=new Map;function _N(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xs(t){const e=t.name;if(zf.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,t);for(const n of zu.values())_N(n,t);return!0}function Mm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Sr=new Da("app","Firebase",bN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=kN;function DS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Sr.create("bad-app-name",{appName:String(i)});if(n||(n=yP()),!n)throw Sr.create("no-options");const s=zu.get(i);if(s){if(Bu(n,s.options)&&Bu(r,s.config))return s;throw Sr.create("duplicate-app",{appName:i})}const o=new LP(i);for(const l of zf.values())o.addComponent(l);const a=new IN(n,r,o);return zu.set(i,a),a}function MS(t=Bf){const e=zu.get(t);if(!e&&t===Bf)return DS();if(!e)throw Sr.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let i=(r=xN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(a.join(" "));return}xs(new vi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="firebase-heartbeat-database",NN=1,ua="firebase-heartbeat-store";let ud=null;function LS(){return ud||(ud=GP(PN,NN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ua)}}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),ud}async function RN(t){try{return(await LS()).transaction(ua).objectStore(ua).get(FS(t))}catch(e){if(e instanceof qn)wi.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(n.message)}}}async function Lv(t,e){try{const r=(await LS()).transaction(ua,"readwrite");return await r.objectStore(ua).put(e,FS(t)),r.done}catch(n){if(n instanceof qn)wi.warn(n.message);else{const r=Sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(r.message)}}}function FS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1024,AN=30*24*60*60*1e3;class DN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=AN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fv(),{heartbeatsToSend:n,unsentEntries:r}=MN(this._heartbeatsCache.heartbeats),i=ju(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Fv(){return new Date().toISOString().substring(0,10)}function MN(t,e=ON){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$v(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$v(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kP()?xP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await RN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $v(t){return ju(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){xs(new vi("platform-logger",e=>new JP(e),"PRIVATE")),xs(new vi("heartbeat",e=>new DN(e),"PRIVATE")),Tr(jf,Mv,t),Tr(jf,Mv,"esm2017"),Tr("fire-js","")}FN("");var $N="firebase",VN="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr($N,VN,"app");function Lm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $S(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UN=$S,VS=new Da("auth","Firebase",$S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Am("@firebase/auth");function nu(t,...e){Vv.logLevel<=ee.ERROR&&Vv.error(`Auth (${La}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,...e){throw Fm(t,...e)}function pn(t,...e){return Fm(t,...e)}function jN(t,e,n){const r=Object.assign(Object.assign({},UN()),{[e]:n});return new Da("auth","Firebase",r).create(e,{appName:t.name})}function Fm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VS.create(t,...e)}function U(t,e,...n){if(!t)throw Fm(e,...n)}function In(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nu(e),new Error(e)}function Vn(t,e){t||In(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;function Pn(t){Vn(t instanceof Function,"Expected a class definition");let e=Uv.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Uv.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e){const n=Mm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bu(s,e??{}))return i;nn(i,"already-initialized")}return n.initialize({options:e})}function zN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HN(){return jv()==="http:"||jv()==="https:"}function jv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HN()||SP()||"connection"in navigator)?navigator.onLine:!0}function qN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=EP()||TP()}get(){return WN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new Fa(3e4,6e4);function js(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bs(t,e,n,r,i={}){return jS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ma(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),US.fetch()(BS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function jS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KN),e);try{const i=new GN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jN(t,c,u);nn(t,c)}}catch(i){if(i instanceof qn)throw i;nn(t,"network-request-failed",{message:String(i)})}}async function $a(t,e,n,r,i={}){const s=await Bs(t,e,n,r,i);return"mfaPendingCredential"in s&&nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function BS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$m(t.config,i):`${t.config.apiScheme}://${i}`}class GN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),QN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e){return Bs(t,"POST","/v1/accounts:delete",e)}async function XN(t,e){return Bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JN(t,e=!1){const n=$e(t),r=await n.getIdToken(e),i=Vm(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ao(cd(i.auth_time)),issuedAtTime:Ao(cd(i.iat)),expirationTime:Ao(cd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cd(t){return Number(t)*1e3}function Vm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const i=PS(n);return i?JSON.parse(i):(nu("Failed to decode base64 JWT payload"),null)}catch(i){return nu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZN(t){const e=Vm(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qn&&eR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _s(t,XN(n,{idToken:r}));U(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iR(s.providerUserInfo):[],a=rR(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zS(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function nR(t){const e=$e(t);await Hu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iR(t){return t.map(e=>{var{providerId:n}=e,r=Lm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t,e){const n=await jS(t,{},async()=>{const r=Ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",US.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return U(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await sR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ca;return r&&(U(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(U(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,e){U(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _s(this,this.stsTokenManager.getToken(this.auth,e));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JN(this,e)}reload(){return nR(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _s(this,YN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:m,emailVerified:S,isAnonymous:k,providerData:x,stsTokenManager:b}=n;U(m&&b,e,"internal-error");const _=ca.fromJSON(this.name,b);U(typeof m=="string",e,"internal-error"),Qn(h,e.name),Qn(d,e.name),U(typeof S=="boolean",e,"internal-error"),U(typeof k=="boolean",e,"internal-error"),Qn(f,e.name),Qn(g,e.name),Qn(v,e.name),Qn(T,e.name),Qn(y,e.name),Qn(p,e.name);const D=new ci({uid:m,auth:e,email:d,emailVerified:S,displayName:h,isAnonymous:k,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:p});return x&&Array.isArray(x)&&(D.providerData=x.map(R=>Object.assign({},R))),T&&(D._redirectEventId=T),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new ca;i.updateFromServerResponse(n);const s=new ci({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hu(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HS.type="NONE";const Bv=HS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e,n){return`firebase:${t}:${e}:${n}`}class ps{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ru(this.userKey,i.apiKey,s),this.fullPersistenceKey=ru("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ps(Pn(Bv),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Pn(Bv);const o=ru(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ci._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ps(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ps(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GS(e))return"Blackberry";if(YS(e))return"Webos";if(Um(e))return"Safari";if((e.includes("chrome/")||qS(e))&&!e.includes("edge/"))return"Chrome";if(QS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WS(t=ct()){return/firefox\//i.test(t)}function Um(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qS(t=ct()){return/crios\//i.test(t)}function KS(t=ct()){return/iemobile/i.test(t)}function QS(t=ct()){return/android/i.test(t)}function GS(t=ct()){return/blackberry/i.test(t)}function YS(t=ct()){return/webos/i.test(t)}function Bc(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oR(t=ct()){var e;return Bc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aR(){return CP()&&document.documentMode===10}function XS(t=ct()){return Bc(t)||QS(t)||YS(t)||GS(t)||/windows phone/i.test(t)||KS(t)}function lR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t,e=[]){let n;switch(t){case"Browser":n=zv(ct());break;case"Worker":n=`${zv(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${La}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new uR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ps.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?$e(e):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Da("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pn(e)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return U(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Va(t){return $e(t)}class Hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=NP(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hR(t,e,n){const r=Va(t);U(r._canInitEmulator,r,"emulator-config-failed"),U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ZS(e),{host:o,port:a}=dR(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||fR()}function ZS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dR(t){const e=ZS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Wv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Wv(o)}}}function Wv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return In("not implemented")}_getIdTokenResponse(e){return In("not implemented")}_linkToIdToken(e,n){return In("not implemented")}_getReauthenticationResolver(e){return In("not implemented")}}async function eT(t,e){return Bs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e){return $a(t,"POST","/v1/accounts:signInWithPassword",js(t,e))}async function mR(t,e){return Bs(t,"POST","/v1/accounts:sendOobCode",js(t,e))}async function gR(t,e){return mR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(t,e){return $a(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}async function vR(t,e){return $a(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends jm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ha(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ha(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return pR(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return yR(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return eT(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return vR(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(t,e){return $a(t,"POST","/v1/accounts:signInWithIdp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="http://localhost";class Ei extends jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Lm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ei(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ms(e,n)}buildRequest(){const e={requestUri:wR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SR(t){const e=go(yo(t)).link,n=e?go(yo(e)).deep_link_id:null,r=go(yo(t)).deep_link_id;return(r?go(yo(r)).link:null)||r||n||e||t}class Bm{constructor(e){var n,r,i,s,o,a;const l=go(yo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=ER((i=l.mode)!==null&&i!==void 0?i:null);U(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=SR(e);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.providerId=zs.PROVIDER_ID}static credential(e,n){return ha._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bm.parseLink(n);return U(r,"argument-error"),ha._fromEmailAndCode(e,r.code,r.tenantId)}}zs.PROVIDER_ID="password";zs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends tT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Ua{constructor(){super("facebook.com")}static credential(e){return Ei._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ei._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Ua{constructor(){super("github.com")}static credential(e){return Ei._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Ua{constructor(){super("twitter.com")}static credential(e,n){return Ei._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e){return $a(t,"POST","/v1/accounts:signUp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ci._fromIdTokenResponse(e,r,i),o=qv(r);return new Si({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qv(r);return new Si({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wu(e,n,r,i)}}function nT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wu._fromErrorAndOperation(t,s,e,r):s})}async function CR(t,e,n=!1){const r=await _s(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Si._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await _s(t,nT(r,i,e,t),n);U(s.idToken,r,"internal-error");const o=Vm(s.idToken);U(o,r,"internal-error");const{sub:a}=o;return U(t.uid===a,r,"user-mismatch"),Si._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(t,e,n=!1){const r="signIn",i=await nT(t,r,e),s=await Si._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function xR(t,e){return rT(Va(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e,n){var r;U(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),U(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(U(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(U(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iT(t,e,n){const r=$e(t),i={requestType:"PASSWORD_RESET",email:e};n&&_R(r,i,n),await gR(r,i)}async function bR(t,e,n){const r=Va(t),i=await TR(r,{returnSecureToken:!0,email:e,password:n}),s=await Si._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Kv(t,e,n){return xR($e(t),zs.credential(e,n))}function IR(t,e){return PR($e(t),e,null)}async function PR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await _s(t,eT(r,s));await t._updateTokensIfNecessary(o,!0)}function NR(t,e,n,r){return $e(t).onIdTokenChanged(e,n,r)}function RR(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function zm(t,e,n,r){return $e(t).onAuthStateChanged(e,n,r)}function OR(t){return $e(t).signOut()}const qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qu,"1"),this.storage.removeItem(qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){const t=ct();return Um(t)||Bc(t)}const DR=1e3,MR=10;class oT extends sT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AR()&&lR(),this.fallbackToPolling=XS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);aR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oT.type="LOCAL";const LR=oT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends sT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aT.type="SESSION";const lT=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await FR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Hm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return window}function VR(t){mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function UR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BR(){return uT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firebaseLocalStorageDb",zR=1,Ku="firebaseLocalStorage",hT="fbase_key";class ja{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hc(t,e){return t.transaction([Ku],e?"readwrite":"readonly").objectStore(Ku)}function HR(){const t=indexedDB.deleteDatabase(cT);return new ja(t).toPromise()}function Wf(){const t=indexedDB.open(cT,zR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ku,{keyPath:hT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ku)?e(r):(r.close(),await HR(),e(await Wf()))})})}async function Qv(t,e,n){const r=Hc(t,!0).put({[hT]:e,value:n});return new ja(r).toPromise()}async function WR(t,e){const n=Hc(t,!1).get(e),r=await new ja(n).toPromise();return r===void 0?null:r.value}function Gv(t,e){const n=Hc(t,!0).delete(e);return new ja(n).toPromise()}const qR=800,KR=3;class dT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(BR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UR(),!this.activeServiceWorker)return;this.sender=new $R(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wf();return await Qv(e,qu,"1"),await Gv(e,qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hc(i,!1).getAll();return new ja(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dT.type="LOCAL";const QR=dT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function YR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",GR().appendChild(r)})}function XR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Fa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e){return e?Pn(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZR(t){return rT(t.auth,new Wm(t),t.bypassAuthState)}function eO(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),kR(n,new Wm(t),t.bypassAuthState)}async function tO(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),CR(n,new Wm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZR;case"linkViaPopup":case"linkViaRedirect":return tO;case"reauthViaPopup":case"reauthViaRedirect":return eO;default:nn(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new Fa(2e3,1e4);class Ji extends fT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ji.currentPopupAction&&Ji.currentPopupAction.cancel(),Ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return U(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,nO.get())};e()}}Ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="pendingRedirect",iu=new Map;class iO extends fT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=iu.get(this.auth._key());if(!e){try{const r=await sO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}iu.set(this.auth._key(),e)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sO(t,e){const n=lO(e),r=aO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function oO(t,e){iu.set(t._key(),e)}function aO(t){return Pn(t._redirectPersistence)}function lO(t){return ru(rO,t.config.apiKey,t.name)}async function uO(t,e,n=!1){const r=Va(t),i=JR(r,e),o=await new iO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=10*60*1e3;class hO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(e))}saveEventToCache(e){this.cachedEventUids.add(Yv(e)),this.lastProcessedEventTime=Date.now()}}function Yv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e={}){return Bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mO=/^https?/;async function gO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fO(t);for(const n of e)try{if(yO(n))return}catch{}nn(t,"unauthorized-domain")}function yO(t){const e=Hf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mO.test(n))return!1;if(pO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Fa(3e4,6e4);function Xv(){const t=mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wO(t){return new Promise((e,n)=>{var r,i,s;function o(){Xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xv(),n(pn(t,"network-request-failed"))},timeout:vO.get()})}if(!((i=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mn().gapi)===null||s===void 0)&&s.load)o();else{const a=XR("iframefcb");return mn()[a]=()=>{gapi.load?o():n(pn(t,"network-request-failed"))},YR(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw su=null,e})}let su=null;function EO(t){return su=su||wO(t),su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Fa(5e3,15e3),TO="__/auth/iframe",CO="emulator/auth/iframe",kO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _O(t){const e=t.config;U(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$m(e,CO):`https://${t.config.authDomain}/${TO}`,r={apiKey:e.apiKey,appName:t.name,v:La},i=xO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ma(r).slice(1)}`}async function bO(t){const e=await EO(t),n=mn().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:_O(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=pn(t,"network-request-failed"),a=mn().setTimeout(()=>{s(o)},SO.get());function l(){mn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PO=500,NO=600,RO="_blank",OO="http://localhost";class Jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AO(t,e,n,r=PO,i=NO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IO),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ct().toLowerCase();n&&(a=qS(u)?RO:n),WS(u)&&(e=e||OO,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,g])=>`${d}${f}=${g},`,"");if(oR(u)&&a!=="_self")return DO(e||"",a),new Jv(null);const h=window.open(e||"",a,c);U(h,t,"popup-blocked");try{h.focus()}catch{}return new Jv(h)}function DO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="__/auth/handler",LO="emulator/auth/handler";function Zv(t,e,n,r,i,s){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:La,eventId:i};if(e instanceof tT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Ua){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${FO(t)}?${Ma(a).slice(1)}`}function FO({config:t}){return t.emulator?$m(t,LO):`https://${t.authDomain}/${MO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="webStorageSupport";class $O{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lT,this._completeRedirectFn=uO,this._overrideRedirectResult=oO}async _openPopup(e,n,r,i){var s;Vn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Zv(e,n,r,Hf(),i);return AO(e,o,Hm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),VR(Zv(e,n,r,Hf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bO(e),r=new hO(e);return n.register("authEvent",i=>(U(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hd,{type:hd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[hd];o!==void 0&&n(!!o),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XS()||Um()||Bc()}}const VO=$O;var e0="@firebase/auth",t0="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BO(t){xs(new vi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{U(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),U(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(t)},c=new cR(a,l,u);return zN(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xs(new vi("auth-internal",e=>{const n=Va(e.getProvider("auth").getImmediate());return(r=>new UO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(e0,t0,jO(t)),Tr(e0,t0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=5*60,HO=RS("authIdTokenMaxAge")||zO;let n0=null;const WO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HO)return;const i=n==null?void 0:n.token;n0!==i&&(n0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qO(t=MS()){const e=Mm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BN(t,{popupRedirectResolver:VO,persistence:[QR,LR,lT]}),r=RS("authTokenSyncURL");if(r){const s=WO(r);RR(n,s,()=>s(n.currentUser)),NR(n,o=>s(o))}const i=NS("auth");return i&&hR(n,`http://${i}`),n}BO("Browser");var KO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,qm=qm||{},W=KO||self;function Qu(){}function Wc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ba(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function QO(t){return Object.prototype.hasOwnProperty.call(t,dd)&&t[dd]||(t[dd]=++GO)}var dd="closure_uid_"+(1e9*Math.random()>>>0),GO=0;function YO(t,e,n){return t.call.apply(t.bind,arguments)}function XO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function at(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?at=YO:at=XO,at.apply(null,arguments)}function Nl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ye(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ur(){this.s=this.s,this.o=this.o}var JO=0;Ur.prototype.s=!1;Ur.prototype.na=function(){!this.s&&(this.s=!0,this.M(),JO!=0)&&QO(this)};Ur.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Km(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function r0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wc(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ZO=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{W.addEventListener("test",Qu,e),W.removeEventListener("test",Qu,e)}catch{}return t}();function Gu(t){return/^[\s\xa0]*$/.test(t)}var i0=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function fd(t,e){return t<e?-1:t>e?1:0}function qc(){var t=W.navigator;return t&&(t=t.userAgent)?t:""}function hn(t){return qc().indexOf(t)!=-1}function Qm(t){return Qm[" "](t),t}Qm[" "]=Qu;function eA(t){var e=rA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var tA=hn("Opera"),bs=hn("Trident")||hn("MSIE"),gT=hn("Edge"),qf=gT||bs,yT=hn("Gecko")&&!(qc().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge"))&&!(hn("Trident")||hn("MSIE"))&&!hn("Edge"),nA=qc().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge");function vT(){var t=W.document;return t?t.documentMode:void 0}var Yu;e:{var pd="",md=function(){var t=qc();if(yT)return/rv:([^\);]+)(\)|;)/.exec(t);if(gT)return/Edge\/([\d\.]+)/.exec(t);if(bs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nA)return/WebKit\/(\S+)/.exec(t);if(tA)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(md&&(pd=md?md[1]:""),bs){var gd=vT();if(gd!=null&&gd>parseFloat(pd)){Yu=String(gd);break e}}Yu=pd}var rA={};function iA(){return eA(function(){let t=0;const e=i0(String(Yu)).split("."),n=i0("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=fd(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||fd(i[2].length==0,s[2].length==0)||fd(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Kf;if(W.document&&bs){var s0=vT();Kf=s0||parseInt(Yu,10)||void 0}else Kf=void 0;var sA=Kf;function da(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yT){e:{try{Qm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oA[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&da.X.h.call(this)}}Ye(da,lt);var oA={2:"touch",3:"pen",4:"mouse"};da.prototype.h=function(){da.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var za="closure_listenable_"+(1e6*Math.random()|0),aA=0;function lA(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++aA,this.ba=this.ea=!1}function Kc(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Gm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function wT(t){const e={};for(const n in t)e[n]=t[n];return e}const o0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ET(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<o0.length;s++)n=o0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qc(t){this.src=t,this.g={},this.h=0}Qc.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Gf(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new lA(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Qf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=mT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Kc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Gf(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Ym="closure_lm_"+(1e6*Math.random()|0),yd={};function ST(t,e,n,r,i){if(r&&r.once)return CT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ST(t,e[s],n,r,i);return null}return n=Zm(n),t&&t[za]?t.N(e,n,Ba(r)?!!r.capture:!!r,i):TT(t,e,n,!1,r,i)}function TT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ba(i)?!!i.capture:!!i,a=Jm(t);if(a||(t[Ym]=a=new Qc(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=uA(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ZO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uA(){function t(n){return e.call(t.src,t.listener,n)}const e=cA;return t}function CT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)CT(t,e[s],n,r,i);return null}return n=Zm(n),t&&t[za]?t.O(e,n,Ba(r)?!!r.capture:!!r,i):TT(t,e,n,!0,r,i)}function kT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kT(t,e[s],n,r,i);else r=Ba(r)?!!r.capture:!!r,n=Zm(n),t&&t[za]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Gf(s,n,r,i),-1<n&&(Kc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Jm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gf(e,n,r,i)),(n=-1<t?e[t]:null)&&Xm(n))}function Xm(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[za])Qf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Jm(e))?(Qf(n,t),n.h==0&&(n.src=null,e[Ym]=null)):Kc(t)}}}function xT(t){return t in yd?yd[t]:yd[t]="on"+t}function cA(t,e){if(t.ba)t=!0;else{e=new da(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Xm(t),t=n.call(r,e)}return t}function Jm(t){return t=t[Ym],t instanceof Qc?t:null}var vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zm(t){return typeof t=="function"?t:(t[vd]||(t[vd]=function(e){return t.handleEvent(e)}),t[vd])}function He(){Ur.call(this),this.i=new Qc(this),this.P=this,this.I=null}Ye(He,Ur);He.prototype[za]=!0;He.prototype.removeEventListener=function(t,e,n,r){kT(this,t,e,n,r)};function Qe(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;e=new lt(r,t),ET(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rl(o,r,!0,e)&&i}if(o=e.g=t,i=Rl(o,r,!0,e)&&i,i=Rl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Rl(o,r,!1,e)&&i}He.prototype.M=function(){if(He.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kc(n[r]);delete t.g[e],t.h--}}this.I=null};He.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};He.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Rl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Qf(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var eg=W.JSON.stringify;function hA(){var t=IT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class dA{constructor(){this.h=this.g=null}add(e,n){const r=_T.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _T=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new fA,t=>t.reset());class fA{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pA(t){W.setTimeout(()=>{throw t},0)}function bT(t,e){Yf||mA(),Xf||(Yf(),Xf=!0),IT.add(t,e)}var Yf;function mA(){var t=W.Promise.resolve(void 0);Yf=function(){t.then(gA)}}var Xf=!1,IT=new dA;function gA(){for(var t;t=hA();){try{t.h.call(t.g)}catch(n){pA(n)}var e=_T;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xf=!1}function Gc(t,e){He.call(this),this.h=t||1,this.g=e||W,this.j=at(this.lb,this),this.l=Date.now()}Ye(Gc,He);M=Gc.prototype;M.ca=!1;M.R=null;M.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qe(this,"tick"),this.ca&&(tg(this),this.start()))}};M.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tg(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}M.M=function(){Gc.X.M.call(this),tg(this),delete this.g};function ng(t,e,n){if(typeof t=="function")n&&(t=at(t,n));else if(t&&typeof t.handleEvent=="function")t=at(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function PT(t){t.g=ng(()=>{t.g=null,t.i&&(t.i=!1,PT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class yA extends Ur{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PT(this)}M(){super.M(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(t){Ur.call(this),this.h=t,this.g={}}Ye(fa,Ur);var a0=[];function NT(t,e,n,r){Array.isArray(n)||(n&&(a0[0]=n.toString()),n=a0);for(var i=0;i<n.length;i++){var s=ST(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function RT(t){Gm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Xm(e)},t),t.g={}}fa.prototype.M=function(){fa.X.M.call(this),RT(this)};fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yc(){this.g=!0}Yc.prototype.Aa=function(){this.g=!1};function vA(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function wA(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Zi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SA(t,n)+(r?" "+r:"")})}function EA(t,e){t.info(function(){return"TIMEOUT: "+e})}Yc.prototype.info=function(){};function SA(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return eg(n)}catch{return e}}var Pi={},l0=null;function Xc(){return l0=l0||new He}Pi.Pa="serverreachability";function OT(t){lt.call(this,Pi.Pa,t)}Ye(OT,lt);function pa(t){const e=Xc();Qe(e,new OT(e))}Pi.STAT_EVENT="statevent";function AT(t,e){lt.call(this,Pi.STAT_EVENT,t),this.stat=e}Ye(AT,lt);function mt(t){const e=Xc();Qe(e,new AT(e,t))}Pi.Qa="timingevent";function DT(t,e){lt.call(this,Pi.Qa,t),this.size=e}Ye(DT,lt);function Ha(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}var Jc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},MT={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function rg(){}rg.prototype.h=null;function u0(t){return t.h||(t.h=t.i())}function LT(){}var Wa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ig(){lt.call(this,"d")}Ye(ig,lt);function sg(){lt.call(this,"c")}Ye(sg,lt);var Jf;function Zc(){}Ye(Zc,rg);Zc.prototype.g=function(){return new XMLHttpRequest};Zc.prototype.i=function(){return{}};Jf=new Zc;function qa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new fa(this),this.O=TA,t=qf?125:void 0,this.T=new Gc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new FT}function FT(){this.i=null,this.g="",this.h=!1}var TA=45e3,Zf={},Xu={};M=qa.prototype;M.setTimeout=function(t){this.O=t};function ep(t,e,n){t.K=1,t.v=th(Un(e)),t.s=n,t.P=!0,$T(t,null)}function $T(t,e){t.F=Date.now(),Ka(t),t.A=Un(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),qT(n.i,"t",r),t.C=0,n=t.l.H,t.h=new FT,t.g=fC(t.l,n?e:null,!t.s),0<t.N&&(t.L=new yA(at(t.La,t,t.g),t.N)),NT(t.S,t.g,"readystatechange",t.ib),e=t.H?wT(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),pa(),vA(t.j,t.u,t.A,t.m,t.U,t.s)}M.ib=function(t){t=t.target;const e=this.L;e&&Nn(t)==3?e.l():this.La(t)};M.La=function(t){try{if(t==this.g)e:{const c=Nn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||qf||this.g&&(this.h.h||this.g.fa()||f0(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?pa(3):pa(2)),eh(this);var n=this.g.aa();this.Y=n;t:if(VT(this)){var r=f0(this.g);t="";var i=r.length,s=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),Do(this);var o="";break t}this.h.i=new W.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,wA(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gu(a)){var u=a;break t}}u=null}if(n=u)Zi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tp(this,n);else{this.i=!1,this.o=3,mt(12),ii(this),Do(this);break e}}this.P?(UT(this,c,o),qf&&this.i&&c==3&&(NT(this.S,this.T,"tick",this.hb),this.T.start())):(Zi(this.j,this.m,o,null),tp(this,o)),c==4&&ii(this),this.i&&!this.I&&(c==4?uC(this.l,this):(this.i=!1,Ka(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),ii(this),Do(this)}}}catch{}finally{}};function VT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function UT(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=CA(t,n),i==Xu){e==4&&(t.o=4,mt(14),r=!1),Zi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Zf){t.o=4,mt(15),Zi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Zi(t.j,t.m,i,null),tp(t,i);VT(t)&&i!=Xu&&i!=Zf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,mt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),dg(e),e.K=!0,mt(11))):(Zi(t.j,t.m,n,"[Invalid Chunked Response]"),ii(t),Do(t))}M.hb=function(){if(this.g){var t=Nn(this.g),e=this.g.fa();this.C<e.length&&(eh(this),UT(this,t,e),this.i&&t!=4&&Ka(this))}};function CA(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Xu:(n=Number(e.substring(n,r)),isNaN(n)?Zf:(r+=1,r+n>e.length?Xu:(e=e.substr(r,n),t.C=r+n,e)))}M.cancel=function(){this.I=!0,ii(this)};function Ka(t){t.V=Date.now()+t.O,jT(t,t.O)}function jT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ha(at(t.gb,t),e)}function eh(t){t.B&&(W.clearTimeout(t.B),t.B=null)}M.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(EA(this.j,this.A),this.K!=2&&(pa(),mt(17)),ii(this),this.o=2,Do(this)):jT(this,this.V-t)};function Do(t){t.l.G==0||t.I||uC(t.l,t)}function ii(t){eh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,tg(t.T),RT(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function tp(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||np(n.h,t))){if(!t.J&&np(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ec(n),ih(n);else break e;hg(n),mt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ha(at(n.cb,n),6e3));if(1>=GT(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else si(n,11)}else if((t.J||n.g==t)&&ec(n),!Gu(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.h;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(og(s,s.h),s.h=null))}if(r.D){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.za=v,pe(r.F,r.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=dC(r,r.H?r.ka:null,r.V),o.J){YT(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(eh(a),Ka(a)),r.g=o}else aC(r);0<n.i.length&&sh(n)}else u[0]!="stop"&&u[0]!="close"||si(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?si(n,7):cg(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}pa(4)}catch{}}function kA(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function xA(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function BT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=xA(t),r=kA(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var zT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _A(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function hi(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof hi){this.h=e!==void 0?e:t.h,Ju(this,t.j),this.s=t.s,this.g=t.g,Zu(this,t.m),this.l=t.l,e=t.i;var n=new ma;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),c0(this,n),this.o=t.o}else t&&(n=String(t).match(zT))?(this.h=!!e,Ju(this,n[1]||"",!0),this.s=vo(n[2]||""),this.g=vo(n[3]||"",!0),Zu(this,n[4]),this.l=vo(n[5]||"",!0),c0(this,n[6]||"",!0),this.o=vo(n[7]||"")):(this.h=!!e,this.i=new ma(null,this.h))}hi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(wo(e,h0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(wo(e,h0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(wo(n,n.charAt(0)=="/"?PA:IA,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",wo(n,RA)),t.join("")};function Un(t){return new hi(t)}function Ju(t,e,n){t.j=n?vo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function c0(t,e,n){e instanceof ma?(t.i=e,OA(t.i,t.h)):(n||(e=wo(e,NA)),t.i=new ma(e,t.h))}function pe(t,e,n){t.i.set(e,n)}function th(t){return pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function vo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,bA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bA(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var h0=/[#\/\?@]/g,IA=/[#\?:]/g,PA=/[#\?]/g,NA=/[#\?@]/g,RA=/#/g;function ma(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jr(t){t.g||(t.g=new Map,t.h=0,t.i&&_A(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=ma.prototype;M.add=function(t,e){jr(this),this.i=null,t=Hs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function HT(t,e){jr(t),e=Hs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function WT(t,e){return jr(t),e=Hs(t,e),t.g.has(e)}M.forEach=function(t,e){jr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.oa=function(){jr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};M.W=function(t){jr(this);let e=[];if(typeof t=="string")WT(this,t)&&(e=e.concat(this.g.get(Hs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return jr(this),this.i=null,t=Hs(this,t),WT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function qT(t,e,n){HT(t,e),0<n.length&&(t.i=null,t.g.set(Hs(t,e),Km(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Hs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OA(t,e){e&&!t.j&&(jr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(HT(this,r),qT(this,i,n))},t)),t.j=e}var AA=class{constructor(e,n){this.h=e,this.g=n}};function KT(t){this.l=t||DA,W.PerformanceNavigationTiming?(t=W.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(W.g&&W.g.Ga&&W.g.Ga()&&W.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DA=10;function QT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function GT(t){return t.h?1:t.g?t.g.size:0}function np(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function og(t,e){t.g?t.g.add(e):t.h=e}function YT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}KT.prototype.cancel=function(){if(this.i=XT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function XT(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Km(t.i)}function ag(){}ag.prototype.stringify=function(t){return W.JSON.stringify(t,void 0)};ag.prototype.parse=function(t){return W.JSON.parse(t,void 0)};function MA(){this.g=new ag}function LA(t,e,n){const r=n||"";try{BT(t,function(i,s){let o=i;Ba(i)&&(o=eg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function FA(t,e){const n=new Yc;if(W.Image){const r=new Image;r.onload=Nl(Ol,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nl(Ol,n,r,"TestLoadImage: error",!1,e),r.onabort=Nl(Ol,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nl(Ol,n,r,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ol(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qa(t){this.l=t.ac||null,this.j=t.jb||!1}Ye(Qa,rg);Qa.prototype.g=function(){return new nh(this.l,this.j)};Qa.prototype.i=function(t){return function(){return t}}({});function nh(t,e){He.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=lg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ye(nh,He);var lg=0;M=nh.prototype;M.open=function(t,e){if(this.readyState!=lg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ga(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||W).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=lg};M.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JT(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function JT(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}M.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ga(this):ga(this),this.readyState==3&&JT(this)}};M.Va=function(t){this.g&&(this.response=this.responseText=t,Ga(this))};M.Ua=function(t){this.g&&(this.response=t,Ga(this))};M.ga=function(){this.g&&Ga(this)};function Ga(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ga(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(nh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var $A=W.JSON.parse;function xe(t){He.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZT,this.K=this.L=!1}Ye(xe,He);var ZT="",VA=/^https?$/i,UA=["POST","PUT"];M=xe.prototype;M.Ka=function(t){this.L=t};M.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jf.g(),this.C=this.u?u0(this.u):u0(Jf),this.g.onreadystatechange=at(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){d0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=W.FormData&&t instanceof W.FormData,!(0<=mT(UA,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nC(this),0<this.B&&((this.K=jA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.qa,this)):this.A=ng(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){d0(this,s)}};function jA(t){return bs&&iA()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.qa=function(){typeof qm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qe(this,"timeout"),this.abort(8))};function d0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eC(t),rh(t)}function eC(t){t.D||(t.D=!0,Qe(t,"complete"),Qe(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qe(this,"complete"),Qe(this,"abort"),rh(this))};M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rh(this,!0)),xe.X.M.call(this)};M.Ha=function(){this.s||(this.F||this.v||this.l?tC(this):this.fb())};M.fb=function(){tC(this)};function tC(t){if(t.h&&typeof qm<"u"&&(!t.C[1]||Nn(t)!=4||t.aa()!=2)){if(t.v&&Nn(t)==4)ng(t.Ha,0,t);else if(Qe(t,"readystatechange"),Nn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(zT)[1]||null;if(!i&&W.self&&W.self.location){var s=W.self.location.protocol;i=s.substr(0,s.length-1)}r=!VA.test(i?i.toLowerCase():"")}n=r}if(n)Qe(t,"complete"),Qe(t,"success");else{t.m=6;try{var o=2<Nn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",eC(t)}}finally{rh(t)}}}}function rh(t,e){if(t.g){nC(t);const n=t.g,r=t.C[0]?Qu:null;t.g=null,t.C=null,e||Qe(t,"ready");try{n.onreadystatechange=r}catch{}}}function nC(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}function Nn(t){return t.g?t.g.readyState:0}M.aa=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}};M.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$A(e)}};function f0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ZT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}M.Ea=function(){return this.m};M.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rC(t){let e="";return Gm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ug(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pe(t,e,n))}function lo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iC(t){this.Ca=0,this.i=[],this.j=new Yc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=lo("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=lo("baseRetryDelayMs",5e3,t),this.bb=lo("retryDelaySeedMs",1e4,t),this.$a=lo("forwardChannelMaxRetries",2,t),this.ta=lo("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new KT(t&&t.concurrentRequestLimit),this.Fa=new MA,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}M=iC.prototype;M.ma=8;M.G=1;function cg(t){if(sC(t),t.G==3){var e=t.U++,n=Un(t.F);pe(n,"SID",t.I),pe(n,"RID",e),pe(n,"TYPE","terminate"),Ya(t,n),e=new qa(t,t.j,e,void 0),e.K=2,e.v=th(Un(n)),n=!1,W.navigator&&W.navigator.sendBeacon&&(n=W.navigator.sendBeacon(e.v.toString(),"")),!n&&W.Image&&(new Image().src=e.v,n=!0),n||(e.g=fC(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ka(e)}hC(t)}function ih(t){t.g&&(dg(t),t.g.cancel(),t.g=null)}function sC(t){ih(t),t.u&&(W.clearTimeout(t.u),t.u=null),ec(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&W.clearTimeout(t.m),t.m=null)}function sh(t){QT(t.h)||t.m||(t.m=!0,bT(t.Ja,t),t.C=0)}function BA(t,e){return GT(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Ha(at(t.Ja,t,e),cC(t,t.C)),t.C++,!0)}M.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new qa(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=wT(s),ET(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oC(this,i,e),n=Un(this.F),pe(n,"RID",t),pe(n,"CVER",22),this.D&&pe(n,"X-HTTP-Session-Id",this.D),Ya(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(rC(s)))+"&"+e:this.o&&ug(n,this.o,s)),og(this.h,i),this.Ya&&pe(n,"TYPE","init"),this.O?(pe(n,"$req",e),pe(n,"SID","null"),i.Z=!0,ep(i,n,null)):ep(i,n,e),this.G=2}}else this.G==3&&(t?p0(this,t):this.i.length==0||QT(this.h)||p0(this))};function p0(t,e){var n;e?n=e.m:n=t.U++;const r=Un(t.F);pe(r,"SID",t.I),pe(r,"RID",n),pe(r,"AID",t.T),Ya(t,r),t.o&&t.s&&ug(r,t.o,t.s),n=new qa(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=oC(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),og(t.h,n),ep(n,r,e)}function Ya(t,e){t.ia&&Gm(t.ia,function(n,r){pe(e,r,n)}),t.l&&BT({},function(n,r){pe(e,r,n)})}function oC(t,e,n){n=Math.min(t.i.length,n);var r=t.l?at(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{LA(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function aC(t){t.g||t.u||(t.Z=1,bT(t.Ia,t),t.A=0)}function hg(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Ha(at(t.Ia,t),cC(t,t.A)),t.A++,!0)}M.Ia=function(){if(this.u=null,lC(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ha(at(this.eb,this),t)}};M.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mt(10),ih(this),lC(this))};function dg(t){t.B!=null&&(W.clearTimeout(t.B),t.B=null)}function lC(t){t.g=new qa(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Un(t.sa);pe(e,"RID","rpc"),pe(e,"SID",t.I),pe(e,"CI",t.L?"0":"1"),pe(e,"AID",t.T),pe(e,"TYPE","xmlhttp"),Ya(t,e),t.o&&t.s&&ug(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=th(Un(e)),n.s=null,n.P=!0,$T(n,t)}M.cb=function(){this.v!=null&&(this.v=null,ih(this),hg(this),mt(19))};function ec(t){t.v!=null&&(W.clearTimeout(t.v),t.v=null)}function uC(t,e){var n=null;if(t.g==e){ec(t),dg(t),t.g=null;var r=2}else if(np(t.h,e))n=e.D,YT(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Xc(),Qe(r,new DT(r,n)),sh(t)}else aC(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&BA(t,e)||r==2&&hg(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:si(t,5);break;case 4:si(t,10);break;case 3:si(t,6);break;default:si(t,2)}}}function cC(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function si(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=at(t.kb,t);n||(n=new hi("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||Ju(n,"https"),th(n)),FA(n.toString(),r)}else mt(2);t.G=0,t.l&&t.l.va(e),hC(t),sC(t)}M.kb=function(t){t?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function hC(t){if(t.G=0,t.la=[],t.l){const e=XT(t.h);(e.length!=0||t.i.length!=0)&&(r0(t.la,e),r0(t.la,t.i),t.h.i.length=0,Km(t.i),t.i.length=0),t.l.ua()}}function dC(t,e,n){var r=n instanceof hi?Un(n):new hi(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Zu(r,r.m);else{var i=W.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new hi(null,void 0);r&&Ju(s,r),e&&(s.g=e),i&&Zu(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&pe(r,n,e),pe(r,"VER",t.ma),Ya(t,r),r}function fC(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new xe(new Qa({jb:!0})):new xe(t.ra),e.Ka(t.H),e}function pC(){}M=pC.prototype;M.xa=function(){};M.wa=function(){};M.va=function(){};M.ua=function(){};M.Ra=function(){};function tc(){if(bs&&!(10<=Number(sA)))throw Error("Environmental error: no available transport.")}tc.prototype.g=function(t,e){return new Mt(t,e)};function Mt(t,e){He.call(this),this.g=new iC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Gu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gu(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ws(this)}Ye(Mt,He);Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;mt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=dC(t,null,t.V),sh(t)};Mt.prototype.close=function(){cg(this.g)};Mt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=eg(t),t=n);e.i.push(new AA(e.ab++,t)),e.G==3&&sh(e)};Mt.prototype.M=function(){this.g.l=null,delete this.j,cg(this.g),delete this.g,Mt.X.M.call(this)};function mC(t){ig.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ye(mC,ig);function gC(){sg.call(this),this.status=1}Ye(gC,sg);function Ws(t){this.g=t}Ye(Ws,pC);Ws.prototype.xa=function(){Qe(this.g,"a")};Ws.prototype.wa=function(t){Qe(this.g,new mC(t))};Ws.prototype.va=function(t){Qe(this.g,new gC)};Ws.prototype.ua=function(){Qe(this.g,"b")};tc.prototype.createWebChannel=tc.prototype.g;Mt.prototype.send=Mt.prototype.u;Mt.prototype.open=Mt.prototype.m;Mt.prototype.close=Mt.prototype.close;Jc.NO_ERROR=0;Jc.TIMEOUT=8;Jc.HTTP_ERROR=6;MT.COMPLETE="complete";LT.EventType=Wa;Wa.OPEN="a";Wa.CLOSE="b";Wa.ERROR="c";Wa.MESSAGE="d";He.prototype.listen=He.prototype.N;xe.prototype.listenOnce=xe.prototype.O;xe.prototype.getLastError=xe.prototype.Oa;xe.prototype.getLastErrorCode=xe.prototype.Ea;xe.prototype.getStatus=xe.prototype.aa;xe.prototype.getResponseJson=xe.prototype.Sa;xe.prototype.getResponseText=xe.prototype.fa;xe.prototype.send=xe.prototype.da;xe.prototype.setWithCredentials=xe.prototype.Ka;var zA=function(){return new tc},HA=function(){return Xc()},wd=Jc,WA=MT,qA=Pi,m0={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},KA=Qa,Al=LT,QA=xe;const g0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Am("@firebase/firestore");function y0(){return Ti.logLevel}function L(t,...e){if(Ti.logLevel<=ee.DEBUG){const n=e.map(fg);Ti.debug(`Firestore (${qs}): ${t}`,...n)}}function jn(t,...e){if(Ti.logLevel<=ee.ERROR){const n=e.map(fg);Ti.error(`Firestore (${qs}): ${t}`,...n)}}function nc(t,...e){if(Ti.logLevel<=ee.WARN){const n=e.map(fg);Ti.warn(`Firestore (${qs}): ${t}`,...n)}}function fg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t="Unexpected state"){const e=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+t;throw jn(e),new Error(e)}function de(t,e){t||q()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nt.UNAUTHENTICATED))}shutdown(){}}class YA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XA{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new yC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new nt(e)}}class JA{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZA{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new JA(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.T=n.token,new eD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Me(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.timestamp=e}static fromTimestamp(e){return new K(e)}static min(){return new K(new Me(0,0))}static max(){return new K(new Me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ya.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends ya{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new j(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const rD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends ya{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return rD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new j(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.path=e}static fromPath(e){return new V(me.fromString(e))}static fromName(e){return new V(me.fromString(e).popFirst(5))}static empty(){return new V(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new me(e.slice()))}}function iD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Rr(i,V.empty(),e)}function sD(t){return new Rr(t.readTime,t.key,-1)}class Rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rr(K.min(),V.empty(),-1)}static max(){return new Rr(K.max(),V.empty(),-1)}}function oD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=V.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==aD)throw t;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new N((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}pg.ct=-1;function oh(t){return t==null}function rc(t){return t===0&&1/t==-1/0}function uD(t){return typeof t=="number"&&Number.isInteger(t)&&!rc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||qe.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dl(this.root,e,this.comparator,!0)}}class Dl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qe.RED,this.left=i??qe.EMPTY,this.right=s??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Rt([])}unionWith(e){let n=new Le(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cD("Invalid base64 string: "+i):i}}(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const hD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(de(!!t),typeof t=="string"){let e=0;const n=hD.exec(t);if(de(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function SC(t){const e=t.mapValue.fields.__previous_value__;return EC(e)?SC(e):e}function va(t){const e=Or(t.mapValue.fields.__local_write_time__.timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class wa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?EC(t)?4:fD(t)?9007199254740991:10:q()}function vn(t,e){if(t===e)return!0;const n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return va(t).isEqual(va(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Or(r.timestampValue),o=Or(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ps(r.bytesValue).isEqual(Ps(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ne(r.geoPointValue.latitude)===Ne(i.geoPointValue.latitude)&&Ne(r.geoPointValue.longitude)===Ne(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ne(r.integerValue)===Ne(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ne(r.doubleValue),o=Ne(i.doubleValue);return s===o?rc(s)===rc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Is(t.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(v0(s)!==v0(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!vn(s[a],o[a])))return!1;return!0}(t,e);default:return q()}}function Ea(t,e){return(t.values||[]).find(n=>vn(n,e))!==void 0}function Ns(t,e){if(t===e)return 0;const n=Ci(t),r=Ci(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ne(i.integerValue||i.doubleValue),a=Ne(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return E0(t.timestampValue,e.timestampValue);case 4:return E0(va(t),va(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ps(i),a=Ps(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=re(o[l],a[l]);if(u!==0)return u}return re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=re(Ne(i.latitude),Ne(s.latitude));return o!==0?o:re(Ne(i.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Ns(o[l],a[l]);if(u)return u}return re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ml.mapValue&&s===Ml.mapValue)return 0;if(i===Ml.mapValue)return 1;if(s===Ml.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=re(a[c],u[c]);if(h!==0)return h;const d=Ns(o[a[c]],l[u[c]]);if(d!==0)return d}return re(a.length,u.length)}(t.mapValue,e.mapValue);default:throw q()}}function E0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Or(t),r=Or(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Rs(t){return rp(t)}function rp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Or(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ps(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,V.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=rp(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${rp(r.fields[a])}`;return s+"}"}(t.mapValue):q();var e,n}function ip(t){return!!t&&"integerValue"in t}function mg(t){return!!t&&"arrayValue"in t}function S0(t){return!!t&&"nullValue"in t}function T0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ou(t){return!!t&&"mapValue"in t}function Mo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ou(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(n)}setAll(e){let n=st.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Mo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ou(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ou(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new St(Mo(this.value))}}function TC(t){const e=[];return Ni(t.fields,(n,r)=>{const i=new st([n]);if(ou(r)){const s=TC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new it(e,0,K.min(),K.min(),K.min(),St.empty(),0)}static newFoundDocument(e,n,r,i){return new it(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new it(e,2,n,K.min(),K.min(),St.empty(),0)}static newUnknownDocument(e,n){return new it(e,3,n,K.min(),K.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.position=e,this.inclusive=n}}function C0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=V.comparator(V.fromName(o.referenceValue),n.key):r=Ns(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function k0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n="asc"){this.field=e,this.dir=n}}function pD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{}class Ae extends CC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gD(e,n,r):n==="array-contains"?new wD(e,r):n==="in"?new ED(e,r):n==="not-in"?new SD(e,r):n==="array-contains-any"?new TD(e,r):new Ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yD(e,r):new vD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ns(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(Ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wn extends CC{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new wn(e,n)}matches(e){return kC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function kC(t){return t.op==="and"}function xC(t){return mD(t)&&kC(t)}function mD(t){for(const e of t.filters)if(e instanceof wn)return!1;return!0}function sp(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+Rs(t.value);if(xC(t))return t.filters.map(e=>sp(e)).join(",");{const e=t.filters.map(n=>sp(n)).join(",");return`${t.op}(${e})`}}function _C(t,e){return t instanceof Ae?function(n,r){return r instanceof Ae&&n.op===r.op&&n.field.isEqual(r.field)&&vn(n.value,r.value)}(t,e):t instanceof wn?function(n,r){return r instanceof wn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&_C(s,r.filters[o]),!0):!1}(t,e):void q()}function bC(t){return t instanceof Ae?function(e){return`${e.field.canonicalString()} ${e.op} ${Rs(e.value)}`}(t):t instanceof wn?function(e){return e.op.toString()+" {"+e.getFilters().map(bC).join(" ,")+"}"}(t):"Filter"}class gD extends Ae{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.matchesComparison(n)}}class yD extends Ae{constructor(e,n){super(e,"in",n),this.keys=IC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vD extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=IC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}class wD extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mg(n)&&Ea(n.arrayValue,this.value)}}class ED extends Ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class SD extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ea(this.value.arrayValue,n)}}class TD extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ea(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function x0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new CD(t,e,n,r,i,s,o)}function gg(t){const e=Q(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rs(r)).join(",")),e.ft=n}return e.ft}function yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_C(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k0(t.startAt,e.startAt)&&k0(t.endAt,e.endAt)}function op(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function kD(t,e,n,r,i,s,o,a){return new ah(t,e,n,r,i,s,o,a)}function vg(t){return new ah(t)}function _0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function _D(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function bD(t){return t.collectionGroup!==null}function gs(t){const e=Q(t);if(e.dt===null){e.dt=[];const n=_D(e),r=xD(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Lo(n)),e.dt.push(new Lo(st.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Lo(st.keyField(),s))}}}return e.dt}function Bn(t){const e=Q(t);if(!e.wt)if(e.limitType==="F")e.wt=x0(e.path,e.collectionGroup,gs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of gs(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Lo(s.field,o))}const r=e.endAt?new ic(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ic(e.startAt.position,e.startAt.inclusive):null;e.wt=x0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function ap(t,e,n){return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lh(t,e){return yg(Bn(t),Bn(e))&&t.limitType===e.limitType}function PC(t){return`${gg(Bn(t))}|lt:${t.limitType}`}function lp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>bC(r)).join(", ")}]`),oh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rs(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rs(r)).join(",")),`Target(${n})`}(Bn(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):V.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of gs(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=C0(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,gs(n),r)||n.endAt&&!function(i,s,o){const a=C0(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,gs(n),r))}(t,e)}function ID(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NC(t){return(e,n)=>{let r=!1;for(const i of gs(t)){const s=PD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PD(t,e,n){const r=t.field.isKeyField()?V.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Ns(a,l):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new Ve(V.comparator);function zn(){return ND}const RC=new Ve(V.comparator);function Eo(...t){let e=RC;for(const n of t)e=e.insert(n.key,n);return e}function OC(t){let e=RC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return Fo()}function AC(){return Fo()}function Fo(){return new Ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const RD=new Ve(V.comparator),OD=new Le(V.comparator);function Y(...t){let e=OD;for(const n of t)e=e.add(n);return e}const AD=new Le(re);function DC(){return AD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function LC(t){return{integerValue:""+t}}function DD(t,e){return uD(e)?LC(e):MC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function MD(t,e,n){return t instanceof sc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Os?$C(t,e):t instanceof As?VC(t,e):function(r,i){const s=FC(r,i),o=b0(s)+b0(r._t);return ip(s)&&ip(r._t)?LC(o):MC(r.serializer,o)}(t,e)}function LD(t,e,n){return t instanceof Os?$C(t,e):t instanceof As?VC(t,e):n}function FC(t,e){return t instanceof oc?ip(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class sc extends ch{}class Os extends ch{constructor(e){super(),this.elements=e}}function $C(t,e){const n=UC(e);for(const r of t.elements)n.some(i=>vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class As extends ch{constructor(e){super(),this.elements=e}}function VC(t,e){let n=UC(e);for(const r of t.elements)n=n.filter(i=>!vn(i,r));return{arrayValue:{values:n}}}class oc extends ch{constructor(e,n){super(),this.serializer=e,this._t=n}}function b0(t){return Ne(t.integerValue||t.doubleValue)}function UC(t){return mg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.field=e,this.transform=n}}function FD(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Os&&r instanceof Os||n instanceof As&&r instanceof As?Is(n.elements,r.elements,vn):n instanceof oc&&r instanceof oc?vn(n._t,r._t):n instanceof sc&&r instanceof sc}(t.transform,e.transform)}class $D{constructor(e,n){this.version=e,this.transformResults=n}}class en{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hh{}function BC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wg(t.key,en.none()):new Za(t.key,t.data,en.none());{const n=t.data,r=St.empty();let i=new Le(st.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Br(t.key,r,new Rt(i.toArray()),en.none())}}function VD(t,e,n){t instanceof Za?function(r,i,s){const o=r.value.clone(),a=P0(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Br?function(r,i,s){if(!au(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=P0(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(zC(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $o(t,e,n,r){return t instanceof Za?function(i,s,o,a){if(!au(i.precondition,s))return o;const l=i.value.clone(),u=N0(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Br?function(i,s,o,a){if(!au(i.precondition,s))return o;const l=N0(i.fieldTransforms,a,s),u=s.data;return u.setAll(zC(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return au(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function UD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FC(r.transform,i||null);s!=null&&(n===null&&(n=St.empty()),n.set(r.field,s))}return n||null}function I0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Is(n,r,(i,s)=>FD(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Za extends hh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Br extends hh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P0(t,e,n){const r=new Map;de(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,LD(o,a,n[i]))}return r}function N0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,MD(s,o,e))}return r}class wg extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jD extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$o(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$o(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=BC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Y())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(n,r)=>I0(n,r))&&Is(this.baseMutations,e.baseMutations,(n,r)=>I0(n,r))}}class Eg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length);let i=RD;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Eg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,J;function WD(t){switch(t){default:return q();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function HC(t){if(t===void 0)return jn("GRPC error has no .code"),I.UNKNOWN;switch(t){case Ie.OK:return I.OK;case Ie.CANCELLED:return I.CANCELLED;case Ie.UNKNOWN:return I.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return I.INTERNAL;case Ie.UNAVAILABLE:return I.UNAVAILABLE;case Ie.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Ie.NOT_FOUND:return I.NOT_FOUND;case Ie.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Ie.ABORTED:return I.ABORTED;case Ie.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Ie.DATA_LOSS:return I.DATA_LOSS;default:return q()}}(J=Ie||(Ie={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ll}static getOrCreateInstance(){return Ll===null&&(Ll=new Sg),Ll}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ll=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,el.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dh(K.min(),i,DC(),zn(),Y())}}class el{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new el(r,n,Y(),Y(),Y())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class WC{constructor(e,n){this.targetId=e,this.Et=n}}class qC{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R0{constructor(){this.At=0,this.Rt=A0(),this.vt=ht.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Y(),n=Y(),r=Y();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new el(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=A0()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class qD{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=zn(),this.qt=O0(),this.Ut=new Le(re)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(op(o))if(i===0){const a=new V(o.path);this.Qt(r,a,it.newNoDocument(a,K.min()))}else de(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=Sg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&op(a.target)){const l=new V(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,it.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=Y();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new dh(e,n,this.Ut,this.Lt,r);return this.Lt=zn(),this.qt=O0(),this.Ut=new Le(re),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new R0,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Le(re),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new R0),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function O0(){return new Ve(V.comparator)}function A0(){return new Ve(V.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),QD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),GD=(()=>({and:"AND",or:"OR"}))();class YD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XD(t,e){return ac(t,e.toTimestamp())}function gn(t){return de(!!t),K.fromTimestamp(function(e){const n=Or(e);return new Me(n.seconds,n.nanos)}(t))}function Tg(t,e){return function(n){return new me(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function QC(t){const e=me.fromString(t);return de(JC(e)),e}function up(t,e){return Tg(t.databaseId,e.path)}function Ed(t,e){const n=QC(e);if(n.get(1)!==t.databaseId.projectId)throw new j(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(GC(n))}function cp(t,e){return Tg(t.databaseId,e)}function JD(t){const e=QC(t);return e.length===4?me.emptyPath():GC(e)}function hp(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GC(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function D0(t,e,n){return{name:up(t,e),fields:n.value.mapValue.fields}}function ZD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(de(u===void 0||typeof u=="string"),ht.fromBase64String(u||"")):(de(u===void 0||u instanceof Uint8Array),ht.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?I.UNKNOWN:HC(l.code);return new j(u,l.message||"")}(o);n=new qC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ed(t,r.document.name),s=gn(r.document.updateTime),o=r.document.createTime?gn(r.document.createTime):K.min(),a=new St({mapValue:{fields:r.document.fields}}),l=it.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new lu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ed(t,r.document),s=r.readTime?gn(r.readTime):K.min(),o=it.newNoDocument(i,s),a=r.removedTargetIds||[];n=new lu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ed(t,r.document),s=r.removedTargetIds||[];n=new lu([],s,i,null)}else{if(!("filter"in e))return q();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new HD(i),o=r.targetId;n=new WC(o,s)}}return n}function e2(t,e){let n;if(e instanceof Za)n={update:D0(t,e.key,e.value)};else if(e instanceof wg)n={delete:up(t,e.key)};else if(e instanceof Br)n={update:D0(t,e.key,e.data),updateMask:u2(e.fieldMask)};else{if(!(e instanceof jD))return q();n={verify:up(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof sc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Os)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof As)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof oc)return{fieldPath:s.field.canonicalString(),increment:o._t};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:XD(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:q()}(t,e.precondition)),n}function t2(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?gn(r.updateTime):gn(i);return s.isEqual(K.min())&&(s=gn(i)),new $D(s,r.transformResults||[])}(n,e))):[]}function n2(t,e){return{documents:[cp(t,e.path)]}}function r2(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=cp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return XC(wn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Fi(c.field),direction:o2(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||oh(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function i2(t){let e=JD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){de(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=YC(c);return h instanceof wn&&xC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Lo($i(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,oh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new ic(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new ic(d,h)}(n.endAt)),kD(e,i,o,s,a,"F",l,u)}function s2(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return q()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function YC(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=$i(e.unaryFilter.field);return Ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=$i(e.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$i(e.unaryFilter.field);return Ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$i(e.unaryFilter.field);return Ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(e){return Ae.create($i(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return wn.create(e.compositeFilter.filters.map(n=>YC(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return q()}}(e.compositeFilter.op))}(t):q()}function o2(t){return KD[t]}function a2(t){return QD[t]}function l2(t){return GD[t]}function Fi(t){return{fieldPath:t.canonicalString()}}function $i(t){return st.fromServerFormat(t.fieldPath)}function XC(t){return t instanceof Ae?function(e){if(e.op==="=="){if(T0(e.value))return{unaryFilter:{field:Fi(e.field),op:"IS_NAN"}};if(S0(e.value))return{unaryFilter:{field:Fi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(T0(e.value))return{unaryFilter:{field:Fi(e.field),op:"IS_NOT_NAN"}};if(S0(e.value))return{unaryFilter:{field:Fi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fi(e.field),op:a2(e.op),value:e.value}}}(t):t instanceof wn?function(e){const n=e.getFilters().map(r=>XC(r));return n.length===1?n[0]:{compositeFilter:{op:l2(e.op),filters:n}}}(t):q()}function u2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,i,s=K.min(),o=K.min(),a=ht.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.se=e}}function h2(t){const e=i2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.He=new f2}addToCollectionParentIndex(e,n){return this.He.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Rr.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class f2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Ds(0)}static bn(){return new Ds(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$o(r.mutation,i,Rt.empty(),Me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Y()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Y()){const i=oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Eo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Y()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=zn();const o=Fo(),a=Fo();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Br)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),$o(c.mutation,u,c.mutation.getFieldMask(),Me.now())):o.set(u.key,Rt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new m2(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fo();let i=new Ve((o,a)=>o-a),s=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Rt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Y()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=AC();c.forEach(d=>{if(!s.has(d)){const f=BC(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return V.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(oi());let a=-1,l=s;return o.next(u=>N.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Y())).next(c=>({batchId:a,changes:OC(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=Eo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Eo();return this.indexManager.getCollectionParents(e,i).next(o=>N.forEach(o,a=>{const l=function(u,c){return new ah(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,it.newInvalidDocument(u)))});let o=Eo();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&$o(u.mutation,l,Rt.empty(),Me.now()),uh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return N.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:gn(r.createTime)}),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:h2(r.bundledQuery),readTime:gn(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.overlays=new Ve(V.comparator),this.ts=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=oi(),s=n.length+1,o=new V(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ve((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=oi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=oi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zD(n,r));let s=this.ts.get(n);s===void 0&&(s=Y(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.es=new Le(Ue.ns),this.ss=new Le(Ue.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new Ue(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new Ue(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new V(new me([])),r=new Ue(n,e),i=new Ue(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new V(new me([])),r=new Ue(n,e),i=new Ue(n,e+1);let s=Y();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ue(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return V.comparator(e.key,n.key)||re(e.ds,n.ds)}static rs(e,n){return re(e.ds,n.ds)||V.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Le(Ue.ns)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new Ue(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(re);return n.forEach(i=>{const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),N.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new Ue(new V(s),0);let a=new Le(re);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),N.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return N.forEach(n.mutations,i=>{const s=new Ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new Ue(n,0),i=this._s.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.Ts=e,this.docs=new Ve(V.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():it.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():it.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zn();const o=n.path,a=new V(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||oD(sD(c),r)<=0||(i.has(c.key)||uh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q()}Es(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new S2(this)}getSize(e){return N.resolve(this.size)}}class S2 extends p2{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.persistence=e,this.As=new Ks(n=>gg(n),yg),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Cg,this.targetCount=0,this.bs=Ds.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),N.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Ds(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Sn(n),N.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new pg(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new T2(this),this.indexManager=new d2,this.remoteDocumentCache=function(r){return new E2(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new c2(n),this.xs=new y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new w2(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);const i=new k2(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return N.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class k2 extends lD{constructor(e){super(),this.currentSequenceNumber=e}}class kg{constructor(e){this.persistence=e,this.$s=new Cg,this.Ms=null}static Fs(e){return new kg(e)}get Bs(){if(this.Ms)return this.Ms;throw q()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),N.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Bs,r=>{const i=V.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,K.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return N.or([()=>N.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=Y(),i=Y();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(_0(n))return N.resolve(null);let r=Bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ap(n,null,"F"),r=Bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Y(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,ap(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return _0(n)||i.isEqual(K.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(y0()<=ee.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lp(n)),this.Fi(e,o,n,iD(i,-1)))})}$i(e,n){let r=new Le(NC(e));return n.forEach((i,s)=>{uh(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return y0()<=ee.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",lp(n)),this.xi.getDocumentsMatchingQuery(e,n,Rr.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new Ve(re),this.qi=new Ks(s=>gg(s),yg),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g2(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function b2(t,e,n,r){return new _2(t,e,n,r)}async function ZC(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Y();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function I2(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=N.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(g=>{const v=l.docVersions.get(f);de(v!==null),g.version.compareTo(v)<0&&(c.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Y();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ek(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function P2(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(ht.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(g,v,T){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(d,f,c)&&a.push(n.Ds.updateTargetData(s,f))});let l=zn(),u=Y();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(N2(s,o,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(K.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(h=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function N2(t,e,n){let r=Y(),i=Y();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=zn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(K.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function R2(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O2(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new di(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function dp(t,e,n){const r=Q(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ja(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function M0(t,e,n){const r=Q(t);let i=K.min(),s=Y();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=Q(a),h=c.qi.get(u);return h!==void 0?N.resolve(c.Li.get(h)):c.Ds.getTargetData(l,u)}(r,o,Bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:K.min(),n?s:Y())).next(a=>(A2(r,ID(e),a),{documents:a,Wi:s})))}function A2(t,e,n){let r=t.Ui.get(e)||K.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class L0{constructor(){this.activeTargetIds=DC()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D2{constructor(){this.Br=new L0,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new L0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl=null;function Sd(){return Fl===null?Fl=268435456+Math.round(2147483648*Math.random()):Fl++,"0x"+Fl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et="WebChannelConnection";class $2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Sd(),a=this.ao(e,n);L("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(u=>(L("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw nc("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=L2[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Sd();return new Promise((o,a)=>{const l=new QA;l.setWithCredentials(!0),l.listenOnce(WA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wd.NO_ERROR:const c=l.getResponseJson();L(et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case wd.TIMEOUT:L(et,`RPC '${e}' ${s} timed out`),a(new j(I.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const h=l.getStatus();if(L(et,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const g=function(v){const T=v.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(T)>=0?T:I.UNKNOWN}(f.status);a(new j(g,f.message))}else a(new j(I.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new j(I.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{L(et,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);L(et,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=Sd(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zA(),a=HA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new KA({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");L(et,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let h=!1,d=!1;const f=new F2({Wr:v=>{d?L(et,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(L(et,`Opening RPC '${e}' stream ${i} transport.`),c.open(),h=!0),L(et,`RPC '${e}' stream ${i} sending:`,v),c.send(v))},Hr:()=>c.close()}),g=(v,T,y)=>{v.listen(T,p=>{try{y(p)}catch(m){setTimeout(()=>{throw m},0)}})};return g(c,Al.EventType.OPEN,()=>{d||L(et,`RPC '${e}' stream ${i} transport opened.`)}),g(c,Al.EventType.CLOSE,()=>{d||(d=!0,L(et,`RPC '${e}' stream ${i} transport closed`),f.so())}),g(c,Al.EventType.ERROR,v=>{d||(d=!0,nc(et,`RPC '${e}' stream ${i} transport errored:`,v),f.so(new j(I.UNAVAILABLE,"The operation could not be completed")))}),g(c,Al.EventType.MESSAGE,v=>{var T;if(!d){const y=v.data[0];de(!!y);const p=y,m=p.error||((T=p[0])===null||T===void 0?void 0:T.error);if(m){L(et,`RPC '${e}' stream ${i} received error:`,m);const S=m.status;let k=function(b){const _=Ie[b];if(_!==void 0)return HC(_)}(S),x=m.message;k===void 0&&(k=I.INTERNAL,x="Unknown error status: "+S+" with message "+m.message),d=!0,f.so(new j(k,x)),c.close()}else L(et,`RPC '${e}' stream ${i} received:`,y),f.io(y)}}),g(a,qA.STAT_EVENT,v=>{v.stat===m0.PROXY?L(et,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===m0.NOPROXY&&L(et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.no()},0),f}}function Td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return new YD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new tk(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(jn(n.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new j(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V2 extends nk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=ZD(this.serializer,e),r=function(i){if(!("targetChange"in i))return K.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?gn(s.readTime):K.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=hp(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=op(a)?{documents:n2(i,a)}:{query:r2(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=KC(i,s.resumeToken):s.snapshotVersion.compareTo(K.min())>0&&(o.readTime=ac(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=s2(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.Fo(n)}}class U2 extends nk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=t2(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.Zo(r,n)}return de(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=hp(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e2(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new j(I.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new j(I.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(I.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class B2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(jn(n),this.ru=!1):L("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Ri(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Q(a);l.du.add(4),await tl(l),l.mu.set("Unknown"),l.du.delete(4),await ph(l)}(this))})}),this.mu=new B2(r,i)}}async function ph(t){if(Ri(t))for(const e of t.wu)await e(!0)}async function tl(t){for(const e of t.wu)await e(!1)}function rk(t,e){const n=Q(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),Ig(n)?bg(n):Qs(n).No()&&_g(n,e))}function ik(t,e){const n=Q(t),r=Qs(n);n.fu.delete(e),r.No()&&sk(n,e),n.fu.size===0&&(r.No()?r.$o():Ri(n)&&n.mu.set("Unknown"))}function _g(t,e){t.gu.Ot(e.targetId),Qs(t).jo(e)}function sk(t,e){t.gu.Ot(e),Qs(t).Wo(e)}function bg(t){t.gu=new qD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),Qs(t).start(),t.mu.ou()}function Ig(t){return Ri(t)&&!Qs(t).xo()&&t.fu.size>0}function Ri(t){return Q(t).du.size===0}function ok(t){t.gu=void 0}async function H2(t){t.fu.forEach((e,n)=>{_g(t,e)})}async function W2(t,e){ok(t),Ig(t)?(t.mu.au(e),bg(t)):t.mu.set("Unknown")}async function q2(t,e,n){if(t.mu.set("Online"),e instanceof qC&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lc(t,r)}else if(e instanceof lu?t.gu.Kt(e):e instanceof WC?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(K.min()))try{const r=await ek(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(ht.EMPTY_BYTE_STRING,l.snapshotVersion)),sk(i,a);const u=new di(l.target,a,1,l.sequenceNumber);_g(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){L("RemoteStore","Failed to raise snapshot:",r),await lc(t,r)}}async function lc(t,e,n){if(!Ja(e))throw e;t.du.add(1),await tl(t),t.mu.set("Offline"),n||(n=()=>ek(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await ph(t)})}function ak(t,e){return e().catch(n=>lc(t,n,e))}async function mh(t){const e=Q(t),n=Ar(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;K2(e);)try{const i=await R2(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,Q2(e,i)}catch(i){await lc(e,i)}lk(e)&&uk(e)}function K2(t){return Ri(t)&&t.lu.length<10}function Q2(t,e){t.lu.push(e);const n=Ar(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function lk(t){return Ri(t)&&!Ar(t).xo()&&t.lu.length>0}function uk(t){Ar(t).start()}async function G2(t){Ar(t).tu()}async function Y2(t){const e=Ar(t);for(const n of t.lu)e.Yo(n.mutations)}async function X2(t,e,n){const r=t.lu.shift(),i=Eg.from(r,e,n);await ak(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mh(t)}async function J2(t,e){e&&Ar(t).Jo&&await async function(n,r){if(i=r.code,WD(i)&&i!==I.ABORTED){const s=n.lu.shift();Ar(n).Oo(),await ak(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await mh(n)}var i}(t,e),lk(t)&&uk(t)}async function $0(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=Ri(n);n.du.add(3),await tl(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await ph(n)}async function Z2(t,e){const n=Q(t);e?(n.du.delete(2),await ph(n)):e||(n.du.add(2),await tl(n),n.mu.set("Unknown"))}function Qs(t){return t.yu||(t.yu=function(e,n,r){const i=Q(e);return i.nu(),new V2(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:H2.bind(null,t),Zr:W2.bind(null,t),zo:q2.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),Ig(t)?bg(t):t.mu.set("Unknown")):(await t.yu.stop(),ok(t))})),t.yu}function Ar(t){return t.pu||(t.pu=function(e,n,r){const i=Q(e);return i.nu(),new U2(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:G2.bind(null,t),Zr:J2.bind(null,t),Xo:Y2.bind(null,t),Zo:X2.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await mh(t)):(await t.pu.stop(),t.lu.length>0&&(L("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Pg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(t,e){if(jn("AsyncQueue",`${e}: ${t}`),Ja(t))return new j(I.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=Eo(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new ys(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Iu=new Ve(V.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):q():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ms{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ms(e,n,ys.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.Eu=void 0,this.listeners=[]}}class tM{constructor(){this.queries=new Ks(e=>PC(e),lh),this.onlineState="Unknown",this.Au=new Set}}async function nM(t,e){const n=Q(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new eM),i)try{s.Eu=await n.onListen(r)}catch(o){const a=Ng(o,`Initialization of query '${lp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&Rg(n)}async function rM(t,e){const n=Q(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function iM(t,e){const n=Q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&Rg(n)}function sM(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Rg(t){t.Au.forEach(e=>{e.next()})}class oM{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.key=e}}class hk{constructor(e){this.key=e}}class aM{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Y(),this.mutatedKeys=Y(),this.Ku=NC(e),this.Gu=new ys(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new V0,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=uh(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let T=!1;d&&f?d.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),T=!0):this.Wu(d,f)||(r.track({type:2,doc:f}),T=!0,(l&&this.Ku(f,l)>0||u&&this.Ku(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),T=!0):d&&!f&&(r.track({type:1,doc:d}),T=!0,(l||u)&&(a=!0)),T&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((u,c)=>function(h,d){const f=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return f(h)-f(d)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Ms(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new V0,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Y(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new hk(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new ck(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=Y();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Ms.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class lM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uM{constructor(e){this.key=e,this.ec=!1}}class cM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Ks(a=>PC(a),lh),this.ic=new Map,this.rc=new Set,this.oc=new Ve(V.comparator),this.uc=new Map,this.cc=new Cg,this.ac={},this.hc=new Map,this.lc=Ds.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function hM(t,e){const n=SM(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await O2(n.localStore,Bn(e));n.isPrimaryClient&&rk(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await dM(n,e,r,a==="current",o.resumeToken)}return i}async function dM(t,e,n,r,i){t.dc=(h,d,f)=>async function(g,v,T,y){let p=v.view.zu(T);p.Mi&&(p=await M0(g.localStore,v.query,!1).then(({documents:k})=>v.view.zu(k,p)));const m=y&&y.targetChanges.get(v.targetId),S=v.view.applyChanges(p,g.isPrimaryClient,m);return j0(g,v.targetId,S.Yu),S.snapshot}(t,h,d,f);const s=await M0(t.localStore,e,!0),o=new aM(e,s.Wi),a=o.zu(s.documents),l=el.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);j0(t,n,u.Yu);const c=new lM(e,n,o);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function fM(t,e){const n=Q(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!lh(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ik(n.remoteStore,r.targetId),fp(n,r.targetId)}).catch(Xa)):(fp(n,r.targetId),await dp(n.localStore,r.targetId,!0))}async function pM(t,e,n){const r=TM(t);try{const i=await function(s,o){const a=Q(s),l=Me.now(),u=o.reduce((d,f)=>d.add(f.key),Y());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=zn(),g=Y();return a.Ki.getEntries(d,u).next(v=>{f=v,f.forEach((T,y)=>{y.isValidDocument()||(g=g.add(T))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(v=>{c=v;const T=[];for(const y of o){const p=UD(y,c.get(y.key).overlayedDocument);p!=null&&T.push(new Br(y.key,p,TC(p.value.mapValue),en.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,T,o)}).next(v=>{h=v;const T=v.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(d,v.batchId,T)})}).then(()=>({batchId:h.batchId,changes:OC(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Ve(re)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await nl(r,i.changes),await mh(r.remoteStore)}catch(i){const s=Ng(i,"Failed to persist write");n.reject(s)}}async function dk(t,e){const n=Q(t);try{const r=await P2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?de(o.ec):i.removedDocuments.size>0&&(de(o.ec),o.ec=!1))}),await nl(n,r,e)}catch(r){await Xa(r)}}function U0(t,e,n){const r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Q(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Ru(o)&&(l=!0)}),l&&Rg(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mM(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Ve(V.comparator);o=o.insert(s,it.newNoDocument(s,K.min()));const a=Y().add(s),l=new dh(K.min(),new Map,new Le(re),o,a);await dk(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Og(r)}else await dp(r.localStore,e,!1).then(()=>fp(r,e,n)).catch(Xa)}async function gM(t,e){const n=Q(t),r=e.batch.batchId;try{const i=await I2(n.localStore,e);pk(n,r,null),fk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nl(n,i)}catch(i){await Xa(i)}}async function yM(t,e,n){const r=Q(t);try{const i=await function(s,o){const a=Q(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(de(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);pk(r,e,n),fk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nl(r,i)}catch(i){await Xa(i)}}function fk(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function pk(t,e,n){const r=Q(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||mk(t,r)})}function mk(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(ik(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Og(t))}function j0(t,e,n){for(const r of n)r instanceof ck?(t.cc.addReference(r.key,e),vM(t,r)):r instanceof hk?(L("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||mk(t,r.key)):q()}function vM(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(L("SyncEngine","New document in limbo: "+n),t.rc.add(r),Og(t))}function Og(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new V(me.fromString(e)),r=t.lc.next();t.uc.set(r,new uM(n)),t.oc=t.oc.insert(n,r),rk(t.remoteStore,new di(Bn(vg(n.path)),r,2,pg.ct))}}async function nl(t,e,n){const r=Q(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=xg.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=Q(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>N.forEach(l,h=>N.forEach(h.Vi,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>N.forEach(h.Si,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Ja(c))throw c;L("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Li.get(h),f=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(f);u.Li=u.Li.insert(h,g)}}}(r.localStore,s))}async function wM(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const r=await ZC(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new j(I.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nl(n,r.Qi)}}function EM(t,e){const n=Q(t),r=n.uc.get(e);if(r&&r.ec)return Y().add(r.key);{let i=Y();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function SM(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mM.bind(null,e),e.nc.zo=iM.bind(null,e.eventManager),e.nc.wc=sM.bind(null,e.eventManager),e}function TM(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class B0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return b2(this.persistence,new x2,e.initialUser,this.serializer)}createPersistence(e){return new C2(kg.Fs,this.serializer)}createSharedClientState(e){return new D2}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wM.bind(null,this.syncEngine),await Z2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tM}createDatastore(e){const n=fh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new $2(i));var i;return function(s,o,a,l){return new j2(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>U0(this.syncEngine,a,0),o=F0.D()?new F0:new M2,new z2(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new cM(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Q(e);L("RemoteStore","RemoteStore shutting down."),n.du.add(5),await tl(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=vC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{L("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ng(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cd(t,e){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bM(t);L("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>$0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$0(e.remoteStore,s)),t._onlineComponents=e}function _M(t){return t.name==="FirebaseError"?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function bM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_M(n))throw n;nc("Error using user provided cache. Falling back to memory cache: "+n),await Cd(t,new B0)}}else L("FirestoreClient","Using default OfflineComponentProvider"),await Cd(t,new B0);return t._offlineComponents}async function gk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),await z0(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),await z0(t,new CM))),t._onlineComponents}function IM(t){return gk(t).then(e=>e.syncEngine)}async function PM(t){const e=await gk(t),n=e.eventManager;return n.onListen=hM.bind(null,e.syncEngine),n.onUnlisten=fM.bind(null,e.syncEngine),n}function NM(t,e,n={}){const r=new Cr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new kM({next:h=>{s.enqueueAndForget(()=>rM(i,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new j(I.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new j(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new oM(vg(o.path),u,{includeMetadataChanges:!0,xu:!0});return nM(i,c)}(await PM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e,n){if(!n)throw new j(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RM(t,e,n,r){if(e===!0&&r===!0)throw new j(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W0(t){if(!V.isDocumentKey(t))throw new j(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q0(t){if(V.isDocumentKey(t))throw new j(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ag(t);throw new j(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new j(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,RM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new GA;switch(n.type){case"firstParty":return new ZA(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new j(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=H0.get(e);n&&(L("ComponentProvider","Removing Datastore"),H0.delete(e),n.terminate())}(this),Promise.resolve()}}function OM(t,e,n,r={}){var i;const s=(t=Dr(t,gh))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&nc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=nt.MOCK_USER;else{o=wP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new nt(l)}t._authCredentials=new YA(new yC(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class Dg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dg(this.firestore,e,this._query)}}class kr extends Dg{constructor(e,n,r){super(e,n,vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new V(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function En(t,e,...n){if(t=$e(t),yk("collection","path",e),t instanceof gh){const r=me.fromString(e,...n);return q0(r),new kr(t,null,r)}{if(!(t instanceof _t||t instanceof kr))throw new j(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return q0(r),new kr(t.firestore,null,r)}}function pt(t,e,...n){if(t=$e(t),arguments.length===1&&(e=vC.A()),yk("doc","path",e),t instanceof gh){const r=me.fromString(e,...n);return W0(r),new _t(t,null,new V(r))}{if(!(t instanceof _t||t instanceof kr))throw new j(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return W0(r),new _t(t.firestore,t instanceof kr?t.converter:null,new V(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new tk(this,"async_queue_retry"),this.qc=()=>{const n=Td();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=Td();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=Td();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new Cr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Ja(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw jn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=Pg.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&q()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class rl extends gh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new AM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wk(this),this._firestoreClient.terminate()}}function DM(t,e){const n=typeof t=="object"?t:MS(),r=typeof t=="string"?t:e||"(default)",i=Mm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gP("firestore");s&&OM(i,...s)}return i}function vk(t){return t._firestoreClient||wk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wk(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new dD(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new xM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(ht.fromBase64String(e))}catch(n){throw new j(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ls(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=/^__.*__$/;class LM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,n,this.fieldTransforms):new Za(e,this.data,n,this.fieldTransforms)}}class Ek{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Br(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class vh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return uc(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(Sk(this.Yc)&&MM.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class FM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fh(e)}ua(e,n,r,i=!1){return new vh({Yc:e,methodName:n,oa:r,path:st.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tk(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new FM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $M(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);Lg("Data must be an object, but it was:",o,r);const a=kk(r,o);let l,u;if(s.merge)l=new Rt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=pp(e,h,n);if(!o.contains(d))throw new j(I.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);_k(c,d)||c.push(d)}l=new Rt(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new LM(new St(a),l,u)}class wh extends il{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}function Ck(t,e,n){return new vh({Yc:3,oa:e.settings.oa,methodName:t._methodName,ta:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class VM extends il{constructor(e,n){super(e),this.ca=n}_toFieldTransform(e){const n=Ck(this,e,!0),r=this.ca.map(s=>Gs(s,n)),i=new Os(r);return new jC(e.path,i)}isEqual(e){return this===e}}class UM extends il{constructor(e,n){super(e),this.ca=n}_toFieldTransform(e){const n=Ck(this,e,!0),r=this.ca.map(s=>Gs(s,n)),i=new As(r);return new jC(e.path,i)}isEqual(e){return this===e}}function jM(t,e,n,r){const i=t.ua(1,e,n);Lg("Data must be an object, but it was:",i,r);const s=[],o=St.empty();Ni(r,(l,u)=>{const c=Fg(e,l,n);u=$e(u);const h=i.na(c);if(u instanceof wh)s.push(c);else{const d=Gs(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new Rt(s);return new Ek(o,a,i.fieldTransforms)}function BM(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[pp(e,r,n)],l=[i];if(s.length%2!=0)throw new j(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(pp(e,s[d])),l.push(s[d+1]);const u=[],c=St.empty();for(let d=a.length-1;d>=0;--d)if(!_k(u,a[d])){const f=a[d];let g=l[d];g=$e(g);const v=o.na(f);if(g instanceof wh)u.push(f);else{const T=Gs(g,v);T!=null&&(u.push(f),c.set(f,T))}}const h=new Rt(u);return new Ek(c,h,o.fieldTransforms)}function Gs(t,e){if(xk(t=$e(t)))return Lg("Unsupported field value:",e,t),kk(t,e);if(t instanceof il)return function(n,r){if(!Sk(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Gs(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=$e(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return DD(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Me.fromDate(n);return{timestampValue:ac(r.serializer,i)}}if(n instanceof Me){const i=new Me(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ac(r.serializer,i)}}if(n instanceof Mg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ls)return{bytesValue:KC(r.serializer,n._byteString)};if(n instanceof _t){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Ag(n)}`)}(t,e)}function kk(t,e){const n={};return wC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,i)=>{const s=Gs(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof Mg||t instanceof Ls||t instanceof _t||t instanceof il)}function Lg(t,e,n){if(!xk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ag(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function pp(t,e,n){if((e=$e(e))instanceof yh)return e._internalPath;if(typeof e=="string")return Fg(t,e);throw uc("Field path arguments must be of type string or ",t,!1,void 0,n)}const zM=new RegExp("[~\\*/\\[\\]]");function Fg(t,e,n){if(e.search(zM)>=0)throw uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yh(...e.split("."))._internalPath}catch{throw uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new j(I.INVALID_ARGUMENT,a+t+l)}function _k(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ik("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HM extends bk{data(){return super.data()}}function Ik(t,e){return typeof e=="string"?Fg(t,e):e instanceof yh?e._internalPath:e._delegate._internalPath}class WM{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){const r={};return Ni(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Mg(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=SC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){const n=Or(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);de(JC(r));const i=new wa(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pk extends bk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new QM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ik("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class QM extends Pk{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t){t=Dr(t,_t);const e=Dr(t.firestore,rl);return NM(vk(e),t._key).then(n=>YM(e,t,n))}class GM extends WM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function cc(t,e,n){t=Dr(t,_t);const r=Dr(t.firestore,rl),i=qM(t.converter,e,n);return $g(r,[$M(Tk(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,en.none())])}function hc(t,e,n,...r){t=Dr(t,_t);const i=Dr(t.firestore,rl),s=Tk(i);let o;return o=typeof(e=$e(e))=="string"||e instanceof yh?BM(s,"updateDoc",t._key,e,n,r):jM(s,"updateDoc",t._key,e),$g(i,[o.toMutation(t._key,en.exists(!0))])}function dc(t){return $g(Dr(t.firestore,rl),[new wg(t._key,en.none())])}function $g(t,e){return function(n,r){const i=new Cr;return n.asyncQueue.enqueueAndForget(async()=>pM(await IM(n),r,i)),i.promise}(vk(t),e)}function YM(t,e,n){const r=n.docs.get(e._key),i=new GM(t);return new Pk(t,i,e._key,r,new KM(n.hasPendingWrites,n.fromCache),e.converter)}function mp(...t){return new VM("arrayUnion",t)}function Nk(...t){return new UM("arrayRemove",t)}(function(t,e=!0){(function(n){qs=n})(La),xs(new vi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new rl(new XA(n.getProvider("auth-internal")),new tD(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new j(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Tr(g0,"3.10.0",t),Tr(g0,"3.10.0","esm2017")})();const Rk=DS({apiKey:"AIzaSyALqGWPcRE1OicCSkh7f569Wx8io0F-bAM",authDomain:"cat-app-dev-a0a3d.firebaseapp.com",databaseURL:"cat-app-dev-a0a3d.firebaseio.com",projectId:"cat-app-dev-a0a3d",storageBucket:"cat-app-dev-a0a3d.appspot.com",messagingSenderId:"1062013323474",appId:"1:1062013323474:web:0e8a0fd99282d54623050b"}),So=qO(Rk),Sn=DM(Rk),Ok=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Eh=w.createContext({}),Sh=w.createContext(null),Th=typeof document<"u",fc=Th?w.useLayoutEffect:w.useEffect,Ak=w.createContext({strict:!1});function XM(t,e,n,r){const{visualElement:i}=w.useContext(Eh),s=w.useContext(Ak),o=w.useContext(Sh),a=w.useContext(Ok).reducedMotion,l=w.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return w.useInsertionEffect(()=>{u&&u.update(n,o)}),fc(()=>{u&&u.render()}),w.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?fc:w.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function es(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JM(t,e,n){return w.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):es(n)&&(n.current=r))},[e])}function Sa(t){return typeof t=="string"||Array.isArray(t)}function Ch(t){return typeof t=="object"&&typeof t.start=="function"}const Vg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ug=["initial",...Vg];function kh(t){return Ch(t.animate)||Ug.some(e=>Sa(t[e]))}function Dk(t){return!!(kh(t)||t.variants)}function ZM(t,e){if(kh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Sa(n)?n:void 0,animate:Sa(r)?r:void 0}}return t.inherit!==!1?e:{}}function eL(t){const{initial:e,animate:n}=ZM(t,w.useContext(Eh));return w.useMemo(()=>({initial:e,animate:n}),[Q0(e),Q0(n)])}function Q0(t){return Array.isArray(t)?t.join(" "):t}const G0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ta={};for(const t in G0)Ta[t]={isEnabled:e=>G0[t].some(n=>!!e[n])};function tL(t){for(const e in t)Ta[e]={...Ta[e],...t[e]}}function jg(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let nL=1;function rL(){return jg(()=>{if(Vo.hasEverUpdated)return nL++})}const Bg=w.createContext({}),Mk=w.createContext({}),iL=Symbol.for("motionComponentSymbol");function sL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&tL(t);function s(a,l){let u;const c={...w.useContext(Ok),...a,layoutId:oL(a)},{isStatic:h}=c,d=eL(a),f=h?void 0:rL(),g=r(a,h);if(!h&&Th){d.visualElement=XM(i,g,c,e);const v=w.useContext(Mk),T=w.useContext(Ak).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,T,t,f,v))}return w.createElement(Eh.Provider,{value:d},u&&d.visualElement?w.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,f,JM(g,d.visualElement,l),g,h,d.visualElement))}const o=w.forwardRef(s);return o[iL]=i,o}function oL({layoutId:t}){const e=w.useContext(Bg).id;return e&&t!==void 0?e+"-"+t:t}function aL(t){function e(r,i={}){return sL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const lL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zg(t){return typeof t!="string"||t.includes("-")?!1:!!(lL.indexOf(t)>-1||/[A-Z]/.test(t))}const pc={};function uL(t){Object.assign(pc,t)}const xh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oi=new Set(xh);function Lk(t,{layout:e,layoutId:n}){return Oi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pc[t]||t==="opacity")}const bt=t=>!!(t&&t.getVelocity),cL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hL=xh.length;function dL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<hL;o++){const a=xh[o];if(t[a]!==void 0){const l=cL[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const Fk=t=>e=>typeof e=="string"&&e.startsWith(t),$k=Fk("--"),gp=Fk("var(--"),fL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,xi=(t,e,n)=>Math.min(Math.max(n,t),e),Ai={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Uo={...Ai,transform:t=>xi(0,1,t)},$l={...Ai,default:1},jo=t=>Math.round(t*1e5)/1e5,Ca=/(-)?([\d]*\.?[\d])+/g,yp=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function sl(t){return typeof t=="string"}const ol=t=>({test:e=>sl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gn=ol("deg"),yn=ol("%"),B=ol("px"),mL=ol("vh"),gL=ol("vw"),Y0={...yn,parse:t=>yn.parse(t)/100,transform:t=>yn.transform(t*100)},X0={...Ai,transform:Math.round},Vk={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,radius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,size:B,top:B,right:B,bottom:B,left:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,rotate:Gn,rotateX:Gn,rotateY:Gn,rotateZ:Gn,scale:$l,scaleX:$l,scaleY:$l,scaleZ:$l,skew:Gn,skewX:Gn,skewY:Gn,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:Uo,originX:Y0,originY:Y0,originZ:B,zIndex:X0,fillOpacity:Uo,strokeOpacity:Uo,numOctaves:X0};function Hg(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const d=e[h];if($k(h)){s[h]=d;continue}const f=Vk[h],g=fL(d,f);if(Oi.has(h)){if(l=!0,o[h]=g,!c)continue;d!==(f.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}if(e.transform||(l||r?i.transform=dL(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:f=0}=a;i.transformOrigin=`${h} ${d} ${f}`}}const Wg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uk(t,e,n){for(const r in e)!bt(e[r])&&!Lk(r,n)&&(t[r]=e[r])}function yL({transformTemplate:t},e,n){return w.useMemo(()=>{const r=Wg();return Hg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function vL(t,e,n){const r=t.style||{},i={};return Uk(i,r,t),Object.assign(i,yL(t,e,n)),t.transformValues?t.transformValues(i):i}function wL(t,e,n){const r={},i=vL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const EL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function mc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||EL.has(t)}let jk=t=>!mc(t);function SL(t){t&&(jk=e=>e.startsWith("on")?!mc(e):t(e))}try{SL(require("@emotion/is-prop-valid").default)}catch{}function TL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(jk(i)||n===!0&&mc(i)||!e&&!mc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function J0(t,e,n){return typeof t=="string"?t:B.transform(e+n*t)}function CL(t,e,n){const r=J0(e,t.x,t.width),i=J0(n,t.y,t.height);return`${r} ${i}`}const kL={offset:"stroke-dashoffset",array:"stroke-dasharray"},xL={offset:"strokeDashoffset",array:"strokeDasharray"};function _L(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?kL:xL;t[s.offset]=B.transform(-r);const o=B.transform(e),a=B.transform(n);t[s.array]=`${o} ${a}`}function qg(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c,h){if(Hg(t,l,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f,dimensions:g}=t;d.transform&&(g&&(f.transform=d.transform),delete d.transform),g&&(r!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=CL(g,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),s!==void 0&&_L(d,s,o,a,!1)}const Bk=()=>({...Wg(),attrs:{}}),Kg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bL(t,e,n,r){const i=w.useMemo(()=>{const s=Bk();return qg(s,e,{enableHardwareAcceleration:!1},Kg(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Uk(s,t.style,t),i.style={...s,...i.style}}return i}function IL(t=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=(zg(n)?bL:wL)(r,o,a,n),h={...TL(r,typeof n=="string",t),...u,ref:s},{children:d}=r,f=w.useMemo(()=>bt(d)?d.get():d,[d]);return i&&(h["data-projection-id"]=i),w.createElement(n,{...h,children:f})}}const Qg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function zk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Hk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wk(t,e,n,r){zk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Hk.has(i)?i:Qg(i),e.attrs[i])}function Gg(t,e){const{style:n}=t,r={};for(const i in n)(bt(n[i])||e.style&&bt(e.style[i])||Lk(i,t))&&(r[i]=n[i]);return r}function qk(t,e){const n=Gg(t,e);for(const r in t)if(bt(t[r])||bt(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=t[r]}return n}function Yg(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const gc=t=>Array.isArray(t),PL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),NL=t=>gc(t)?t[t.length-1]||0:t;function uu(t){const e=bt(t)?t.get():t;return PL(e)?e.toValue():e}function RL({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:OL(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Kk=t=>(e,n)=>{const r=w.useContext(Eh),i=w.useContext(Sh),s=()=>RL(t,e,r,i);return n?s():jg(s)};function OL(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=uu(s[d]);let{initial:o,animate:a}=t;const l=kh(t),u=Dk(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Ch(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const g=Yg(t,f);if(!g)return;const{transitionEnd:v,transition:T,...y}=g;for(const p in y){let m=y[p];if(Array.isArray(m)){const S=c?m.length-1:0;m=m[S]}m!==null&&(i[p]=m)}for(const p in v)i[p]=v[p]}),i}const AL={useVisualState:Kk({scrapeMotionValuesFromProps:qk,createRenderState:Bk,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}qg(n,r,{enableHardwareAcceleration:!1},Kg(e.tagName),t.transformTemplate),Wk(e,n)}})},DL={useVisualState:Kk({scrapeMotionValuesFromProps:Gg,createRenderState:Wg})};function ML(t,{forwardMotionProps:e=!1},n,r){return{...zg(t)?AL:DL,preloadedFeatures:n,useRender:IL(e),createVisualElement:r,Component:t}}function Rn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Qk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function _h(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const LL=t=>e=>Qk(e)&&t(e,_h(e));function An(t,e,n,r){return Rn(t,e,LL(n),r)}const FL=(t,e)=>n=>e(t(n)),xr=(...t)=>t.reduce(FL);function Gk(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Z0=Gk("dragHorizontal"),ew=Gk("dragVertical");function Yk(t){let e=!1;if(t==="y")e=ew();else if(t==="x")e=Z0();else{const n=Z0(),r=ew();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Xk(){const t=Yk(!0);return t?(t(),!1):!0}class zr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $L(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,d=h?e:n;return u&&o.add(l),d.indexOf(l)===-1&&(d.push(l),h&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const ot={delta:0,timestamp:0,isProcessing:!1},VL=40;let vp=!0,ka=!1;const al=["read","update","preRender","render","postRender"],bh=al.reduce((t,e)=>(t[e]=$L(()=>ka=!0),t),{}),ge=al.reduce((t,e)=>{const n=bh[e];return t[e]=(r,i=!1,s=!1)=>(ka||jL(),n.schedule(r,i,s)),t},{}),Hn=al.reduce((t,e)=>(t[e]=bh[e].cancel,t),{}),kd=al.reduce((t,e)=>(t[e]=()=>bh[e].process(ot),t),{}),UL=t=>bh[t].process(ot),Jk=t=>{ka=!1,ot.delta=vp?1e3/60:Math.max(Math.min(t-ot.timestamp,VL),1),ot.timestamp=t,ot.isProcessing=!0,al.forEach(UL),ot.isProcessing=!1,ka&&(vp=!1,requestAnimationFrame(Jk))},jL=()=>{ka=!0,vp=!0,ot.isProcessing||requestAnimationFrame(Jk)};function tw(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||Xk())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ge.update(()=>a[r](s,o))};return An(t.current,n,i,{passive:!t.getProps()[r]})}class BL extends zr{mount(){this.unmount=xr(tw(this.node,!0),tw(this.node,!1))}unmount(){}}class zL extends zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xr(Rn(this.node.current,"focus",()=>this.onFocus()),Rn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Zk=(t,e)=>e?t===e?!0:Zk(t,e.parentElement):!1,Be=t=>t;function xd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,_h(n))}class HL extends zr{constructor(){super(...arguments),this.removeStartListeners=Be,this.removeEndListeners=Be,this.removeAccessibleListeners=Be,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=An(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();ge.update(()=>{Zk(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=An(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=xr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||xd("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&ge.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Rn(this.node.current,"keyup",o),xd("down",(a,l)=>{this.startPress(a,l)})},n=Rn(this.node.current,"keydown",e),r=()=>{this.isPressing&&xd("cancel",(s,o)=>this.cancelPress(s,o))},i=Rn(this.node.current,"blur",r);this.removeAccessibleListeners=xr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ge.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Xk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ge.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=An(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Rn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const wp=new WeakMap,_d=new WeakMap,WL=t=>{const e=wp.get(t.target);e&&e(t)},qL=t=>{t.forEach(WL)};function KL({root:t,...e}){const n=t||document;_d.has(n)||_d.set(n,{});const r=_d.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(qL,{root:t,...e})),r[i]}function QL(t,e,n){const r=KL(e);return wp.set(t,n),r.observe(t),()=>{wp.delete(t),r.unobserve(t)}}const GL={some:0,all:1};class YL extends zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:GL[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return QL(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XL(e,n))&&this.startObserver()}unmount(){}}function XL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JL={inView:{Feature:YL},tap:{Feature:HL},focus:{Feature:zL},hover:{Feature:BL}};function ex(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ZL(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function eF(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ih(t,e,n){const r=t.getProps();return Yg(r,e,n!==void 0?n:r.custom,ZL(t),eF(t))}const tF="framerAppearId",nF="data-"+Qg(tF);let rF=Be,Xg=Be;const _r=t=>t*1e3,Dn=t=>t/1e3,iF={current:!1},tx=t=>Array.isArray(t)&&typeof t[0]=="number";function nx(t){return!!(!t||typeof t=="string"&&rx[t]||tx(t)||Array.isArray(t)&&t.every(nx))}const To=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:To([0,.65,.55,1]),circOut:To([.55,0,1,.45]),backIn:To([.31,.01,.66,-.59]),backOut:To([.33,1.53,.69,.99])};function ix(t){if(t)return tx(t)?To(t):Array.isArray(t)?t.map(ix):rx[t]}function sF(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=ix(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const nw={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},bd={},sx={};for(const t in nw)sx[t]=()=>(bd[t]===void 0&&(bd[t]=nw[t]()),bd[t]);function oF(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const ox=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,aF=1e-7,lF=12;function uF(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=ox(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>aF&&++a<lF);return o}function ll(t,e,n,r){if(t===e&&n===r)return Be;const i=s=>uF(s,0,1,t,n);return s=>s===0||s===1?s:ox(i(s),e,r)}const cF=ll(.42,0,1,1),hF=ll(0,0,.58,1),ax=ll(.42,0,.58,1),dF=t=>Array.isArray(t)&&typeof t[0]!="number",lx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ux=t=>e=>1-t(1-e),cx=t=>1-Math.sin(Math.acos(t)),Jg=ux(cx),fF=lx(Jg),hx=ll(.33,1.53,.69,.99),Zg=ux(hx),pF=lx(Zg),mF=t=>(t*=2)<1?.5*Zg(t):.5*(2-Math.pow(2,-10*(t-1))),gF={linear:Be,easeIn:cF,easeInOut:ax,easeOut:hF,circIn:cx,circInOut:fF,circOut:Jg,backIn:Zg,backInOut:pF,backOut:hx,anticipate:mF},rw=t=>{if(Array.isArray(t)){Xg(t.length===4);const[e,n,r,i]=t;return ll(e,n,r,i)}else if(typeof t=="string")return gF[t];return t},ey=(t,e)=>n=>!!(sl(n)&&pL.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),dx=(t,e,n)=>r=>{if(!sl(r))return r;const[i,s,o,a]=r.match(Ca);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yF=t=>xi(0,255,t),Id={...Ai,transform:t=>Math.round(yF(t))},ai={test:ey("rgb","red"),parse:dx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Id.transform(t)+", "+Id.transform(e)+", "+Id.transform(n)+", "+jo(Uo.transform(r))+")"};function vF(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ep={test:ey("#"),parse:vF,transform:ai.transform},ts={test:ey("hsl","hue"),parse:dx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+yn.transform(jo(e))+", "+yn.transform(jo(n))+", "+jo(Uo.transform(r))+")"},dt={test:t=>ai.test(t)||Ep.test(t)||ts.test(t),parse:t=>ai.test(t)?ai.parse(t):ts.test(t)?ts.parse(t):Ep.parse(t),transform:t=>sl(t)?t:t.hasOwnProperty("red")?ai.transform(t):ts.transform(t)},we=(t,e,n)=>-n*t+n*e+t;function Pd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Pd(l,a,t+1/3),s=Pd(l,a,t),o=Pd(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Nd=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},EF=[Ep,ai,ts],SF=t=>EF.find(e=>e.test(t));function iw(t){const e=SF(t);let n=e.parse(t);return e===ts&&(n=wF(n)),n}const fx=(t,e)=>{const n=iw(t),r=iw(e),i={...n};return s=>(i.red=Nd(n.red,r.red,s),i.green=Nd(n.green,r.green,s),i.blue=Nd(n.blue,r.blue,s),i.alpha=we(n.alpha,r.alpha,s),ai.transform(i))},px="${c}",mx="${n}";function TF(t){var e,n;return isNaN(t)&&sl(t)&&(((e=t.match(Ca))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(yp))===null||n===void 0?void 0:n.length)||0)>0}function yc(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,r=0;const i=t.match(yp);i&&(n=i.length,t=t.replace(yp,px),e.push(...i.map(dt.parse)));const s=t.match(Ca);return s&&(r=s.length,t=t.replace(Ca,mx),e.push(...s.map(Ai.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function gx(t){return yc(t).values}function yx(t){const{values:e,numColors:n,tokenised:r}=yc(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?px:mx,a<n?dt.transform(s[a]):jo(s[a]));return o}}const CF=t=>typeof t=="number"?0:t;function kF(t){const e=gx(t);return yx(t)(e.map(CF))}const Mr={test:TF,parse:gx,createTransformer:yx,getAnimatableNone:kF};function vx(t,e){return typeof t=="number"?n=>we(t,e,n):dt.test(t)?fx(t,e):Ex(t,e)}const wx=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>vx(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},xF=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=vx(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},Ex=(t,e)=>{const n=Mr.createTransformer(e),r=yc(t),i=yc(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?xr(wx(r.values,i.values),n):o=>`${o>0?e:t}`},xa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},sw=(t,e)=>n=>we(t,e,n);function _F(t){return typeof t=="number"?sw:typeof t=="string"?dt.test(t)?fx:Ex:Array.isArray(t)?wx:typeof t=="object"?xF:sw}function bF(t,e,n){const r=[],i=n||_F(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Be:e;a=xr(l,a)}r.push(a)}return r}function Sx(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Xg(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=bF(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=xa(t[c],t[c+1],u);return o[c](h)};return n?u=>l(xi(t[0],t[s-1],u)):l}function IF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=xa(0,e,r);t.push(we(n,1,i))}}function PF(t){const e=[0];return IF(e,t.length-1),e}function NF(t,e){return t.map(n=>n*e)}function RF(t,e){return t.map(()=>e||ax).splice(0,t.length-1)}function vc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=dF(r)?r.map(rw):rw(r),s={done:!1,value:e[0]},o=NF(n&&n.length===e.length?n:PF(e),t),a=Sx(o,e,{ease:Array.isArray(i)?i:RF(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function Tx(t,e){return e?t*(1e3/e):0}const OF=5;function Cx(t,e,n){const r=Math.max(e-OF,0);return Tx(n-t(r),e-r)}const Rd=.001,AF=.01,ow=10,DF=.05,MF=1;function LF({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;rF(t<=_r(ow));let o=1-e;o=xi(DF,MF,o),t=xi(AF,ow,Dn(t)),o<1?(i=u=>{const c=u*o,h=c*t,d=c-n,f=Sp(u,o),g=Math.exp(-h);return Rd-d/f*g},s=u=>{const h=u*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),v=Sp(Math.pow(u,2),o);return(-i(u)+Rd>0?-1:1)*((d-f)*g)/v}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-Rd+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=$F(i,s,a);if(t=_r(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const FF=12;function $F(t,e,n){let r=n;for(let i=1;i<FF;i++)r=r-t(r)/e(r);return r}function Sp(t,e){return t*Math.sqrt(1-e*e)}const VF=["duration","bounce"],UF=["stiffness","damping","mass"];function aw(t,e){return e.some(n=>t[n]!==void 0)}function jF(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!aw(t,UF)&&aw(t,VF)){const n=LF(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function kx({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=jF(r),f=c?-Dn(c):0,g=l/(2*Math.sqrt(a*u)),v=s-i,T=Dn(Math.sqrt(a/u)),y=Math.abs(v)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let p;if(g<1){const m=Sp(T,g);p=S=>{const k=Math.exp(-g*T*S);return s-k*((f+g*T*v)/m*Math.sin(m*S)+v*Math.cos(m*S))}}else if(g===1)p=m=>s-Math.exp(-T*m)*(v+(f+T*v)*m);else{const m=T*Math.sqrt(g*g-1);p=S=>{const k=Math.exp(-g*T*S),x=Math.min(m*S,300);return s-k*((f+g*T*v)*Math.sinh(x)+m*v*Math.cosh(x))/m}}return{calculatedDuration:d&&h||null,next:m=>{const S=p(m);if(d)o.done=m>=h;else{let k=f;m!==0&&(g<1?k=Cx(p,m,S):k=0);const x=Math.abs(k)<=n,b=Math.abs(s-S)<=e;o.done=x&&b}return o.value=o.done?s:S,o}}}function lw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=_=>a!==void 0&&_<a||l!==void 0&&_>l,g=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let v=n*e;const T=h+v,y=o===void 0?T:o(T);y!==T&&(v=y-h);const p=_=>-v*Math.exp(-_/r),m=_=>y+p(_),S=_=>{const D=p(_),R=m(_);d.done=Math.abs(D)<=u,d.value=d.done?y:R};let k,x;const b=_=>{f(d.value)&&(k=_,x=kx({keyframes:[d.value,g(d.value)],velocity:Cx(m,_,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return b(0),{calculatedDuration:null,next:_=>{let D=!1;return!x&&k===void 0&&(D=!0,S(_),b(_)),k!==void 0&&_>k?x.next(_-k):(!D&&S(_),d)}}}const BF=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ge.update(e,!0),stop:()=>Hn.update(e),now:()=>ot.isProcessing?ot.timestamp:performance.now()}},uw=2e4;function cw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<uw;)e+=n,r=t.next(e);return e>=uw?1/0:e}const zF={decay:lw,inertia:lw,tween:vc,keyframes:vc,spring:kx};function wc({autoplay:t=!0,delay:e=0,driver:n=BF,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let f=1,g=!1,v,T;const y=()=>{v&&v(),T=new Promise(z=>{v=z})};y();let p;const m=zF[i]||vc;let S;m!==vc&&typeof r[0]!="number"&&(S=Sx([0,100],r,{clamp:!1}),r=[0,100]);const k=m({...d,keyframes:r});let x;a==="mirror"&&(x=m({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let b="idle",_=null,D=null,R=null;k.calculatedDuration===null&&s&&(k.calculatedDuration=cw(k));const{calculatedDuration:G}=k;let se=1/0,be=1/0;G!==null&&(se=G+o,be=se*(s+1)-o);let ne=0;const oe=z=>{if(D===null)return;f>0&&(D=Math.min(D,z)),_!==null?ne=_:ne=(z-D)*f;const le=ne-e,Hr=le<0;ne=Math.max(le,0),b==="finished"&&_===null&&(ne=be);let sn=ne,Mi=k;if(s){const Oh=ne/se;let hl=Math.floor(Oh),qr=Oh%1;!qr&&Oh>=1&&(qr=1),qr===1&&hl--,hl=Math.min(hl,s+1);const dy=!!(hl%2);dy&&(a==="reverse"?(qr=1-qr,o&&(qr-=o/se)):a==="mirror"&&(Mi=x));let fy=xi(0,1,qr);ne>be&&(fy=a==="reverse"&&dy?1:0),sn=fy*se}const It=Hr?{done:!1,value:r[0]}:Mi.next(sn);S&&(It.value=S(It.value));let{done:Wr}=It;!Hr&&G!==null&&(Wr=ne>=be);const r_=_===null&&(b==="finished"||b==="running"&&Wr||f<0&&ne<=0);return h&&h(It.value),r_&&O(),It},ye=()=>{p&&p.stop(),p=void 0},Xe=()=>{b="idle",ye(),y(),D=R=null},O=()=>{b="finished",c&&c(),ye(),y()},$=()=>{if(g)return;p||(p=n(oe));const z=p.now();l&&l(),_!==null?D=z-_:(!D||b==="finished")&&(D=z),R=D,_=null,b="running",p.start()};t&&$();const H={then(z,le){return T.then(z,le)},get time(){return Dn(ne)},set time(z){z=_r(z),ne=z,_!==null||!p||f===0?_=z:D=p.now()-z/f},get duration(){const z=k.calculatedDuration===null?cw(k):k.calculatedDuration;return Dn(z)},get speed(){return f},set speed(z){z===f||!p||(f=z,H.time=Dn(ne))},get state(){return b},play:$,pause:()=>{b="paused",_=ne},stop:()=>{g=!0,b!=="idle"&&(b="idle",u&&u(),Xe())},cancel:()=>{R!==null&&oe(R),Xe()},complete:()=>{b="finished"},sample:z=>(D=0,oe(z))};return H}const HF=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Vl=10,WF=2e4,qF=(t,e)=>e.type==="spring"||t==="backgroundColor"||!nx(e.ease);function KF(t,e,{onUpdate:n,onComplete:r,...i}){if(!(sx.waapi()&&HF.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(y=>{a=y})};u();let{keyframes:c,duration:h=300,ease:d,times:f}=i;if(qF(e,i)){const y=wc({...i,repeat:0,delay:0});let p={done:!1,value:c[0]};const m=[];let S=0;for(;!p.done&&S<WF;)p=y.sample(S),m.push(p.value),S+=Vl;f=void 0,c=m,h=S-Vl,d="linear"}const g=sF(t.owner.current,e,c,{...i,duration:h,ease:d,times:f}),v=()=>g.cancel(),T=()=>{ge.update(v),a(),u()};return g.onfinish=()=>{t.set(oF(c,i)),r&&r(),T()},{then(y,p){return l.then(y,p)},get time(){return Dn(g.currentTime||0)},set time(y){g.currentTime=_r(y)},get speed(){return g.playbackRate},set speed(y){g.playbackRate=y},get duration(){return Dn(h)},play:()=>{o||(g.play(),Hn.update(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:y}=g;if(y){const p=wc({...i,autoplay:!1});t.setWithVelocity(p.sample(y-Vl).value,p.sample(y).value,Vl)}T()},complete:()=>g.finish(),cancel:T}}function QF({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Be,pause:Be,stop:Be,then:s=>(s(),Promise.resolve()),cancel:Be,complete:Be});return e?wc({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const GF={type:"spring",stiffness:500,damping:25,restSpeed:10},YF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XF={type:"keyframes",duration:.8},JF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZF=(t,{keyframes:e})=>e.length>2?XF:Oi.has(t)?t.startsWith("scale")?YF(e[1]):GF:JF,Tp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Mr.test(e)&&!e.startsWith("url(")),e$=new Set(["brightness","contrast","saturate","opacity"]);function t$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ca)||[];if(!r)return t;const i=n.replace(r,"");let s=e$.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const n$=/([a-z-]*)\(.*?\)/g,Cp={...Mr,getAnimatableNone:t=>{const e=t.match(n$);return e?e.map(t$).join(" "):t}},r$={...Vk,color:dt,backgroundColor:dt,outlineColor:dt,fill:dt,stroke:dt,borderColor:dt,borderTopColor:dt,borderRightColor:dt,borderBottomColor:dt,borderLeftColor:dt,filter:Cp,WebkitFilter:Cp},ty=t=>r$[t];function ny(t,e){let n=ty(t);return n!==Cp&&(n=Mr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function i$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function hw(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function dw(t){return typeof t=="number"?0:ny("",t)}function xx(t,e){return t[e]||t.default||t}function s$(t,[...e]){for(let n=0;n<e.length;n++)e[n]===null&&(e[n]=n===0?t:e[n-1]);return e}function o$(t,e,n,r){const i=Tp(e,n);let s=r.from!==void 0?r.from:t.get();return s==="none"&&i&&typeof n=="string"?s=ny(e,n):hw(s)&&typeof n=="string"?s=dw(n):!Array.isArray(n)&&hw(n)&&typeof s=="string"&&(n=dw(s)),Array.isArray(n)?s$(s,n):[s,n]}const ry=(t,e,n,r={})=>i=>{const s=xx(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-_r(o);const l=o$(e,t,n,s),u=l[0],c=l[l.length-1],h=Tp(t,u),d=Tp(t,c);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(i$(s)||(f={...f,...ZF(t,f)}),f.duration&&(f.duration=_r(f.duration)),f.repeatDelay&&(f.repeatDelay=_r(f.repeatDelay)),!h||!d||iF.current||s.type===!1)return QF(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=KF(e,t,f);if(g)return g}return wc(f)};function Ec(t){return!!(bt(t)&&t.add)}const a$=t=>/^\-?\d*\.?\d+$/.test(t),l$=t=>/^0[^.\s]+$/.test(t);function iy(t,e){t.indexOf(e)===-1&&t.push(e)}function sy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class oy{constructor(){this.subscriptions=[]}add(e){return iy(this.subscriptions,e),()=>sy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const u$=t=>!isNaN(parseFloat(t));class c${constructor(e,n={}){this.version="10.11.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ot;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ge.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ge.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=u$(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new oy);const r=this.events[e].add(n);return e==="change"?()=>{r(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Tx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fs(t,e){return new c$(t,e)}const _x=t=>e=>e.test(t),h$={test:t=>t==="auto",parse:t=>t},bx=[Ai,B,yn,Gn,gL,mL,h$],uo=t=>bx.find(_x(t)),d$=[...bx,dt,Mr],f$=t=>d$.find(_x(t));function p$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fs(n))}function m$(t,e){const n=Ih(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=NL(s[o]);p$(t,o,a)}}function g$(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(a$(c)||l$(c))?c=parseFloat(c):!f$(c)&&Mr.test(u)&&(c=ny(l,u)),t.addValue(l,Fs(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function y$(t,e){return e?(e[t]||e.default||e).from:void 0}function v$(t,e,n){const r={};for(const i in t){const s=y$(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function w$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ix(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h),f=a[h];if(!d||f===void 0||c&&w$(c,h))continue;const g={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const T=t.getProps()[nF];T&&(g.elapsed=window.HandoffAppearAnimations(T,h,d,ge))}d.start(ry(h,d,f,t.shouldReduceMotion&&Oi.has(h)?{type:!1}:g));const v=d.animation;Ec(l)&&(l.add(h),v.then(()=>l.remove(h))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&m$(t,o)}),u}function kp(t,e,n={}){const r=Ih(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Ix(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return E$(t,e,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function E$(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(S$).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(kp(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function S$(t,e){return t.sortNodePosition(e)}function T$(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>kp(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=kp(t,e,n);else{const i=typeof e=="function"?Ih(t,e,n.custom):e;r=Promise.all(Ix(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const C$=[...Vg].reverse(),k$=Vg.length;function x$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>T$(t,n,r)))}function _$(t){let e=x$(t);const n=I$();let r=!0;const i=(l,u)=>{const c=Ih(t,u);if(c){const{transition:h,transitionEnd:d,...f}=c;l={...l,...f,...d}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let g={},v=1/0;for(let y=0;y<k$;y++){const p=C$[y],m=n[p],S=c[p]!==void 0?c[p]:h[p],k=Sa(S),x=p===u?m.isActive:null;x===!1&&(v=y);let b=S===h[p]&&S!==c[p]&&k;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),m.protectedKeys={...g},!m.isActive&&x===null||!S&&!m.prevProp||Ch(S)||typeof S=="boolean")continue;const _=b$(m.prevProp,S);let D=_||p===u&&m.isActive&&!b&&k||y>v&&k;const R=Array.isArray(S)?S:[S];let G=R.reduce(i,{});x===!1&&(G={});const{prevResolvedValues:se={}}=m,be={...se,...G},ne=oe=>{D=!0,f.delete(oe),m.needsAnimating[oe]=!0};for(const oe in be){const ye=G[oe],Xe=se[oe];g.hasOwnProperty(oe)||(ye!==Xe?gc(ye)&&gc(Xe)?!ex(ye,Xe)||_?ne(oe):m.protectedKeys[oe]=!0:ye!==void 0?ne(oe):f.add(oe):ye!==void 0&&f.has(oe)?ne(oe):m.protectedKeys[oe]=!0)}m.prevProp=S,m.prevResolvedValues=G,m.isActive&&(g={...g,...G}),r&&t.blockInitialAnimation&&(D=!1),D&&!b&&d.push(...R.map(oe=>({animation:oe,options:{type:p,...l}})))}if(f.size){const y={};f.forEach(p=>{const m=t.getBaseTarget(p);m!==void 0&&(y[p]=m)}),d.push({animation:y})}let T=!!d.length;return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(d):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=o(c,l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function b$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ex(e,t):!1}function Kr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function I$(){return{animate:Kr(!0),whileInView:Kr(),whileHover:Kr(),whileTap:Kr(),whileDrag:Kr(),whileFocus:Kr(),exit:Kr()}}class P$ extends zr{constructor(e){super(e),e.animationState||(e.animationState=_$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ch(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let N$=0;class R$ extends zr{constructor(){super(...arguments),this.id=N$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const O$={animation:{Feature:P$},exit:{Feature:R$}},fw=(t,e)=>Math.abs(t-e);function A$(t,e){const n=fw(t.x,e.x),r=fw(t.y,e.y);return Math.sqrt(n**2+r**2)}class Px{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Ad(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=A$(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:f}=ot;this.history.push({...d,timestamp:f});const{onStart:g,onMove:v}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Od(c,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=Ad(u.type==="pointercancel"?this.lastMoveEventInfo:Od(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,f),d&&d(u,f)},!Qk(e))return;this.handlers=n,this.transformPagePoint=r;const i=_h(e),s=Od(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=ot;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,Ad(s,this.history)),this.removeListeners=xr(An(window,"pointermove",this.handlePointerMove),An(window,"pointerup",this.handlePointerUp),An(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hn.update(this.updatePoint)}}function Od(t,e){return e?{point:e(t.point)}:t}function pw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ad({point:t},e){return{point:t,delta:pw(t,Nx(e)),offset:pw(t,D$(e)),velocity:M$(e,.1)}}function D$(t){return t[0]}function Nx(t){return t[t.length-1]}function M$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Nx(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_r(e)));)n--;if(!r)return{x:0,y:0};const s=Dn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Lt(t){return t.max-t.min}function xp(t,e=0,n=.01){return Math.abs(t-e)<=n}function mw(t,e,n,r=.5){t.origin=r,t.originPoint=we(e.min,e.max,t.origin),t.scale=Lt(n)/Lt(e),(xp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=we(n.min,n.max,t.origin)-t.originPoint,(xp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Bo(t,e,n,r){mw(t.x,e.x,n.x,r?r.originX:void 0),mw(t.y,e.y,n.y,r?r.originY:void 0)}function gw(t,e,n){t.min=n.min+e.min,t.max=t.min+Lt(e)}function L$(t,e,n){gw(t.x,e.x,n.x),gw(t.y,e.y,n.y)}function yw(t,e,n){t.min=e.min-n.min,t.max=t.min+Lt(e)}function zo(t,e,n){yw(t.x,e.x,n.x),yw(t.y,e.y,n.y)}function F$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?we(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?we(n,t,r.max):Math.min(t,n)),t}function vw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $$(t,{top:e,left:n,bottom:r,right:i}){return{x:vw(t.x,n,i),y:vw(t.y,e,r)}}function ww(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function V$(t,e){return{x:ww(t.x,e.x),y:ww(t.y,e.y)}}function U$(t,e){let n=.5;const r=Lt(t),i=Lt(e);return i>r?n=xa(e.min,e.max-r,t.min):r>i&&(n=xa(t.min,t.max-i,e.min)),xi(0,1,n)}function j$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _p=.35;function B$(t=_p){return t===!1?t=0:t===!0&&(t=_p),{x:Ew(t,"left","right"),y:Ew(t,"top","bottom")}}function Ew(t,e,n){return{min:Sw(t,e),max:Sw(t,n)}}function Sw(t,e){return typeof t=="number"?t:t[e]||0}const Tw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:Tw(),y:Tw()}),Cw=()=>({min:0,max:0}),Pe=()=>({x:Cw(),y:Cw()});function ln(t){return[t("x"),t("y")]}function Rx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function z$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function H$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dd(t){return t===void 0||t===1}function bp({scale:t,scaleX:e,scaleY:n}){return!Dd(t)||!Dd(e)||!Dd(n)}function Xr(t){return bp(t)||Ox(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Ox(t){return kw(t.x)||kw(t.y)}function kw(t){return t&&t!=="0%"}function Sc(t,e,n){const r=t-n,i=e*r;return n+i}function xw(t,e,n,r,i){return i!==void 0&&(t=Sc(t,i,r)),Sc(t,n,r)+e}function Ip(t,e=0,n=1,r,i){t.min=xw(t.min,e,n,r,i),t.max=xw(t.max,e,n,r,i)}function Ax(t,{x:e,y:n}){Ip(t.x,e.translate,e.scale,e.originPoint),Ip(t.y,n.translate,n.scale,n.originPoint)}function W$(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ns(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Ax(t,o)),r&&Xr(s.latestValues)&&ns(t,s.latestValues))}e.x=_w(e.x),e.y=_w(e.y)}function _w(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Zn(t,e){t.min=t.min+e,t.max=t.max+e}function bw(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=we(t.min,t.max,s);Ip(t,e[n],e[r],o,e.scale)}const q$=["x","scaleX","originX"],K$=["y","scaleY","originY"];function ns(t,e){bw(t.x,e,q$),bw(t.y,e,K$)}function Dx(t,e){return Rx(H$(t.getBoundingClientRect(),e))}function Q$(t,e,n){const r=Dx(t,n),{scroll:i}=e;return i&&(Zn(r.x,i.offset.x),Zn(r.y,i.offset.y)),r}const G$=new WeakMap;class Y${constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(_h(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Yk(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ln(g=>{let v=this.getAxisMotionValue(g).get()||0;if(yn.test(v)){const{projection:T}=this.visualElement;if(T&&T.layout){const y=T.layout.layoutBox[g];y&&(v=Lt(y)*(parseFloat(v)/100))}}this.originPoint[g]=v}),d&&ge.update(()=>d(l,u));const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(h&&this.currentDirection===null){this.currentDirection=X$(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),f&&f(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new Px(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ge.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ul(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=F$(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&es(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$$(r.layoutBox,e):this.constraints=!1,this.elastic=B$(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ln(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=j$(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!es(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Q$(r,i.root,this.visualElement.getTransformPagePoint());let o=V$(i.layout.layoutBox,s);if(n){const a=n(z$(o));this.hasMutatedConstraints=!!a,a&&(o=Rx(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ln(c=>{if(!Ul(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(ry(e,r,0,n))}stopAnimation(){ln(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ln(n=>{const{drag:r}=this.getProps();if(!Ul(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-we(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!es(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ln(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=U$({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ln(o=>{if(!Ul(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(we(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;G$.set(this.visualElement,this);const e=this.visualElement.current,n=An(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();es(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Rn(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ln(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=_p,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ul(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function X$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class J$ extends zr{constructor(e){super(e),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new Y$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}}const Iw=t=>(e,n)=>{t&&ge.update(()=>t(e,n))};class Z$ extends zr{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(e){this.session=new Px(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Iw(e),onStart:Iw(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ge.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=An(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function eV(){const t=w.useContext(Sh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=w.useId();return w.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function Pw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const co={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(B.test(t))t=parseFloat(t);else return t;const n=Pw(t,e.target.x),r=Pw(t,e.target.y);return`${n}% ${r}%`}},Mx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tV(t){const e=Mx.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Pp(t,e,n=1){const[r,i]=tV(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():gp(i)?Pp(i,e,n+1):i}function nV(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!gp(s))return;const o=Pp(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!gp(s))continue;const o=Pp(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Nw="_$css",rV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),s=[];i&&(t=t.replace(Mx,f=>(s.push(f),Nw)));const o=Mr.parse(t);if(o.length>5)return r;const a=Mr.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=c;const h=we(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let d=a(o);if(i){let f=0;d=d.replace(Nw,()=>{const g=s[f];return f++,g})}return d}};class iV extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;uL(sV),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ge.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Lx(t){const[e,n]=eV(),r=w.useContext(Bg);return C.createElement(iV,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(Mk),isPresent:e,safeToRemove:n})}const sV={borderRadius:{...co,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:co,borderTopRightRadius:co,borderBottomLeftRadius:co,borderBottomRightRadius:co,boxShadow:rV},Fx=["TopLeft","TopRight","BottomLeft","BottomRight"],oV=Fx.length,Rw=t=>typeof t=="string"?parseFloat(t):t,Ow=t=>typeof t=="number"||B.test(t);function aV(t,e,n,r,i,s){i?(t.opacity=we(0,n.opacity!==void 0?n.opacity:1,lV(r)),t.opacityExit=we(e.opacity!==void 0?e.opacity:1,0,uV(r))):s&&(t.opacity=we(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<oV;o++){const a=`border${Fx[o]}Radius`;let l=Aw(e,a),u=Aw(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Ow(l)===Ow(u)?(t[a]=Math.max(we(Rw(l),Rw(u),r),0),(yn.test(u)||yn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=we(e.rotate||0,n.rotate||0,r))}function Aw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lV=$x(0,.5,Jg),uV=$x(.5,.95,Be);function $x(t,e,n){return r=>r<t?0:r>e?1:n(xa(t,e,r))}function Dw(t,e){t.min=e.min,t.max=e.max}function Vt(t,e){Dw(t.x,e.x),Dw(t.y,e.y)}function Mw(t,e,n,r,i){return t-=e,t=Sc(t,1/n,r),i!==void 0&&(t=Sc(t,1/i,r)),t}function cV(t,e=0,n=1,r=.5,i,s=t,o=t){if(yn.test(e)&&(e=parseFloat(e),e=we(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=we(s.min,s.max,r);t===s&&(a-=e),t.min=Mw(t.min,e,n,a,i),t.max=Mw(t.max,e,n,a,i)}function Lw(t,e,[n,r,i],s,o){cV(t,e[n],e[r],e[i],e.scale,s,o)}const hV=["x","scaleX","originX"],dV=["y","scaleY","originY"];function Fw(t,e,n,r){Lw(t.x,e,hV,n?n.x:void 0,r?r.x:void 0),Lw(t.y,e,dV,n?n.y:void 0,r?r.y:void 0)}function $w(t){return t.translate===0&&t.scale===1}function Vx(t){return $w(t.x)&&$w(t.y)}function Np(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Vw(t){return Lt(t.x)/Lt(t.y)}class fV{constructor(){this.members=[]}add(e){iy(this.members,e),e.scheduleRender()}remove(e){if(sy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uw(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const pV=(t,e)=>t.depth-e.depth;class mV{constructor(){this.children=[],this.isDirty=!1}add(e){iy(this.children,e),this.isDirty=!0}remove(e){sy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pV),this.isDirty=!1,this.children.forEach(e)}}function gV(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Hn.read(r),t(s-e))};return ge.read(r,!0),()=>Hn.read(r)}function yV(t){window.MotionDebug&&window.MotionDebug.record(t)}function vV(t){return t instanceof SVGElement&&t.tagName!=="svg"}function wV(t,e,n){const r=bt(t)?t:Fs(t);return r.start(ry("",r,e,n)),r.animation}const jw=["","X","Y","Z"],Bw=1e3;let EV=0;const Jr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ux({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=EV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Jr.totalNodes=Jr.resolvedTargetDeltas=Jr.recalculatedProjection=0,this.nodes.forEach(CV),this.nodes.forEach(bV),this.nodes.forEach(IV),this.nodes.forEach(kV),yV(Jr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new mV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new oy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=vV(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=gV(d,250),Vo.hasAnimatedSinceResize&&(Vo.hasAnimatedSinceResize=!1,this.nodes.forEach(Hw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||AV,{onLayoutAnimationStart:T,onLayoutAnimationComplete:y}=c.getProps(),p=!this.targetLayout||!Np(this.targetLayout,g)||f,m=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const S={...xx(v,"layout"),onPlay:T,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!d&&this.animationProgress===0&&Hw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hn.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zw);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(DV),this.potentialNodes.clear()),this.nodes.forEach(_V),this.nodes.forEach(SV),this.nodes.forEach(TV),this.clearAllSnapshots(),kd.update(),kd.preRender(),kd.render())}clearAllSnapshots(){this.nodes.forEach(xV),this.sharedNodes.forEach(NV)}scheduleUpdateProjection(){ge.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Vx(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Xr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),MV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Pe();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Zn(a.x,l.offset.x),Zn(a.y,l.offset.y)),a}removeElementScroll(o){const a=Pe();Vt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){Vt(a,o);const{scroll:d}=this.root;d&&(Zn(a.x,-d.offset.x),Zn(a.y,-d.offset.y))}Zn(a.x,c.offset.x),Zn(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Pe();Vt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ns(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Xr(c.latestValues)&&ns(l,c.latestValues)}return Xr(this.latestValues)&&ns(l,this.latestValues),l}removeTransform(o){const a=Pe();Vt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Xr(u.latestValues))continue;bp(u.latestValues)&&u.updateSnapshot();const c=Pe(),h=u.measurePageBox();Vt(c,h),Fw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Xr(this.latestValues)&&Fw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=ot.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout?(this.relativeParent=f,this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),zo(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pe(),this.targetWithTransforms=Pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==ot.timestamp&&this.relativeParent.resolveTargetDelta(!0),L$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vt(this.target,this.layout.layoutBox),Ax(this.target,this.targetDelta)):Vt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target?(this.relativeParent=f,this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),zo(this.relativeTargetOrigin,this.target,f.target),Vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bp(this.parent.latestValues)||Ox(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ot.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Vt(this.layoutCorrected,this.layout.layoutBox),W$(this.layoutCorrected,this.treeScale,this.path,l);const{target:d}=a;if(!d)return;this.projectionDelta||(this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho());const f=this.treeScale.x,g=this.treeScale.y,v=this.projectionTransform;Bo(this.projectionDelta,this.layoutCorrected,d,this.latestValues),this.projectionTransform=Uw(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d)),Jr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Pe(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=f!==g,T=this.getStack(),y=!T||T.members.length<=1,p=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(OV));this.animationProgress=0;let m;this.mixTargetDelta=S=>{const k=S/1e3;Ww(h.x,o.x,k),Ww(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zo(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RV(this.relativeTarget,this.relativeTargetOrigin,d,k),!this.relativeParent.isProjectionDirty&&m&&Np(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=Pe()),Vt(m,this.relativeTarget)),v&&(this.animationValues=c,aV(c,u,this.latestValues,k,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hn.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{Vo.hasAnimatedSinceResize=!0,this.currentAnimation=wV(0,Bw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&jx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Pe();const h=Lt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=Lt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Vt(a,l),ns(a,c),Bo(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fV),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<jw.length;c++){const h="rotate"+jw[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=uu(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=uu(o.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Uw(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:f,y:g}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in pc){if(d[v]===void 0)continue;const{correct:T,applyTo:y}=pc[v],p=u.transform==="none"?d[v]:T(d[v],h);if(y){const m=y.length;for(let S=0;S<m;S++)u[y[S]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?uu(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(zw),this.root.sharedNodes.clear()}}}function SV(t){t.updateLayout()}function TV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ln(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=Lt(d);d.min=r[h].min,d.max=d.min+f}):jx(s,n.layoutBox,r)&&ln(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=Lt(r[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const a=Ho();Bo(a,r,n.layoutBox);const l=Ho();o?Bo(l,t.applyTransform(i,!0),n.measuredBox):Bo(l,r,n.layoutBox);const u=!Vx(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const g=Pe();zo(g,n.layoutBox,d.layoutBox);const v=Pe();zo(v,r,f.layoutBox),Np(g,v)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function CV(t){Jr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xV(t){t.clearSnapshot()}function zw(t){t.clearMeasurements()}function _V(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function bV(t){t.resolveTargetDelta()}function IV(t){t.calcProjection()}function PV(t){t.resetRotation()}function NV(t){t.removeLeadSnapshot()}function Ww(t,e,n){t.translate=we(e.translate,0,n),t.scale=we(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qw(t,e,n,r){t.min=we(e.min,n.min,r),t.max=we(e.max,n.max,r)}function RV(t,e,n,r){qw(t.x,e.x,n.x,r),qw(t.y,e.y,n.y,r)}function OV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AV={duration:.45,ease:[.4,0,.1,1]};function DV(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(t.path[s].instance){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function Kw(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function MV(t){Kw(t.x),Kw(t.y)}function jx(t,e,n){return t==="position"||t==="preserve-aspect"&&!xp(Vw(e),Vw(n),.2)}const LV=Ux({attachResizeListener:(t,e)=>Rn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Md={current:void 0},Bx=Ux({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Md.current){const t=new LV(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),Md.current=t}return Md.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FV={pan:{Feature:Z$},drag:{Feature:J$,ProjectionNode:Bx,MeasureLayout:Lx}},$V=new Set(["width","height","top","left","right","bottom","x","y"]),zx=t=>$V.has(t),VV=t=>Object.keys(t).some(zx),Qw=t=>t===Ai||t===B,Gw=(t,e)=>parseFloat(t.split(", ")[e]),Yw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Gw(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Gw(s[1],t):0}},UV=new Set(["x","y","z"]),jV=xh.filter(t=>!UV.has(t));function BV(t){const e=[];return jV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Xw={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Yw(4,13),y:Yw(5,14)},zV=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Xw[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Xw[u](l,s)}),t},HV=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(zx);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],h=uo(c);const d=e[l];let f;if(gc(d)){const g=d.length,v=d[0]===null?1:0;c=d[v],h=uo(c);for(let T=v;T<g&&d[T]!==null;T++)f?Xg(uo(d[T])===f):f=uo(d[T])}else f=uo(d);if(h!==f)if(Qw(h)&&Qw(f)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&f===B&&(e[l]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(c===0||d===0)?c===0?u.set(f.transform(c)):e[l]=h.transform(d):(o||(s=BV(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=zV(e,t,a);return s.length&&s.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),Th&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function WV(t,e,n,r){return VV(e)?HV(t,e,n,r):{target:e,transitionEnd:r}}const qV=(t,e,n,r)=>{const i=nV(t,e,r);return e=i.target,r=i.transitionEnd,WV(t,e,n,r)},Rp={current:null},Hx={current:!1};function KV(){if(Hx.current=!0,!!Th)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rp.current=t.matches;t.addListener(e),e()}else Rp.current=!1}function QV(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(bt(s))t.addValue(i,s),Ec(r)&&r.add(i);else if(bt(o))t.addValue(i,Fs(s,{owner:t})),Ec(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Fs(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Jw=new WeakMap,Wx=Object.keys(Ta),GV=Wx.length,Zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],YV=Ug.length;class XV{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ge.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=kh(n),this.isVariantNode=Dk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const d=c[h];a[h]!==void 0&&bt(d)&&(d.set(a[h],!1),Ec(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Jw.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Hx.current||KV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Jw.delete(this.current),this.projection&&this.projection.unmount(),Hn.update(this.notifyUpdate),Hn.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Oi.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ge.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s,o){let a,l;for(let u=0;u<GV;u++){const c=Wx[u],{isEnabled:h,Feature:d,ProjectionNode:f,MeasureLayout:g}=Ta[c];f&&(a=f),h(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),g&&(l=g))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:d,layoutScroll:f,layoutRoot:g}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||d&&es(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:g})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zw.length;r++){const i=Zw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=QV(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<YV;r++){const i=Ug[r],s=this.props[i];(Sa(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fs(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Yg(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!bt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new oy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class qx extends XV{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=v$(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){g$(this,r,o);const a=qV(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function JV(t){return window.getComputedStyle(t)}class ZV extends qx{readValueFromInstance(e,n){if(Oi.has(n)){const r=ty(n);return r&&r.default||0}else{const r=JV(e),i=($k(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Dx(e,n)}build(e,n,r,i){Hg(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Gg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){zk(e,n,r,i)}}class eU extends qx{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Oi.has(n)){const r=ty(n);return r&&r.default||0}return n=Hk.has(n)?n:Qg(n),e.getAttribute(n)}measureInstanceViewportBox(){return Pe()}scrapeMotionValuesFromProps(e,n){return qk(e,n)}build(e,n,r,i){qg(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Wk(e,n,r,i)}mount(e){this.isSVGTag=Kg(e.tagName),super.mount(e)}}const tU=(t,e)=>zg(t)?new eU(e,{enableHardwareAcceleration:!1}):new ZV(e,{enableHardwareAcceleration:!0}),nU={layout:{ProjectionNode:Bx,MeasureLayout:Lx}},rU={...O$,...JL,...FV,...nU},he=aL((t,e)=>ML(t,e,rU,tU));function Kx(){const t=w.useRef(!1);return fc(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function iU(){const t=Kx(),[e,n]=w.useState(0),r=w.useCallback(()=>{t.current&&n(e+1)},[e]);return[w.useCallback(()=>ge.postRender(r),[r]),e]}class sU extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oU({children:t,isPresent:e}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),w.createElement(sU,{isPresent:e,childRef:r,sizeRef:i},w.cloneElement(t,{ref:r}))}const Ld=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=jg(aU),l=w.useId(),u=w.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return w.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),w.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=w.createElement(oU,{isPresent:n},t)),w.createElement(Sh.Provider,{value:u},t)};function aU(){return new Map}function lU(t){return w.useEffect(()=>()=>t(),[])}const Vi=t=>t.key||"";function uU(t,e){t.forEach(n=>{const r=Vi(n);e.set(r,n)})}function cU(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const ke=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{let[a]=iU();const l=w.useContext(Bg).forceRender;l&&(a=l);const u=Kx(),c=cU(t);let h=c;const d=new Set,f=w.useRef(h),g=w.useRef(new Map).current,v=w.useRef(!0);if(fc(()=>{v.current=!1,uU(c,g),f.current=h}),lU(()=>{v.current=!0,g.clear(),d.clear()}),v.current)return w.createElement(w.Fragment,null,h.map(m=>w.createElement(Ld,{key:Vi(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},m)));h=[...h];const T=f.current.map(Vi),y=c.map(Vi),p=T.length;for(let m=0;m<p;m++){const S=T[m];y.indexOf(S)===-1&&d.add(S)}return o==="wait"&&d.size&&(h=[]),d.forEach(m=>{if(y.indexOf(m)!==-1)return;const S=g.get(m);if(!S)return;const k=T.indexOf(m),x=()=>{g.delete(m),d.delete(m);const b=f.current.findIndex(_=>_.key===m);if(f.current.splice(b,1),!d.size){if(f.current=c,u.current===!1)return;a(),r&&r()}};h.splice(k,0,w.createElement(Ld,{key:Vi(S),isPresent:!1,onExitComplete:x,custom:e,presenceAffectsLayout:s,mode:o},S))}),h=h.map(m=>{const S=m.key;return d.has(S)?m:w.createElement(Ld,{key:Vi(m),isPresent:!0,presenceAffectsLayout:s,mode:o},m)}),w.createElement(w.Fragment,null,d.size?h:h.map(m=>w.cloneElement(m)))};/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_a.apply(this,arguments)}var hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hr||(hr={}));const e1="popstate";function hU(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Di(i.location.hash.substr(1));return Op("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:Tc(s))}function r(i,s){Ph(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return fU(e,n,r,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ph(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dU(){return Math.random().toString(36).substr(2,8)}function t1(t,e){return{usr:t.state,key:t.key,idx:e}}function Op(t,e,n,r){return n===void 0&&(n=null),_a({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Di(e):e,{state:n,key:e&&e.key||r||dU()})}function Tc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(_a({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=hr.Pop;let T=c(),y=T==null?null:T-u;u=T,l&&l({action:a,location:v.location,delta:y})}function d(T,y){a=hr.Push;let p=Op(v.location,T,y);n&&n(p,T),u=c()+1;let m=t1(p,u),S=v.createHref(p);try{o.pushState(m,"",S)}catch{i.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function f(T,y){a=hr.Replace;let p=Op(v.location,T,y);n&&n(p,T),u=c();let m=t1(p,u),S=v.createHref(p);o.replaceState(m,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function g(T){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof T=="string"?T:Tc(T);return Fe(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let v={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(e1,h),l=T,()=>{i.removeEventListener(e1,h),l=null}},createHref(T){return e(i,T)},createURL:g,encodeLocation(T){let y=g(T);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:f,go(T){return o.go(T)}};return v}var n1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(n1||(n1={}));function pU(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Di(e):e,i=ay(r.pathname||"/",n);if(i==null)return null;let s=Qx(t);mU(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=kU(s[a],bU(i));return o}function Qx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=br([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Fe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Qx(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:TU(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Gx(s.path))i(s,o,l)}),e}function Gx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Gx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function mU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gU=/^:\w+$/,yU=3,vU=2,wU=1,EU=10,SU=-2,r1=t=>t==="*";function TU(t,e){let n=t.split("/"),r=n.length;return n.some(r1)&&(r+=SU),e&&(r+=vU),n.filter(i=>!r1(i)).reduce((i,s)=>i+(gU.test(s)?yU:s===""?wU:EU),r)}function CU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kU(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=xU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:br([i,c.pathname]),pathnameBase:RU(br([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=br([i,c.pathnameBase]))}return s}function xU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_U(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=IU(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function _U(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ph(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bU(t){try{return decodeURI(t)}catch(e){return Ph(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IU(t,e){try{return decodeURIComponent(t)}catch(n){return Ph(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ay(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Di(t):t;return{pathname:n?n.startsWith("/")?n:NU(n,e):e,search:OU(r),hash:AU(i)}}function NU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Di(t):(i=_a({},t),Fe(!i.pathname||!i.pathname.includes("?"),Fd("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),Fd("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),Fd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=PU(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const br=t=>t.join("/").replace(/\/\/+/g,"/"),RU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function MU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const LU=typeof Object.is=="function"?Object.is:MU,{useState:FU,useEffect:$U,useLayoutEffect:VU,useDebugValue:UU}=Vd;function jU(t,e,n){const r=e(),[{inst:i},s]=FU({inst:{value:r,getSnapshot:e}});return VU(()=>{i.value=r,i.getSnapshot=e,$d(i)&&s({inst:i})},[t,r,e]),$U(()=>($d(i)&&s({inst:i}),t(()=>{$d(i)&&s({inst:i})})),[t]),UU(r),r}function $d(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!LU(n,r)}catch{return!0}}function BU(t,e,n){return e()}const zU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HU=!zU,WU=HU?BU:jU;"useSyncExternalStore"in Vd&&(t=>t.useSyncExternalStore)(Vd);const Jx=w.createContext(null),ly=w.createContext(null),Ys=w.createContext(null),Nh=w.createContext(null),Xs=w.createContext({outlet:null,matches:[]}),Zx=w.createContext(null);function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function qU(t,e){let{relative:n}=e===void 0?{}:e;ul()||Fe(!1);let{basename:r,navigator:i}=w.useContext(Ys),{hash:s,pathname:o,search:a}=uy(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:br([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ul(){return w.useContext(Nh)!=null}function cl(){return ul()||Fe(!1),w.useContext(Nh).location}function Js(){ul()||Fe(!1);let{basename:t,navigator:e}=w.useContext(Ys),{matches:n}=w.useContext(Xs),{pathname:r}=cl(),i=JSON.stringify(Yx(n).map(a=>a.pathnameBase)),s=w.useRef(!1);return w.useEffect(()=>{s.current=!0}),w.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=Xx(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:br([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function uy(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=w.useContext(Xs),{pathname:i}=cl(),s=JSON.stringify(Yx(r).map(o=>o.pathnameBase));return w.useMemo(()=>Xx(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function KU(t,e){ul()||Fe(!1);let{navigator:n}=w.useContext(Ys),r=w.useContext(ly),{matches:i}=w.useContext(Xs),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=cl(),u;if(e){var c;let v=typeof e=="string"?Di(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||Fe(!1),u=v}else u=l;let h=u.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=pU(t,{pathname:d}),g=XU(f&&f.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:br([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:br([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return e&&g?w.createElement(Nh.Provider,{value:{location:Ap({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:hr.Pop}},g):g}function QU(){let t=t3(),e=DU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,s)}class GU extends w.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w.createElement(Xs.Provider,{value:this.props.routeContext},w.createElement(Zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YU(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Jx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Xs.Provider,{value:e},r)}function XU(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Fe(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=w.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=w.createElement(QU,null));let c=e.concat(r.slice(0,a+1)),h=()=>{let d=s;return l?d=u:o.route.Component?d=w.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),w.createElement(YU,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?w.createElement(GU,{location:n.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var i1;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(i1||(i1={}));var Cc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Cc||(Cc={}));function JU(t){let e=w.useContext(ly);return e||Fe(!1),e}function ZU(t){let e=w.useContext(Xs);return e||Fe(!1),e}function e3(t){let e=ZU(),n=e.matches[e.matches.length-1];return n.route.id||Fe(!1),n.route.id}function t3(){var t;let e=w.useContext(Zx),n=JU(Cc.UseRouteError),r=e3(Cc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Tn(t){Fe(!1)}function n3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hr.Pop,navigator:s,static:o=!1}=t;ul()&&Fe(!1);let a=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Di(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=r,g=w.useMemo(()=>{let v=ay(u,a);return v==null?null:{location:{pathname:v,search:c,hash:h,state:d,key:f},navigationType:i}},[a,u,c,h,d,f,i]);return g==null?null:w.createElement(Ys.Provider,{value:l},w.createElement(Nh.Provider,{children:n,value:g}))}function r3(t){let{children:e,location:n}=t,r=w.useContext(Jx),i=r&&!e?r.router.routes:Dp(e);return KU(i,n)}var s1;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(s1||(s1={}));new Promise(()=>{});function Dp(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,Dp(r.props.children,s));return}r.type!==Tn&&Fe(!1),!r.props.index||!r.props.children||Fe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}function e_(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function i3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s3(t,e){return t.button===0&&(!e||e==="_self")&&!i3(t)}const o3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],a3=["aria-current","caseSensitive","className","end","style","to","children"];function l3(t){let{basename:e,children:n,window:r}=t,i=w.useRef();i.current==null&&(i.current=hU({window:r,v5Compat:!0}));let s=i.current,[o,a]=w.useState({action:s.action,location:s.location});return w.useLayoutEffect(()=>s.listen(a),[s]),w.createElement(n3,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const u3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",c3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_i=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=e_(e,o3),{basename:d}=w.useContext(Ys),f,g=!1;if(typeof u=="string"&&c3.test(u)&&(f=u,u3)){let p=new URL(window.location.href),m=u.startsWith("//")?new URL(p.protocol+u):new URL(u),S=ay(m.pathname,d);m.origin===p.origin&&S!=null?u=S+m.search+m.hash:g=!0}let v=qU(u,{relative:i}),T=h3(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function y(p){r&&r(p),p.defaultPrevented||T(p)}return w.createElement("a",kc({},h,{href:f||v,onClick:g||s?r:y,ref:n,target:l}))}),Ut=w.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=e_(e,a3),h=uy(l,{relative:c.relative}),d=cl(),f=w.useContext(ly),{navigator:g}=w.useContext(Ys),v=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,T=d.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(T=T.toLowerCase(),y=y?y.toLowerCase():null,v=v.toLowerCase());let p=T===v||!o&&T.startsWith(v)&&T.charAt(v.length)==="/",m=y!=null&&(y===v||!o&&y.startsWith(v)&&y.charAt(v.length)==="/"),S=p?r:void 0,k;typeof s=="function"?k=s({isActive:p,isPending:m}):k=[s,p?"active":null,m?"pending":null].filter(Boolean).join(" ");let x=typeof a=="function"?a({isActive:p,isPending:m}):a;return w.createElement(_i,kc({},c,{"aria-current":S,className:k,ref:n,style:x,to:l}),typeof u=="function"?u({isActive:p,isPending:m}):u)});var o1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(o1||(o1={}));var a1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(a1||(a1={}));function h3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Js(),l=cl(),u=uy(t,{relative:o});return w.useCallback(c=>{if(s3(c,n)){c.preventDefault();let h=r!==void 0?r:Tc(l)===Tc(u);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const d3=t=>{const e=w.useRef(null),[n,r]=w.useState(!1),i=()=>{r(!n)},s=o=>{o.stopPropagation(),e!=null&&e.current&&!(e!=null&&e.current.contains(o.target))&&(r(!1),e.current.firstChild.checked=!1)};return w.useEffect(()=>(window.addEventListener("click",o=>s(o)),window.removeEventListener("click",o=>s(o))),[]),F(At,{children:[E("label",{ref:e,className:"hamburger-btn absolute right-0 w-full h-3/4 rounded-lg lg:hidden cursor-pointer",children:E("input",{"aria-label":"Open hamburger menu",onChange:i,className:"hamburger-btn w-0 h-0 cursor-pointer absolute p-0 m-0",type:"checkbox"})}),E(ke,{children:n&&E(he.div,{className:"cursor-pointer mt-20",initial:{x:"10rem",opacity:0},animate:{x:"0rem",opacity:1},exit:{x:"10rem",opacity:0},children:E("ul",{className:"hamburger-menu text-lg lg:hidden absolute right-0 p-2 mt-64 shadow rounded-box w-48 flex flex-col text-center justify-center items-center bg-dark",children:t.children.map((o,a)=>E("li",{className:"flex rounded-lg w-full h-full mb-2",children:o},a))})})})]})},Rh=()=>{const t=w.useContext(rn),[e,n]=w.useContext(Zs),[r,i]=w.useState(!1),s=async()=>{var o,a;if(!(((o=t==null?void 0:t.currentUser)==null?void 0:o.email)==null||((a=t==null?void 0:t.currentUser)==null?void 0:a.email)==null))try{const l=En(Sn,t.currentUser.email),u=pt(l,"profile-picture"),c=await ki(u);if(c.data().url==null||c.data().url==null){n("NOT FOUND"),i(!0);return}n(c.data().url),i(!0)}catch{n("NOT FOUND"),i(!0)}};return r||setTimeout(()=>{s()},500),w.useEffect(()=>{s()},[]),[e,r]};var t_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l1=C.createContext&&C.createContext(t_),Ir=globalThis&&globalThis.__assign||function(){return Ir=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ir.apply(this,arguments)},f3=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function n_(t){return t&&t.map(function(e,n){return C.createElement(e.tag,Ir({key:n},e.attr),n_(e.child))})}function p3(t){return function(e){return C.createElement(m3,Ir({attr:Ir({},t.attr)},e),n_(t.child))}}function m3(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=f3(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),C.createElement("svg",Ir({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ir(Ir({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&C.createElement("title",null,s),t.children)};return l1!==void 0?C.createElement(l1.Consumer,null,function(n){return e(n)}):e(t_)}function g3(t){return p3({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m13 16 5-4-5-4v3H4v2h9z"}},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"}}]})(t)}const y3=()=>{const[t,e]=w.useState({}),[n,r]=w.useState("NOT FOUND"),[i,s]=Rh();return w.useEffect(()=>{r(i)},[i,s]),w.useEffect(()=>{zm(So,o=>{e(o)})},[So==null?void 0:So.currentUser]),F("nav",{className:"navbar w-full h-16 p-0 fixed z-20 flex justify-between items-center bg-primary text-secondary-white text-xl",children:[F(_i,{to:"/",className:"flex lg:w-16 flex-row justify-center items-center p-3 rounded-md transition-all duration-100 lg:hover:animate-pulse",children:[E("img",{src:"./img/paw.png",height:"40px",width:"40px",alt:"random"}),E("span",{className:"btn border-none text-white text-lg bg-transparent lg:hidden flex self-center transition-all duration-150 active:bg-dark hover:bg-dark p-2 rounded-lg font-header",children:"CAT PAGE"})]}),F("ul",{className:"w-full h-full lg:flex hidden flex-row justify-center items-center",children:[F("li",{className:"w-full flex font-header justify-center gap-16 align-center",children:[E(Ut,{className:"btn bg-primary text-secondary-white text-lg border-0 px-3 m-0 rounded-md transition-all duration-150 hover:bg-dark",to:"/",children:"Random Cats"}),E(Ut,{className:"btn bg-primary text-secondary-white text-lg border-0 px-3 m-0 rounded-md transition-all duration-150 hover:bg-dark",to:"/cat_breeds",children:"Cat Breeds"}),E(Ut,{className:"btn bg-primary text-secondary-white text-lg border-0 px-3 m-0 rounded-md transition-all duration-150 hover:bg-dark",to:"/favourites",children:"Favourites"}),E(Ut,{className:"btn bg-primary text-secondary-white text-lg border-0 px-3 m-0 rounded-md transition-all duration-150 hover:bg-dark",to:"/about",children:"About"})]}),t!=null&&t.email?E("li",{className:"flex justify-center items-center w-12",children:E(Ut,{className:"btn bg-primary text-secondary-white text-lg p-1 mr-4 border-0 rounded-md transition-all duration-150 hover:bg-dark",to:"/profile",children:E(ke,{children:n!="NOT FOUND"?E(he.div,{className:"avatar px-1",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:E("div",{className:"w-8 rounded-full ring ring-white ring-offset-base-100 ring-offset-1",children:E(he.img,{src:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},n)})}):E(he.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},src:"./img/cat_profile.png",width:"40px",height:"40px",alt:"Cat profile picture"})})})}):E("li",{className:"flex justify-center items-center w-12",children:E(Ut,{className:"btn flex justify-center items-center align-center bg-primary text-secondary-white text-lg px-2 mr-4 border-0 rounded-md transition-all duration-150 hover:bg-dark",to:"/login",children:E(g3,{size:"2rem"})})})]}),F(d3,{children:[E(Ut,{to:"/",className:"home-link menu-item w-full bg-primary p-2 m-0 rounded-lg text-white outline-none mx-1",children:"Random Cats"}),E(Ut,{to:"/cat_breeds",className:"cat-breeds-link menu-item bg-primary w-full p-2 rounded-lg text-white outline-none mx-1",children:"Cat Breeds"}),E(Ut,{to:"/favourites",className:"favourites-link menu-item bg-primary p-2 w-full rounded-lg text-white outline-none mx-1",children:"Favourites"}),E(Ut,{to:"/about",className:"about-link menu-item bg-primary w-full p-2 rounded-lg text-white outline-none mx-1",children:"About"}),t!=null&&t.email?E(Ut,{to:"/profile",className:"about-link menu-item bg-primary w-full p-2 rounded-lg text-white outline-none mx-1",children:"Profile"}):E(Ut,{to:"/login",className:"about-link menu-item bg-primary w-full p-2 rounded-lg text-white outline-none mx-1",children:"Login"})]})]})},v3=async(t,e)=>{const n=En(Sn,t.currentUser.email),r=pt(n,"profile-picture");await cc(r,{url:`${e}`})},Kt=({notification:t,icon:e,errorHappened:n})=>F(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-20 w-auto alert "+(n?"alert-error":"alert-success")+" shadow-md shadow-black z-30 flex flex-row justify-center align-center items-center content-center",children:[e!=null&&e!=null?e:n?E("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:E("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):E("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:E("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),E("p",{style:{margin:"0"},children:t})]}),w3=t=>{var g,v,T,y,p,m,S,k,x,b;const e=w.useContext(rn),n=w.useRef(),[r,i]=w.useState(!1),[s,o]=w.useState(!1),[a,l]=w.useState(!1),[u,c]=w.useState(""),[,h]=w.useContext(Zs),d=()=>{var _,D;if(((_=e.currentUser)==null?void 0:_.email)===null||((D=e.currentUser)==null?void 0:D.email)===void 0){o(!0),i(!0),c("You must log in to set a profile picture!"),setTimeout(()=>{o(!1)},2e3);return}try{v3(e,t.cat.url),h(t.cat.url),c("Set successfully as profile picture!"),i(!1),o(!0),setTimeout(()=>{o(!1)},2e3)}catch{o(!0),i(!0),c("Some errors happened while setting profile picture!"),setTimeout(()=>{o(!1)},2e3)}},f=_=>{var D;_.key==="Enter"&&(t.handleEditNameFunc((D=n==null?void 0:n.current)==null?void 0:D.value),l(!1))};return F(At,{children:[E("div",{className:"cat-details m-auto z-20 flex flex-col rounded-lg transition-all duration-300 opacity-100 font-article",style:{width:"90vw"},children:F("div",{className:"flex flex-col flex-grow cat-clicked-wrapper p-2 bg-primary rounded-lg shadow-lg shadow-black justify-start align-start items-center",style:{minHeight:"60vh",maxHeight:"90vh",background:`rgba(0, 0, 0, .65) url(${t.cat.url})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"darken"},children:[E("button",{className:"close-button btn btn-sm btn-error btn-square bg-primary right-0 top-0 mt-1 mr-1 btn-outline fixed transition-all duration-150 hover:scale-110",onClick:(_,D)=>{t.showFunc(_,!0)},children:E("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),F("div",{className:"flex flex-col items-center justify-center align-center h-full",children:[a?E(he.input,{initial:{scaleX:0},animate:{scaleX:1},exit:{scaleX:0},ref:n,onKeyDown:f,className:"input input-sm md:input-md lg:input-lg mt-4 lg:mt-6",placeholder:"Edit name"}):E(he.div,{initial:{scaleX:0},animate:{scaleX:1},className:"cat-name-details text-center border-secondary-white text-3xl lg:text-4xl font-bold mt-4 lg:mt-6",style:{fontSize:"clamp(2rem, 5vw, 4rem)"},children:t.cat.customName??((v=(g=t.cat)==null?void 0:g.breeds[0])==null?void 0:v.name)??"Cute Cat"}),E("div",{className:"cat-description-wrapper mt-4 lg:mt-8",children:(t.cat.breeds[0]!=null||t.cat.breeds[0]!=null)&&F("div",{className:"w-full flex flex-col justify-center items-center",children:[t.cat.customName!=null&&E("div",{className:"font-bold text-lg",style:{fontSize:"clamp(1rem, 3vw, 2.5rem)"},children:"Breed: "+((y=(T=t.cat)==null?void 0:T.breeds[0])==null?void 0:y.name)}),E("div",{className:"font-bold text-lg lg:pt-4 md:pt-4 pt-1",style:{fontSize:"clamp(1rem, 3vw, 2.5rem)"},children:"Origin: "+(((m=(p=t.cat)==null?void 0:p.breeds[0])==null?void 0:m.origin)??"no origin information")}),E("div",{className:"font-bold text-lg lg:pt-4 md:pt-4 pt-1",style:{fontSize:"clamp(1rem, 3vw, 2.5rem)"},children:"Weight (kg): "+(((k=(S=t.cat)==null?void 0:S.breeds[0])==null?void 0:k.weight.metric)??"No weight information")})]})})]}),E("div",{className:"text-justify flex items-center justify-center flex-grow font-bold text-lg lg:px-8 lg:mt-8 mt-2 px-2 leading-normal",style:{fontSize:"clamp(0.82rem, 3vw, 1.8rem)"},children:((b=(x=t.cat)==null?void 0:x.breeds[0])==null?void 0:b.description)??"Either a friendly cat or a total demon."}),F("div",{className:"button-wrapper h-full flex flex-col justify-center align-center w-full items-center content-center lg:mb-8 mb-0 lg:mt-4",children:[!a&&E("button",{className:"btn btn-sm align-end p-2 h-full transition-all duration-200 hover:scale-110 bg-dark border-none rounded-lg mt-4",style:{fontSize:"clamp(0.8rem, 1.5vw, 1.5rem)"},onClick:t.handleFavFunc,children:t.isFavourite?"🗑️ REMOVE FROM FAVOURITES":"❤️ ADD TO FAVOURITES"}),t.isFavourite==!0&&E("button",{className:"btn btn-sm align-end p-2 h-full transition-all duration-200 hover:scale-110 bg-dark border-none rounded-lg mt-4",style:{fontSize:"clamp(0.8rem, 1.5vw, 1.5rem)"},onClick:()=>{l(!a)},children:a?E("span",{onClick:()=>{var _;t.handleEditNameFunc((_=n==null?void 0:n.current)==null?void 0:_.value)},children:"✅ SET NEW NAME"}):"✏️ EDIT NAME"}),a&&E("button",{className:"btn btn-sm align-end p-2 h-full transition-all duration-200 hover:scale-110 bg-dark border-none rounded-lg mt-4",style:{fontSize:"clamp(0.8rem, 1.5vw, 1.5rem)"},onClick:()=>{l(!1)},children:"❌ CANCEL RENAMING"}),E("a",{className:"btn btn-sm align-end p-2 h-full transition-all duration-200 hover:scale-110 bg-dark border-none rounded-lg mt-4",href:t.cat.url,target:"_blank",style:{fontSize:"clamp(0.8rem, 1.5vw, 1.5rem)"},children:"See picture in full screen"}),E("button",{className:"btn btn-sm align-end p-2 h-full transition-all duration-200 hover:scale-110 bg-dark border-none rounded-lg mt-4",style:{fontSize:"clamp(0.8rem, 1.5vw, 1.5rem)"},onClick:d,children:"SET AS PROFILE PICTURE"})]})]})}),E(ke,{children:s&&E(Kt,{notification:u,errorHappened:r})})]})},E3=async(t,e)=>{const n=En(Sn,e.currentUser.email),r=pt(n,"favourites"),i=await ki(r);if(!i.exists()){await cc(r,{favourites:mp(t.cat)});return}i.data().favourites.find(o=>o.url==t.cat.url)==null&&await hc(r,{favourites:mp(t.cat)})},S3=async(t,e)=>{const n=En(Sn,e.currentUser.email),r=pt(n,"favourites"),i=await ki(r);if(i.exists()){const s=i.data().favourites.find(o=>o.id==t.cat.id);await hc(r,{favourites:Nk(s)})}},T3=async(t,e,n)=>{const r=En(Sn,e.currentUser.email),i=pt(r,"favourites"),s=await ki(i),o=s.data().favourites.find(a=>a.url==t.cat.url);s.data().favourites.findIndex(a=>a.url==t.cat.url),await hc(i,{favourites:Nk(o)}),o.customName=n,await hc(i,{favourites:mp(o)})},cy=t=>{var x,b,_,D;const e=w.useRef(),n=w.useRef(),r=w.useRef(),[i,s]=w.useState(!1),[o,a]=w.useState(!1),[l,u]=w.useState(!1),[c,h]=w.useState((t==null?void 0:t.isFavourite)|!1),[d,f]=w.useState(!1),[g,v]=w.useState(""),T=w.useContext(rn),y=async()=>{var R,G;if(((R=T.currentUser)==null?void 0:R.email)===null||((G=T.currentUser)==null?void 0:G.email)===void 0){f(!0),u(!0),v("You must log in to add a cat to favourites!"),setTimeout(()=>{f(!1)},2e3);return}try{if(!c){E3(t,T),h(!0),v("Added to favourites!"),f(!0),u(!1),setTimeout(()=>{f(!1)},2e3);return}S3(t,T),h(!1),v("Removed from favourites!"),f(!0),setTimeout(()=>{f(!1)},2e3)}catch{f(!0),u(!0),v("Some errors happened"),setTimeout(()=>{u(!1)},2e3)}},p=async R=>{try{if(R.trim()=="")throw"white_char";if(R.length>12)throw"too_long";T3(t,T,R),u(!1),t.cat.customName=R,v("Success - changed name!"),f(!0),setTimeout(()=>{f(!1)},2e3)}catch(G){u(!0);let se;switch(G){case"white_char":se="No white characters!";break;case"too_long":se="Maximum 12 characters!";break;default:se="Errors happened while changing name!";break}v(se),f(!0),setTimeout(()=>{f(!1)},2e3)}},m=R=>{var G;R.key==="Enter"&&(p((G=n==null?void 0:n.current)==null?void 0:G.value),a(!1))},S=()=>{s(!0),t.showClicked(!0)},k=(R,G)=>{e.current!=null&&(!e.current.contains(R.target)||G)&&(s(!1),t.showClicked(!1)),(n.current!=null&&(!n.current.contains(R.target)||G)&&!r.current.contains(R.target)||G)&&a(!1)};return w.useEffect(()=>(document.addEventListener("click",k,!0),()=>{document.removeEventListener("click",k,!0)}),[]),F(At,{children:[E(ke,{children:F(he.div,{initial:{transform:"scale(0)"},whileHover:{transform:"scale(1.05)"},animate:{transform:"scale(1)"},exit:{transform:"scale(0)"},className:"cat-wrapper w-min h-min mx-4 mt-8 flex flex-col bg-primary rounded-lg shadow-lg shadow-black",children:[F("div",{className:"favourite py-6 pr-2 pl-2 w-full h-14 flex flex-row justify-center items-center align-center",children:[E("button",{className:"fav-button absolute ml-2 left-0 align-start w-min h-min transition-all duration-200 hover:scale-125",onClick:()=>{a(!o)},children:c?o?E("span",{ref:r,onClick:()=>{var R;p((R=n==null?void 0:n.current)==null?void 0:R.value)},children:"✅"}):"✏️":""}),E("div",{className:"description-wrapper w-32 break-words h-20 flex justify-center border-secondary-white rounded-lg",children:E("p",{className:"description w-full h-full flex flex-wrap justify-center items-center font-article font-bold text-center text-xl",children:E(ke,{children:o&&c?E(he.input,{ref:n,onKeyDown:m,initial:{scaleX:0},animate:{scaleX:1},exit:{scaleX:0},className:"input input-sm w-28",placeholder:"Edit name",type:"text"}):E(he.span,{initial:{scaleX:0},animate:{scaleX:1},className:"text-lg",children:(x=t.cat)!=null&&x.customName?(b=t.cat)==null?void 0:b.customName:((D=(_=t.cat)==null?void 0:_.breeds[0])==null?void 0:D.name)??"Cute Cat"})})})}),E("button",{className:"fav-button absolute right-0 mr-2 align-end w-min h-min transition-all duration-200 hover:scale-125",onClick:y,children:c?o?E("span",{onClick:()=>{a(!1)},children:"❌"}):"🗑️":"❤️"})]}),E("div",{className:"flex flex-col justify-center items-center cursor-pointer",onClick:S,children:E("div",{className:"w-min h-min m-0 rounded-lg",style:{minWidth:"12rem",minHeight:"14rem",backgroundImage:`url(${t.cat.url})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},alt:"cat"})})]})}),E(ke,{children:i&&E(he.div,{initial:{y:"-10rem",opacity:0},animate:{y:"0",opacity:1},exit:{opacity:0},className:"fixed top-28 flex flex-col justify-center align-center items-center z-10 filter-blur-0",ref:e,children:E(w3,{cat:t.cat,isFavourite:c,showFunc:k,handleFavFunc:y,handleEditNameFunc:p})})}),E(ke,{children:d&&E(Kt,{notification:g,errorHappened:l})})]})};var kn=globalThis&&globalThis.__assign||function(){return kn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kn.apply(this,arguments)};function C3(t){var e,n,r,i,s,o=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),a=(n=t.fill)!==null&&n!==void 0?n:"#fff",l=(r=t.stroke)!==null&&r!==void 0?r:"transparent",u=t.fillOpacity,c=t.strokeOpacity;return C.createElement("svg",kn({},kn(kn({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(i=t.height)!==null&&i!==void 0?i:80,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(s=t.width)!==null&&s!==void 0?s:55}),{viewBox:"0 0 55 80"}),C.createElement("g",{transform:"matrix(1 0 0 -1 0 80)"},C.createElement("rect",kn({width:10,height:20,rx:3},{fill:a,stroke:l,fillOpacity:u,strokeOpacity:c}),C.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(4.3/o,"s"),values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("rect",kn({x:15,width:10,height:80,rx:3},{fill:a,stroke:l,fillOpacity:u,strokeOpacity:c}),C.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(2/o,"s"),values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("rect",kn({x:30,width:10,height:50,rx:3},{fill:a,stroke:l,fillOpacity:u,strokeOpacity:c}),C.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(1.4/o,"s"),values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("rect",kn({x:45,width:10,height:30,rx:3},{fill:a,stroke:l,fillOpacity:u,strokeOpacity:c}),C.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(2/o,"s"),values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"}))))}var er=globalThis&&globalThis.__assign||function(){return er=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},er.apply(this,arguments)};function k3(t){var e,n,r,i,s=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),o=t.fill,a=(n=t.stroke)!==null&&n!==void 0?n:"#fff",l=t.fillOpacity,u=t.strokeOpacity;return C.createElement("svg",er({},er(er({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(r=t.height)!==null&&r!==void 0?r:57,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(i=t.width)!==null&&i!==void 0?i:57}),{viewBox:"0 0 57 57"}),C.createElement("g",{transform:"translate(1 1)",strokeWidth:2,fill:"none",fillRule:"evenodd"},C.createElement("circle",er({cx:5,cy:50,r:5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"cy",begin:"0s",dur:"".concat(2.2/s,"s"),values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"cx",begin:"0s",dur:"".concat(2.2/s,"s"),values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",er({cx:27,cy:5,r:5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"cy",begin:"0s",dur:"".concat(2.2/s,"s"),from:5,to:5,values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"cx",begin:"0s",dur:"".concat(2.2/s,"s"),from:27,to:27,values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",er({cx:49,cy:50,r:5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"cy",begin:"0s",dur:"".concat(2.2/s,"s"),values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"cx",from:49,to:49,begin:"0s",dur:"".concat(2.2/s,"s"),values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"}))))}var un=globalThis&&globalThis.__assign||function(){return un=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},un.apply(this,arguments)};function x3(t){var e,n,r,i,s=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),o=(n=t.fill)!==null&&n!==void 0?n:"#fff",a=t.stroke,l=t.fillOpacity,u=t.strokeOpacity;return C.createElement("svg",un({},un(un({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(r=t.height)!==null&&r!==void 0?r:140,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(i=t.width)!==null&&i!==void 0?i:135}),{viewBox:"0 0 135 140"}),C.createElement("rect",un({y:10,width:15,height:120,rx:6},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"".concat(1/s,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"".concat(1/s,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("rect",un({x:30,y:10,width:15,height:120,rx:6},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"".concat(1/s,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"".concat(1/s,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("rect",un({x:60,width:15,height:140,rx:6},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(1/s,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"y",begin:"0s",dur:"".concat(1/s,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("rect",un({x:90,y:10,width:15,height:120,rx:6},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"".concat(1/s,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"".concat(1/s,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("rect",un({x:120,y:10,width:15,height:120,rx:6},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"".concat(1/s,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"".concat(1/s,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var Zr=globalThis&&globalThis.__assign||function(){return Zr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zr.apply(this,arguments)};function _3(t){var e,n,r,i,s=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),o=(n=t.fill)!==null&&n!==void 0?n:"#fff",a=t.stroke,l=t.fillOpacity,u=t.strokeOpacity;return C.createElement("svg",Zr({},Zr(Zr({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(r=t.height)!==null&&r!==void 0?r:135,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(i=t.width)!==null&&i!==void 0?i:135}),{viewBox:"0 0 135 135"}),C.createElement("path",Zr({d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"".concat(2.5/s,"s"),repeatCount:"indefinite"})),C.createElement("path",Zr({d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"".concat(8/s,"s"),repeatCount:"indefinite"})))}var wt=globalThis&&globalThis.__assign||function(){return wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wt.apply(this,arguments)};function b3(t){var e,n,r,i,s=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),o=(n=t.fill)!==null&&n!==void 0?n:"#fff",a=t.stroke,l=t.fillOpacity,u=t.strokeOpacity;return C.createElement("svg",wt({},wt(wt({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(r=t.height)!==null&&r!==void 0?r:105,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(i=t.width)!==null&&i!==void 0?i:105}),{viewBox:"0 0 105 105"}),C.createElement("circle",wt({cx:12.5,cy:12.5,r:12.5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1/s,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",wt({cx:12.5,cy:52.5,r:12.5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"fill-opacity",begin:"100ms",dur:"".concat(1/s,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",wt({cx:52.5,cy:12.5,r:12.5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"fill-opacity",begin:"300ms",dur:"".concat(1/s,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",wt({cx:52.5,cy:52.5,r:12.5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"fill-opacity",begin:"600ms",dur:"".concat(1/s,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",wt({cx:92.5,cy:12.5,r:12.5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"fill-opacity",begin:"800ms",dur:"".concat(1/s,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",wt({cx:92.5,cy:52.5,r:12.5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"fill-opacity",begin:"400ms",dur:"".concat(1/s,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",wt({cx:12.5,cy:92.5,r:12.5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"fill-opacity",begin:"700ms",dur:"".concat(1/s,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",wt({cx:52.5,cy:92.5,r:12.5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"fill-opacity",begin:"500ms",dur:"".concat(1/s,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",wt({cx:92.5,cy:92.5,r:12.5},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"fill-opacity",begin:"200ms",dur:"".concat(1/s,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})))}var tr=globalThis&&globalThis.__assign||function(){return tr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tr.apply(this,arguments)};function I3(t){var e,n,r,i,s=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),o=(n=t.fill)!==null&&n!==void 0?n:"#fff",a=t.stroke,l=t.fillOpacity;return C.createElement("svg",tr({},tr(tr({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(r=t.height)!==null&&r!==void 0?r:64,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(i=t.width)!==null&&i!==void 0?i:140}),{viewBox:"0 0 140 64"}),C.createElement("path",tr({d:"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.717-6.002 11.47-7.65 17.305-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z",fillOpacity:l},{fill:o,stroke:a}),C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.4/s,"s"),values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("path",tr({d:"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.592-2.32 17.307 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z",fillOpacity:l},{fill:o,stroke:a}),C.createElement("animate",{attributeName:"fill-opacity",begin:"0.7s",dur:"".concat(1.4/s,"s"),values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("path",tr({d:"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"},{fill:o,stroke:a})))}var rs=globalThis&&globalThis.__assign||function(){return rs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rs.apply(this,arguments)};function P3(t){var e,n,r,i,s,o=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),a=(n=t.stroke)!==null&&n!==void 0?n:"#fff",l=(r=t.strokeWidth)!==null&&r!==void 0?r:2,u=t.strokeOpacity;return C.createElement("svg",rs({},rs(rs({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(i=t.height)!==null&&i!==void 0?i:38,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(s=t.width)!==null&&s!==void 0?s:38}),{viewBox:"0 0 38 38",overflow:"visible"}),C.createElement("g",rs({transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},{stroke:a,strokeWidth:l,strokeOpacity:u}),C.createElement("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),C.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},C.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"".concat(1/o,"s"),repeatCount:"indefinite"}))))}var is=globalThis&&globalThis.__assign||function(){return is=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},is.apply(this,arguments)};function N3(t){var e,n,r,i,s,o=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),a=(n=t.stroke)!==null&&n!==void 0?n:"#fff",l=(r=t.strokeWidth)!==null&&r!==void 0?r:2,u=t.strokeOpacity;return C.createElement("svg",is({},is(is({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(i=t.height)!==null&&i!==void 0?i:44,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(s=t.width)!==null&&s!==void 0?s:44}),{viewBox:"0 0 44 44"}),C.createElement("g",is({fill:"none",fillRule:"evenodd"},{stroke:a,strokeWidth:l,strokeOpacity:u}),C.createElement("circle",{cx:22,cy:22,r:1},C.createElement("animate",{attributeName:"r",begin:"0s",dur:"".concat(1.8/o,"s"),values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"".concat(1.8/o,"s"),values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),C.createElement("circle",{cx:22,cy:22,r:1},C.createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"".concat(1.8/o,"s"),values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"".concat(1.8/o,"s"),values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))}var ss=globalThis&&globalThis.__assign||function(){return ss=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ss.apply(this,arguments)};function R3(t){var e,n,r,i,s,o=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),a=(n=t.stroke)!==null&&n!==void 0?n:"#fff",l=(r=t.strokeWidth)!==null&&r!==void 0?r:2,u=t.strokeOpacity;return C.createElement("svg",ss({},ss(ss({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(i=t.height)!==null&&i!==void 0?i:45,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(s=t.width)!==null&&s!==void 0?s:45}),{viewBox:"0 0 45 45"}),C.createElement("g",ss({fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},{stroke:a,strokeWidth:l,strokeOpacity:u}),C.createElement("circle",{cx:22,cy:22,r:6},C.createElement("animate",{attributeName:"r",begin:"1.5s",dur:"".concat(3/o,"s"),values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"".concat(3/o,"s"),values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"".concat(3/o,"s"),values:"2;0",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",{cx:22,cy:22,r:6},C.createElement("animate",{attributeName:"r",begin:"3s",dur:"".concat(3/o,"s"),values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"stroke-opacity",begin:"3s",dur:"".concat(3/o,"s"),values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"stroke-width",begin:"3s",dur:"".concat(3/o,"s"),values:"2;0",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",{cx:22,cy:22,r:8},C.createElement("animate",{attributeName:"r",begin:"0s",dur:"".concat(1.5/o,"s"),values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"}))))}var os=globalThis&&globalThis.__assign||function(){return os=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},os.apply(this,arguments)};function O3(t){var e,n,r,i,s=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),o=(n=t.fill)!==null&&n!==void 0?n:"#fff",a=t.stroke,l=t.fillOpacity,u=t.strokeOpacity;return C.createElement("svg",os({},os(os({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(r=t.height)!==null&&r!==void 0?r:58,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(i=t.width)!==null&&i!==void 0?i:58}),{viewBox:"0 0 58 58"}),C.createElement("g",os({transform:"translate(2 1)",fillRule:"evenodd"},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("circle",{cx:42.601,cy:11.462,r:5},C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/s,"s"),values:"1;0;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",{cx:49.063,cy:27.063,r:5,fillOpacity:0},C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/s,"s"),values:"0;1;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",{cx:42.601,cy:42.663,r:5,fillOpacity:0},C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/s,"s"),values:"0;0;1;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",{cx:27,cy:49.125,r:5,fillOpacity:0},C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/s,"s"),values:"0;0;0;1;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",{cx:11.399,cy:42.663,r:5,fillOpacity:0},C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/s,"s"),values:"0;0;0;0;1;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",{cx:4.938,cy:27.063,r:5,fillOpacity:0},C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/s,"s"),values:"0;0;0;0;0;1;0;0",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",{cx:11.399,cy:11.462,r:5,fillOpacity:0},C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/s,"s"),values:"0;0;0;0;0;0;1;0",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",{cx:27,cy:5,r:5,fillOpacity:0},C.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/s,"s"),values:"0;0;0;0;0;0;0;1",calcMode:"linear",repeatCount:"indefinite"}))))}var as=globalThis&&globalThis.__assign||function(){return as=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},as.apply(this,arguments)};function Lr(t){var e,n,r,i,s,o=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),a=(n=t.stroke)!==null&&n!==void 0?n:"#fff",l=(r=t.strokeWidth)!==null&&r!==void 0?r:2,u=t.strokeOpacity;return C.createElement("svg",as({},as(as({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(i=t.height)!==null&&i!==void 0?i:38,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(s=t.width)!==null&&s!==void 0?s:38}),{viewBox:"0 0 38 38"}),C.createElement("defs",null,C.createElement("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"prefix__a"},C.createElement("stop",{stopOpacity:0,offset:"0%"}),C.createElement("stop",{stopOpacity:.631,offset:"63.146%"}),C.createElement("stop",{offset:"100%"}))),C.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},C.createElement("path",as({d:"M36 18c0-9.94-8.06-18-18-18"},{stroke:a,strokeWidth:l,strokeOpacity:u}),C.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"".concat(.9/o,"s"),repeatCount:"indefinite"})),C.createElement("circle",{cx:36,cy:18,r:1},C.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"".concat(.9/o,"s"),repeatCount:"indefinite"}))))}var nr=globalThis&&globalThis.__assign||function(){return nr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nr.apply(this,arguments)};function A3(t){var e,n,r,i,s=Number(String((e=t.speed)!==null&&e!==void 0?e:1)),o=(n=t.fill)!==null&&n!==void 0?n:"#fff",a=t.stroke,l=t.fillOpacity,u=t.strokeOpacity;return C.createElement("svg",nr({},nr(nr({},t),{className:t.className?"icon-loading ".concat(t.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:(r=t.height)!==null&&r!==void 0?r:30,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:(i=t.width)!==null&&i!==void 0?i:120}),{viewBox:"0 0 120 30"}),C.createElement("circle",nr({cx:15,cy:15,r:15},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"".concat(.8/s,"s"),values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"".concat(.8/s,"s"),values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",nr({cx:60,cy:15,r:9},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"r",from:9,to:9,begin:"0s",dur:"".concat(.8/s,"s"),values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"fill-opacity",from:.5,to:.5,begin:"0s",dur:"".concat(.8/s,"s"),values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),C.createElement("circle",nr({cx:105,cy:15,r:15},{fill:o,stroke:a,fillOpacity:l,strokeOpacity:u}),C.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"".concat(.8/s,"s"),values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),C.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"".concat(.8/s,"s"),values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var D3=C3,M3=k3,L3=x3,F3=_3,$3=b3,V3=I3,U3=P3,j3=N3,B3=R3,z3=O3,H3=Lr,W3=A3,hy={Audio:D3,BallTriangle:M3,Bars:L3,Circles:F3,Grid:$3,Hearts:V3,Oval:U3,Puff:j3,Rings:B3,SpinningCircles:z3,TailSpin:H3,ThreeDots:W3};const q3=t=>{const e=w.useRef("beng"),[n,r]=w.useState({breed:"beng"}),i=a=>{const l={...n,breed:a};r(l)};w.useEffect(()=>{t.getData(n)},[n]);const o=Rm("catBreeds",async()=>(await fetch("https://api.thecatapi.com/v1/breeds")).json(),{refetchOnMount:!0,refetchOnReconnect:!0,retry:!0,refetchIntervalInBackground:!1,refetchInterval:864e5,refetchOnWindowFocus:!1,staleTime:864e5});return F("div",{className:"search-wrapper text-center w-1/2 flex flex-col flex-nowrap items-center",children:[E("div",{className:"search-settings flex flex-row flex-wrap justify-center items-center",children:E("label",{className:"mt-10 mb-4 font-article text-lg",htmlFor:"cat-breed",children:"What cat breed do you want to see?"})}),E("select",{className:"select w-48 bg-dark border-2 border-secondary-white rounded-lg text-center",onChange:()=>{i(e.current.value)},ref:e,value:n.breed,name:"cat-breed",children:o.isFetching?E("option",{value:"",children:"Select"}):o.data.map((a,l)=>E("option",{value:a.id,className:"w-6 h-6 text-left",children:a.name},l))})]})},K3=t=>{const n=Rm("cat-breed",async()=>{const r=`https://api.thecatapi.com/v1/images/search?limit=20&has_breeds=1&breed_id=${t}&api_key=live_fQWtdJC0pMGfAQHsJ8n4uI2yta341h2MTFvktobRWucrqIUz47V0zTjZkCJ2elNF`;return(await fetch(r)).json()},{manual:!0,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1});return w.useEffect(()=>{n.refetch()},[t]),[n.data,n.isFetching,n.isError]},Q3=()=>{const[t,e]=w.useState("beng"),[n,r]=w.useState(!1),[i,s,o]=K3(t),a=u=>{e(u.breed)},l=u=>{r(u)};return w.useEffect(()=>{window.scrollTo(0,0)},[]),F(At,{children:[F(he.div,{id:"cat-breeds",initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},className:"home-page w-full m-none my-16 flex flex-col justify-start items-center font-article text-white",children:[E(ke,{children:n&&E(he.div,{initial:{opacity:0},animate:{opacity:.7},exit:{opacity:0},className:"backdrop w-full h-full fixed flex flex-col bg-black z-10 align-center justify-center items-center"})}),E(q3,{getData:a,searchQuery:i}),E("div",{className:"cat-cards-wrapper w-full h-full flex flex-row flex-wrap items-start content-start justify-center",children:s?F("div",{className:"fixed top-0 bottom-0 loading-wrapper z-10 m-16 flex flex-col items-center justify-center",children:[E(hy.Hearts,{width:"16rem",speed:"3"}),E("span",{className:"loading-text text-base font-bold font-article text-white",children:"Loading..."})]}):i.map(u=>E(cy,{showClicked:l,isFavourite:!1,cat:u},u.url))})]}),E(ke,{children:o&&E(Kt,{notification:"Fetching cat breeds failed!",errorHappened:o})})]})},G3=()=>(w.useEffect(()=>{window.scrollTo(0,0)},[]),E(he.div,{initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},className:"flex flex-col font-article text-center text-white w-96 mt-32 mb-16",children:F("article",{className:"site-description flex flex-col flex-wrap gap-4 bg-dark rounded-lg mx-4 mb-16 p-8 lg:text-xl text-md shadow-lg shadow-black",children:[E("p",{children:"Small React.js project built by Bartosz Tobiński who is a Front-End developer and an ICT student."}),E("p",{children:"Site made for cat lovers and people who want to discover different breeds. It is fetching the cats via usage of the Cat API."}),E("p",{children:"In order to use the site please create an account - it will unlock the option to add cats to favourites."}),E("p",{children:"Project is built in technologies like: ReactJS, ReactQuery, React Router, Tailwind CSS, daisyUI and Firebase."}),E("div",{className:"button-wrapper flex justify-center",children:E("a",{href:"https://www.tobinski.pl",target:"_blank","aria-label":"Go to my portfolio website",className:"btn btn-sm bg-primary text-article text-secondary-white text-xl border-2 border-secondary-white rounded-md transition-all duration-150 hover:border-secondary-white hover:bg-gray-active",children:"Portfolio Website"})})]})})),Y3=(t=!1)=>{const e=w.useContext(rn),[n,r]=w.useState(!1),[i,s]=w.useState([]),[o,a]=w.useState(!1),l=async()=>{var u,c;if(!(((u=e.currentUser)==null?void 0:u.email)==null||((c=e.currentUser)==null?void 0:c.email)==null))try{const h=En(Sn,e.currentUser.email),d=pt(h,"favourites"),f=await ki(d);if(!f.exists()||f.data().favourites==[]){s([]);return}const g=[];f.data().favourites.forEach(v=>g.push(v)),s(g),r(!0)}catch{a(!0);return}};return n||setTimeout(()=>{l()},o?5e3:500),t&&l(),w.useEffect(()=>{l()},[]),[i,n,o]},X3=()=>{const t=w.useContext(rn),[e,n]=w.useState([]),[r,i]=w.useState(!1),[s,o,a]=Y3(r),[l,u]=w.useState(!0),c=w.useRef(),[h,d]=w.useState(!1),[f,g]=w.useState({}),[v,T]=w.useState(!1);o||zm(t,m=>{g(m)});const y=()=>{i(!0),n(s.filter(m=>{var x,b;const S=(x=m==null?void 0:m.breeds[0])==null?void 0:x.name.toLowerCase();return(((b=m==null?void 0:m.customName)==null?void 0:b.toLowerCase())??S??"cute cat").includes(c.current.value.toLowerCase())||(S??"cute cat").includes(c.current.value.toLowerCase())}))},p=m=>{d(m)};return w.useEffect(()=>{window.scrollTo(0,0)},[]),w.useEffect(()=>{o&&e.length==0&&l&&(n(s),u(!1)),a&&(T(!0),setTimeout(()=>{T(!1)},2e3))}),E(At,{children:F(he.div,{initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},className:"favourites-wrapper w-full h-full m-none my-32 flex flex-col justify-center items-center font-article text-white",children:[(f==null?void 0:f.email)!=null||(f==null?void 0:f.email)!=null?F(At,{children:[E(ke,{children:h&&E(he.div,{initial:{top:10,opacity:0},animate:{top:0,opacity:.7},exit:{opacity:0},className:"backdrop w-full h-full fixed flex flex-col bg-black z-10 align-center justify-center items-center"})}),e!=[]&&E("input",{className:"input",ref:c,type:"text",placeholder:"Search for cats",onChange:y}),E("div",{className:"cat-cards-wrapper w-full h-full flex flex-wrap items-start align-start content-start justify-center",children:!o&&e.length!=[]?F("div",{className:"loading-wrapper z-10 m-16 flex flex-col items-center justify-center",children:[E(hy.Hearts,{width:"16rem",speed:"3"}),E("span",{className:"loading-text text-base font-bold font-article text-white",children:"Loading..."})]}):e.length!=0?e.map(m=>E(cy,{showClicked:p,isFavourite:!0,cat:m},m.url)):E("div",{className:"not-loggedin-notification font-bold text-xl underline mt-4",children:E(_i,{to:"/random",children:"No favourite cats found... Add some to favourites!"})})})]}):F("div",{className:"not-loggedin-notification font-bold text-xl flex flex-col justify-center align-center items-center rounded-lg bg-dark p-4 shadow-lg shadow-black text-center mx-4",children:[E("p",{children:"You need to log in to see the favourite cats!"}),E(_i,{className:"underline",to:"/login",children:"Log in here"})]}),v&&E(Kt,{notification:"Error has happened while fetching! Will try again in 5 seconds...",errorHappened:v})]})})},J3=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,s]=w.useState(!1),[o,a]=w.useState(null),[l,u]=w.useState(""),c=w.useRef(null),h=w.useContext(rn);return F(At,{children:[E("input",{type:"checkbox",id:"reset-pass",className:"modal-toggle"}),F("label",{htmlFor:"reset-pass",className:"modal cursor-pointer font-article text-white",children:[F("label",{className:"modal-box relative bg-dark flex flex-col justify-center align-center shadow-md shadow-black",htmlFor:"",children:[E("label",{htmlFor:"reset-pass",className:"close-button btn btn-sm btn-error btn-square bg-primary right-0 top-0 mt-2 mr-2 btn-outline fixed transition-all duration-150 hover:scale-110",children:E("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),F("div",{className:"wrapper flex flex-col justify-center align-center items-center",children:[E("p",{className:"text-3xl font-bold mt-8 text-center",children:"Do you want really want to reset your password?"}),E("input",{className:"input-email input w-full max-w-xs mt-8",ref:c,type:"email",name:"email",required:!0,placeholder:"Email",onChange:()=>{u(c.current.value)}}),E("button",{className:"btn h-min text-center mt-8 text-white bg-green-500 hover:bg-green-700 border-0",onClick:()=>{iT(h,l).then(()=>{e("Email with password reset instructions sent!"),a(null),r(!0),s(!1),setTimeout(()=>{r(!1)},2e3)}).catch(f=>{e("Provide a valid email!"),s(!0),setTimeout(()=>{s(!1)},2e3)})},children:"SEND PASSWORD RESET EMAIL"})]})]}),E(ke,{children:n&&E(Kt,{notification:t,errorHappened:i,icon:o})})]})]})},Z3=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),[o,a]=w.useState(!1),[l,u]=w.useState(""),[c,h]=w.useState(null),d=w.useRef(null),f=w.useRef(null),g=Js(),v=w.useContext(rn),[,T]=w.useContext(Zs),[y,p]=Rh(),m=async()=>{try{const k=await Kv(v,t,n);k!=null&&(s(!0),u("Logged in successfully!"),a(!1),h(E(Lr,{stroke:"#000"})),T(y),setTimeout(()=>{g("/")},1e3))}catch(k){switch(k.code){case"auth/invalid-email":u("Please provide a valid email!");break;case"auth/wrong-password":u("Wrong password!");break;case"auth/user-not-found":u("User not found!");break;default:u("Some errors happened!");break}s(!0),a(!0),d.current.value="",f.current.value="",setTimeout(()=>{s(!1)},2e3)}},S=async()=>{try{const k=await Kv(v,"test@account.com","test123");k!=null&&(s(!0),u("Logged in successfully!"),h(E(Lr,{stroke:"#000"})),T(y),setTimeout(()=>{g("/random")},2e3))}catch{a(!0),u("Some errors happened"),s(!0),setTimeout(()=>{s(!1)},2e3)}};return w.useEffect(()=>{window.scrollTo(0,0)},[]),F(he.div,{initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},className:"flex flex-col justify-center align-center items-center font-article text-white w-32 h-min mb-0 mt-40",children:[F("div",{className:"flex flex-col align-center items-center justify-center text-center",action:"",method:"post",children:[E("div",{className:"username flex flex-col align-center justify-center w-max font-bold",children:E("input",{className:"input-email input w-full max-w-xs",ref:d,type:"email",name:"email",required:!0,placeholder:"Email",onChange:()=>{e(d.current.value)}})}),E("div",{className:"password flex flex-col align-center justify-center w-max mt-8 font-bold",children:E("input",{className:"input-email input w-full max-w-xs",ref:f,type:"password",name:"password",required:!0,placeholder:"Password",onChange:()=>{r(f.current.value)}})}),E("button",{className:"login-button btn bg-primary text-article text-secondary-white text-2xl w-full border-2 border-secondary-white rounded-md transition-all duration-150 hover:border-secondary-white hover:bg-gray-active mt-4",onClick:m,children:"Log in"}),E("button",{className:"login-button btn btn-sm h-min bg-primary text-article text-secondary-white text-xl border-2 border-secondary-white rounded-md transition-all duration-150 hover:border-secondary-white hover:bg-gray-active mt-4",onClick:S,children:"TEST ACCOUNT"})]}),F("div",{className:"register-redirect text-center mt-10",children:["Do not have an account?",E(_i,{to:"/register",children:E("p",{className:"underline",children:"Register here"})})]}),F("div",{className:"register-redirect text-center mt-10",children:["Forgot password?",E("label",{htmlFor:"reset-pass",children:E("p",{className:"underline cursor-pointer",children:"Send reset email here"})})]}),E(ke,{children:i&&E(Kt,{notification:l,icon:c,errorHappened:o})}),E(J3,{})]})},e4=()=>{const t=w.useRef(null),e=w.useRef(null),n=w.useRef(null),[r,i]=w.useState(""),[s,o]=w.useState(!1),[a,l]=w.useState(null),[u,c]=w.useState(!1),[h,d]=w.useState(""),[f,g]=w.useState(""),[v,T]=w.useState(""),[,y]=w.useContext(Zs),[p,m]=Rh(),S=w.useContext(rn),k=Js(),x=async()=>{if(v!=f){d("Passwords do not match!"),c(!0),o(!0),setTimeout(()=>{o(!1)},2e3);return}try{await bR(S,r,f),c(!1),o(!0),l(E(Lr,{stroke:"#000"})),d("User registered successfully!"),y(p),setTimeout(()=>{o(!1),k("/")},1e3)}catch(b){switch(b.code){case"auth/invalid-email":d("Please provide a valid email!");break;case"auth/email-already-in-use":d("Email already in use!");break;case"auth/weak-password":d("Password should be at least 6 characters in length!");break;default:d("Some errors happened!");break}o(!0),c(!0),t.current.value="",e.current.value="",n.current.value="",setTimeout(()=>{o(!1)},2e3)}};return w.useEffect(()=>{window.scrollTo(0,0)},[]),F(he.div,{initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},className:"flex flex-col justify-center align-center items-center font-article text-white w-32 h-min mt-40",children:[E(ke,{children:s&&E(Kt,{notification:h,errorHappened:u,icon:a})}),F("div",{className:"flex flex-col align-center items-center justify-center text-center",action:"",method:"post",children:[E("div",{className:"username flex flex-col align-center justify-center w-max",children:E("input",{className:"input-email input w-full max-w-xs",ref:t,type:"email",name:"email",placeholder:"Email",required:!0,onChange:()=>{i(t.current.value)}})}),E("div",{className:"password flex flex-col align-center justify-center w-max mt-8",children:E("input",{className:"input-password input w-full max-w-xs",ref:e,type:"password",name:"password",placeholder:"Password",required:!0,onChange:()=>{g(e.current.value)}})}),E("div",{className:"confirm-password flex flex-col align-center justify-center w-max mt-8",children:E("input",{className:"input-password-confirm input w-full max-w-xs",ref:n,type:"password",name:"confirm-password",placeholder:"Confirm Password",required:!0,onChange:()=>{T(n.current.value)}})}),E("button",{className:"register-button btn w-full bg-primary text-article text-secondary-white text-2xl border-2 border-secondary-white rounded-md transition-all duration-150 hover:border-secondary-white hover:bg-gray-active mt-4",onClick:x,children:"Register"})]}),F("div",{className:"login-redirect text-center mt-10",children:["Already have an account?",E("button",{className:"login-redirect-button underline text-center",children:E(_i,{to:"/login",children:"Log in here"})})]})]})},t4=({userToDelete:t})=>{const[e,n]=w.useState(""),[r,i]=w.useState(!1),[s,o]=w.useState(!1),[a,l]=w.useState(null),u=Js();return F(At,{children:[E("input",{type:"checkbox",id:"del-acc",className:"modal-toggle"}),F("label",{htmlFor:"del-acc",className:"modal cursor-pointer font-article text-white",children:[F("label",{className:"modal-box relative bg-dark flex flex-col justify-center align-center shadow-md shadow-black",htmlFor:"",children:[E("label",{htmlFor:"del-acc",className:"close-button btn btn-sm btn-error btn-square bg-primary right-0 top-0 mt-2 mr-2 btn-outline fixed transition-all duration-150 hover:scale-110",children:E("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),F("div",{className:"wrapper flex flex-col justify-center align-center items-center",children:[E("p",{className:"text-3xl font-bold mt-8 text-center",children:"Are you sure to delete your account?"}),E("button",{className:"btn text-center mt-8 text-white bg-red-500 hover:bg-red-700 border-0",onClick:async()=>{await(t==null?void 0:t.delete().then(async()=>{const h=En(Sn,t==null?void 0:t.email);[pt(h,"favourites"),pt(h,"profile-picture")].forEach(async f=>{await dc(f)}),n("Deleted user successfully!"),o(!1),l(E(Lr,{stroke:"#000"})),i(!0),setTimeout(()=>{i(!1),u("/login")},2e3)}).catch(h=>{if(h.code=="auth/requires-recent-login"){setErrorIcon(E(Lr,{stroke:"#000"})),o(!0),n("You need to relogin to change email!"),i(!0),setTimeout(()=>{i(!1),u("/login")},2e3);return}i(!0),n("Some errors happened!"),o(!0),setTimeout(()=>{i(!1)},2e3)}))},children:"DELETE ACCOUNT"})]})]}),E(ke,{children:r&&E(Kt,{notification:e,errorHappened:s,icon:a})})]})]})},n4=({userToChange:t})=>{const[e,n]=w.useState(""),[r,i]=w.useState(!1),[s,o]=w.useState(!1),[a,l]=w.useState(null),[u,c]=w.useState(""),h=w.useRef(null),d=w.useContext(rn),f=Js();return F(At,{children:[E("input",{type:"checkbox",id:"change-email",className:"modal-toggle"}),F("label",{htmlFor:"change-email",className:"modal cursor-pointer font-article text-white",children:[F("label",{className:"modal-box relative bg-dark flex flex-col justify-center align-center shadow-md shadow-black",htmlFor:"",children:[E("label",{htmlFor:"change-email",className:"close-button btn btn-sm btn-error btn-square bg-primary right-0 top-0 mt-2 mr-2 btn-outline fixed transition-all duration-150 hover:scale-110",children:E("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),F("div",{className:"wrapper flex flex-col justify-center align-center items-center",children:[E("p",{className:"text-3xl font-bold mt-8 text-center",children:"What email do you want to change to?"}),E("input",{className:"input-email input w-full max-w-xs mt-8",ref:h,type:"email",name:"email",required:!0,placeholder:"Email",onChange:()=>{c(h.current.value)}}),E("button",{className:"btn h-min text-center mt-8 text-white bg-green-500 hover:bg-green-700 border-0",onClick:async()=>{const v=En(Sn,d.currentUser.email),T=pt(v,"favourites"),y=pt(v,"profile-picture"),p=await ki(T),m=await ki(y);if(u==d.currentUser.email){i(!0),n("You are already using that email!"),o(!0),setTimeout(()=>{i(!1)},2e3);return}await IR(t,u).then(async()=>{if(p.data()==null&&m.data()==null){n("Email updated!"),i(!0),setTimeout(()=>{i(!1),window.location.reload()},2e3);return}const S=En(Sn,d.currentUser.email),k=pt(S,"favourites"),x=pt(S,"profile-picture");p.data()!=null&&await cc(k,p.data()),m.data()!=null&&await cc(x,m.data());const b=pt(v,"favourites"),_=pt(v,"profile-picture");await dc(b),await dc(_),n("Email updated!"),i(!0),o(!1),setTimeout(()=>{i(!1),window.location.reload()},2e3)}).catch(S=>{if(S.code=="auth/requires-recent-login"){l(E(Lr,{stroke:"#000"})),i(!0),n("You need to relogin to change email!"),o(!0),setTimeout(()=>{i(!1),f("/login")},2e3);return}i(!0),n("Errors happened while changing the email!"),o(!0),setTimeout(()=>{i(!1)},2e3)})},children:"CHANGE EMAIL"})]})]}),E(ke,{children:r&&E(Kt,{notification:e,errorHappened:s,icon:a},s)})]})]})},r4=({userToChange:t})=>{const[e,n]=w.useState(!1),[r,i]=w.useState(""),[s,o]=w.useState(!1),[a,l]=w.useContext(Zs),u=async()=>{try{const c=En(Sn,t.email),h=pt(c,"profile-picture");await dc(h),n(!0),o(!1),l("NOT FOUND"),i("Profile picture removed successfully!"),setTimeout(()=>{n(!1)},2e3)}catch{n(!0),o(!0),i("Errors happened while removing profile picture!"),setTimeout(()=>{n(!1)},2e3)}};return F(At,{children:[E("input",{type:"checkbox",id:"prof-pic",className:"modal-toggle"}),F("label",{htmlFor:"prof-pic",className:"modal cursor-pointer font-article text-white",children:[F("label",{className:"modal-box relative bg-dark flex flex-col justify-center align-center shadow-md shadow-black",htmlFor:"",children:[E("label",{htmlFor:"prof-pic",className:"close-button btn btn-sm btn-error btn-square bg-primary right-0 top-0 mt-2 mr-2 btn-outline fixed transition-all duration-150 hover:scale-110",children:E("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),F("div",{className:"wrapper flex flex-col justify-center align-center items-center",children:[E("p",{className:"text-3xl font-bold mt-8 text-center",children:"What do you want to do with the profile picture?"}),E(ke,{children:a!="NOT FOUND"?F(he.div,{className:"flex flex-col justify-center items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[E("div",{className:"w-48 h-48 rounded-lg mt-4 border-white border-2",style:{backgroundImage:`url(${a})`,backgroundSize:"cover",backgroundPosition:"center"}}),E("button",{className:"btn h-min text-center mt-8 text-white bg-red-500 hover:bg-red-700 border-0",onClick:u,children:"REMOVE PROFILE PIC"}),E("a",{className:"btn h-min text-center mt-8 text-white bg-green-500 hover:bg-green-700 border-0",href:a,target:"_blank",children:"SEE PROFILE PIC IN FULLSCREEN"})]}):E(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-48 h-48 rounded-lg text-lg border-white border-2 p-3 flex justify-center align-center items-center text-center mt-4",children:"Profile picture removed!"})})]})]}),E(ke,{children:e&&E(Kt,{notification:r,errorHappened:s})})]})]})},i4=()=>{const[t,e]=w.useState({}),[n,r]=Rh(),[i,s]=w.useState(""),[o,a]=w.useState(!1),[l,u]=w.useState(!1),c=Js(),h=w.useContext(rn),[d,f]=w.useState(null),g=()=>{OR(h).then(()=>{s("Signed out successfully!"),u(!1),f(E(Lr,{stroke:"#000"})),a(!0),setTimeout(()=>{a(!1),c("/login")},2e3)}).catch(T=>{s("Some errors happened!"),u(!0),setTimeout(()=>{u(!1)},2e3)})},v=()=>{iT(h,t==null?void 0:t.email).then(()=>{s("Email with password reset instructions sent!"),f(null),a(!0),u(!1),setTimeout(()=>{a(!1)},2e3)}).catch(T=>{a(!0),s("Some errors happened!"),u(!0),setTimeout(()=>{u(!1)},2e3)})};return w.useEffect(()=>{zm(h,T=>{e(T)}),window.scrollTo(0,0)},[]),F(At,{children:[(t==null?void 0:t.email)!=null||(t==null?void 0:t.email)!=null||o||l?F(he.div,{initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},className:"font-article text-white w-auto h-auto mt-32 flex flex-col text-lg font-bold justify-center align-center items-center rounded-lg bg-dark p-4 shadow-lg shadow-black",children:[E("p",{children:"Welcome!"}),E("p",{children:(t==null?void 0:t.email)!=null||(t==null?void 0:t.email)!=null?t==null?void 0:t.email:"Signed out!"}),n!="NOT FOUND"?E("label",{htmlFor:"prof-pic",className:"w-36 h-36 rounded-lg mt-4 border-white border-2 transition-all duration-150 cursor-pointer hover:scale-105",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center"}}):E("div",{className:"w-36 h-36 rounded-lg border-white border-2 p-3 flex justify-center align-center items-center text-center mt-4",children:"No profile picture found!"}),E("button",{className:"btn btn-sm w-full bg-primary text-article text-secondary-white text-xl border-2 border-secondary-white rounded-md transition-all duration-150 hover:border-secondary-white hover:bg-gray-active mt-4",onClick:g,children:"Sign out"}),(t==null?void 0:t.email)!="test@account.com"&&(t==null?void 0:t.email)!=null&&F(At,{children:[E("label",{htmlFor:"del-acc",className:"btn btn-sm w-full bg-primary text-article text-secondary-white text-xl border-2 border-secondary-white rounded-md transition-all duration-150 hover:border-secondary-white hover:bg-gray-active mt-4",children:"Delete Account"}),E("button",{className:"btn btn-sm w-full bg-primary text-article text-secondary-white text-xl border-2 border-secondary-white rounded-md transition-all duration-150 hover:border-secondary-white hover:bg-gray-active mt-4",onClick:v,children:"Change Password"}),E("label",{htmlFor:"change-email",className:"btn btn-sm w-full bg-primary text-article text-secondary-white text-xl border-2 border-secondary-white rounded-md transition-all duration-150 hover:border-secondary-white hover:bg-gray-active mt-4",children:"Change Email"})]})]}):F(he.div,{initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},className:"font-article text-white mt-32 flex flex-col text-lg font-bold justify-center align-center items-center rounded-lg bg-dark p-4 shadow-lg shadow-black",children:[E("span",{children:"You need to log in to view the profile! "}),E("p",{children:t==null?void 0:t.email}),E(_i,{className:"underline",to:"/",children:"Log in here"})]}),E(ke,{children:o&&E(Kt,{notification:i,errorHappened:l,icon:d})}),E(r4,{userToChange:t}),E(t4,{userToDelete:t}),E(n4,{userToChange:t})]})},u1=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!1),s=Rm("cat-random",async()=>(await fetch("https://api.thecatapi.com/v1/images/search?limit=14&api_key=live_fQWtdJC0pMGfAQHsJ8n4uI2yta341h2MTFvktobRWucrqIUz47V0zTjZkCJ2elNF")).json(),{manual:!0,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1}),o=a=>{r(a)};return w.useEffect(()=>{const a=async l=>{const{scrollHeight:u,scrollTop:c,clientHeight:h}=l.target.scrollingElement;if(!s.isFetching&&u-c<=h*1.25){const f=[...(await s.refetch()).data];e(t.concat(f))}};return document.addEventListener("scroll",a),()=>{document.removeEventListener("scroll",a)}}),w.useEffect(()=>{window.scrollTo(0,0),(async l=>{e([]);let u=await s.refetch();e([...u.data])})()},[]),F(At,{children:[F(he.div,{id:"home",initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},className:"home-page w-full m-none my-16 flex flex-col justify-center items-center font-article text-white",style:{height:"110vh"},children:[E(ke,{children:n&&E(he.div,{initial:{top:10,opacity:0},animate:{top:0,opacity:.7},exit:{opacity:0},className:"backdrop w-full h-full fixed flex flex-col bg-black z-10 align-center justify-center items-center"})}),E("p",{className:"scroll-desc mt-16",children:" SCROLL DOWN TO LOAD CATS!"}),E("div",{className:"cat-cards-wrapper w-full h-full flex flex-row flex-wrap items-start align-start content-start justify-center",children:t.map((a,l)=>E(cy,{showClicked:o,cat:a,isFavourite:!1},l))}),s.isFetching&&F("div",{className:"fixed top-0 bottom-0 rounded-lg loading-wrapper m-16 flex flex-col self-center items-center justify-center",children:[E(hy.Hearts,{width:"16rem",speed:"3"}),E("span",{className:"loading-text font-bold font-article text-white",children:"Loading..."})]})]}),E(ke,{children:s.isError&&E(Kt,{notification:"Failed while fetching normal cats!",errorHappened:s.isError})})]})},rn=w.createContext(),Zs=w.createContext([null,()=>{}]);function s4(){const t=new XI,[e,n]=w.useState(null);return E(rn.Provider,{value:So,children:E(l3,{children:E(rP,{client:t,children:E(ke,{mode:"wait",children:E(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"App w-full h-full flex flex-col items-center relative",children:F(Zs.Provider,{value:[e,n],children:[E(y3,{}),E(ke,{mode:"wait",children:F(r3,{children:[E(Tn,{path:"/",element:E(u1,{})}),E(Tn,{path:"/cat_breeds",element:E(Q3,{})}),E(Tn,{path:"/favourites",element:E(X3,{})}),E(Tn,{path:"/about",element:E(G3,{})}),E(Tn,{path:"/login",element:E(Z3,{})}),E(Tn,{path:"/register",element:E(e4,{})}),E(Tn,{path:"/profile",element:E(i4,{})}),E(Tn,{path:"*",element:E(u1,{})})]})})]})})})})})})}const o4=Ud.createRoot(document.getElementById("root"));o4.render(E(C.StrictMode,{children:E(s4,{})}));
